var nT=Object.defineProperty;var oj=e=>{throw TypeError(e)};var sT=(e,t,r)=>t in e?nT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Zo=(e,t,r)=>sT(e,typeof t!="symbol"?t+"":t,r),op=(e,t,r)=>t.has(e)||oj("Cannot "+r);var O=(e,t,r)=>(op(e,t,"read from private field"),r?r.call(e):t.get(e)),ge=(e,t,r)=>t.has(e)?oj("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ae=(e,t,r,n)=>(op(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Pe=(e,t,r)=>(op(e,t,"access private method"),r);var Ju=(e,t,r,n)=>({set _(a){ae(e,t,a,r)},get _(){return O(e,t,n)}});function aT(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function bs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var GS={exports:{}},Cf={},YS={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nu=Symbol.for("react.element"),iT=Symbol.for("react.portal"),lT=Symbol.for("react.fragment"),oT=Symbol.for("react.strict_mode"),cT=Symbol.for("react.profiler"),uT=Symbol.for("react.provider"),dT=Symbol.for("react.context"),mT=Symbol.for("react.forward_ref"),fT=Symbol.for("react.suspense"),hT=Symbol.for("react.memo"),pT=Symbol.for("react.lazy"),cj=Symbol.iterator;function xT(e){return e===null||typeof e!="object"?null:(e=cj&&e[cj]||e["@@iterator"],typeof e=="function"?e:null)}var XS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ZS=Object.assign,JS={};function Do(e,t,r){this.props=e,this.context=t,this.refs=JS,this.updater=r||XS}Do.prototype.isReactComponent={};Do.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Do.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function e2(){}e2.prototype=Do.prototype;function Qy(e,t,r){this.props=e,this.context=t,this.refs=JS,this.updater=r||XS}var Gy=Qy.prototype=new e2;Gy.constructor=Qy;ZS(Gy,Do.prototype);Gy.isPureReactComponent=!0;var uj=Array.isArray,t2=Object.prototype.hasOwnProperty,Yy={current:null},r2={key:!0,ref:!0,__self:!0,__source:!0};function n2(e,t,r){var n,a={},i=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)t2.call(t,n)&&!r2.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:Nu,type:e,key:i,ref:l,props:a,_owner:Yy.current}}function yT(e,t){return{$$typeof:Nu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Xy(e){return typeof e=="object"&&e!==null&&e.$$typeof===Nu}function gT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var dj=/\/+/g;function cp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?gT(""+e.key):t.toString(36)}function Md(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Nu:case iT:l=!0}}if(l)return l=e,a=a(l),e=n===""?"."+cp(l,0):n,uj(a)?(r="",e!=null&&(r=e.replace(dj,"$&/")+"/"),Md(a,t,r,"",function(u){return u})):a!=null&&(Xy(a)&&(a=yT(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(dj,"$&/")+"/")+e)),t.push(a)),1;if(l=0,n=n===""?".":n+":",uj(e))for(var o=0;o<e.length;o++){i=e[o];var c=n+cp(i,o);l+=Md(i,t,r,c,a)}else if(c=xT(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=n+cp(i,o++),l+=Md(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function ed(e,t,r){if(e==null)return e;var n=[],a=0;return Md(e,n,"","",function(i){return t.call(r,i,a++)}),n}function vT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Rr={current:null},Id={transition:null},bT={ReactCurrentDispatcher:Rr,ReactCurrentBatchConfig:Id,ReactCurrentOwner:Yy};function s2(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:ed,forEach:function(e,t,r){ed(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ed(e,function(){t++}),t},toArray:function(e){return ed(e,function(t){return t})||[]},only:function(e){if(!Xy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Te.Component=Do;Te.Fragment=lT;Te.Profiler=cT;Te.PureComponent=Qy;Te.StrictMode=oT;Te.Suspense=fT;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bT;Te.act=s2;Te.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=ZS({},e.props),a=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=Yy.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)t2.call(t,c)&&!r2.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Nu,type:e.type,key:a,ref:i,props:n,_owner:l}};Te.createContext=function(e){return e={$$typeof:dT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:uT,_context:e},e.Consumer=e};Te.createElement=n2;Te.createFactory=function(e){var t=n2.bind(null,e);return t.type=e,t};Te.createRef=function(){return{current:null}};Te.forwardRef=function(e){return{$$typeof:mT,render:e}};Te.isValidElement=Xy;Te.lazy=function(e){return{$$typeof:pT,_payload:{_status:-1,_result:e},_init:vT}};Te.memo=function(e,t){return{$$typeof:hT,type:e,compare:t===void 0?null:t}};Te.startTransition=function(e){var t=Id.transition;Id.transition={};try{e()}finally{Id.transition=t}};Te.unstable_act=s2;Te.useCallback=function(e,t){return Rr.current.useCallback(e,t)};Te.useContext=function(e){return Rr.current.useContext(e)};Te.useDebugValue=function(){};Te.useDeferredValue=function(e){return Rr.current.useDeferredValue(e)};Te.useEffect=function(e,t){return Rr.current.useEffect(e,t)};Te.useId=function(){return Rr.current.useId()};Te.useImperativeHandle=function(e,t,r){return Rr.current.useImperativeHandle(e,t,r)};Te.useInsertionEffect=function(e,t){return Rr.current.useInsertionEffect(e,t)};Te.useLayoutEffect=function(e,t){return Rr.current.useLayoutEffect(e,t)};Te.useMemo=function(e,t){return Rr.current.useMemo(e,t)};Te.useReducer=function(e,t,r){return Rr.current.useReducer(e,t,r)};Te.useRef=function(e){return Rr.current.useRef(e)};Te.useState=function(e){return Rr.current.useState(e)};Te.useSyncExternalStore=function(e,t,r){return Rr.current.useSyncExternalStore(e,t,r)};Te.useTransition=function(){return Rr.current.useTransition()};Te.version="18.3.1";YS.exports=Te;var j=YS.exports;const Ee=bs(j),a2=aT({__proto__:null,default:Ee},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jT=j,wT=Symbol.for("react.element"),NT=Symbol.for("react.fragment"),kT=Object.prototype.hasOwnProperty,ST=jT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,AT={key:!0,ref:!0,__self:!0,__source:!0};function i2(e,t,r){var n,a={},i=null,l=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)kT.call(t,n)&&!AT.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:wT,type:e,key:i,ref:l,props:a,_owner:ST.current}}Cf.Fragment=NT;Cf.jsx=i2;Cf.jsxs=i2;GS.exports=Cf;var s=GS.exports,l2={exports:{}},fn={},o2={exports:{}},c2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,V){var H=M.length;M.push(V);e:for(;0<H;){var se=H-1>>>1,Y=M[se];if(0<a(Y,V))M[se]=V,M[H]=Y,H=se;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var V=M[0],H=M.pop();if(H!==V){M[0]=H;e:for(var se=0,Y=M.length,xe=Y>>>1;se<xe;){var fe=2*(se+1)-1,we=M[fe],rt=fe+1,Dt=M[rt];if(0>a(we,H))rt<Y&&0>a(Dt,we)?(M[se]=Dt,M[rt]=H,se=rt):(M[se]=we,M[fe]=H,se=fe);else if(rt<Y&&0>a(Dt,H))M[se]=Dt,M[rt]=H,se=rt;else break e}}return V}function a(M,V){var H=M.sortIndex-V.sortIndex;return H!==0?H:M.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],u=[],d=1,m=null,f=3,h=!1,p=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(M){for(var V=r(u);V!==null;){if(V.callback===null)n(u);else if(V.startTime<=M)n(u),V.sortIndex=V.expirationTime,t(c,V);else break;V=r(u)}}function w(M){if(y=!1,x(M),!p)if(r(c)!==null)p=!0,q(N);else{var V=r(u);V!==null&&T(w,V.startTime-M)}}function N(M,V){p=!1,y&&(y=!1,v(A),A=-1),h=!0;var H=f;try{for(x(V),m=r(c);m!==null&&(!(m.expirationTime>V)||M&&!D());){var se=m.callback;if(typeof se=="function"){m.callback=null,f=m.priorityLevel;var Y=se(m.expirationTime<=V);V=e.unstable_now(),typeof Y=="function"?m.callback=Y:m===r(c)&&n(c),x(V)}else n(c);m=r(c)}if(m!==null)var xe=!0;else{var fe=r(u);fe!==null&&T(w,fe.startTime-V),xe=!1}return xe}finally{m=null,f=H,h=!1}}var k=!1,S=null,A=-1,P=5,C=-1;function D(){return!(e.unstable_now()-C<P)}function E(){if(S!==null){var M=e.unstable_now();C=M;var V=!0;try{V=S(!0,M)}finally{V?L():(k=!1,S=null)}}else k=!1}var L;if(typeof g=="function")L=function(){g(E)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,I=U.port2;U.port1.onmessage=E,L=function(){I.postMessage(null)}}else L=function(){b(E,0)};function q(M){S=M,k||(k=!0,L())}function T(M,V){A=b(function(){M(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,q(N))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(M){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var H=f;f=V;try{return M()}finally{f=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,V){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var H=f;f=M;try{return V()}finally{f=H}},e.unstable_scheduleCallback=function(M,V,H){var se=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?se+H:se):H=se,M){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=H+Y,M={id:d++,callback:V,priorityLevel:M,startTime:H,expirationTime:Y,sortIndex:-1},H>se?(M.sortIndex=H,t(u,M),r(c)===null&&M===r(u)&&(y?(v(A),A=-1):y=!0,T(w,H-se))):(M.sortIndex=Y,t(c,M),p||h||(p=!0,q(N))),M},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(M){var V=f;return function(){var H=f;f=V;try{return M.apply(this,arguments)}finally{f=H}}}})(c2);o2.exports=c2;var CT=o2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PT=j,cn=CT;function Q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u2=new Set,Lc={};function dl(e,t){oo(e,t),oo(e+"Capture",t)}function oo(e,t){for(Lc[e]=t,e=0;e<t.length;e++)u2.add(t[e])}var Us=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),O0=Object.prototype.hasOwnProperty,ET=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mj={},fj={};function OT(e){return O0.call(fj,e)?!0:O0.call(mj,e)?!1:ET.test(e)?fj[e]=!0:(mj[e]=!0,!1)}function _T(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function TT(e,t,r,n){if(t===null||typeof t>"u"||_T(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Fr(e,t,r,n,a,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var mr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){mr[e]=new Fr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];mr[t]=new Fr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){mr[e]=new Fr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){mr[e]=new Fr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){mr[e]=new Fr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){mr[e]=new Fr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){mr[e]=new Fr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){mr[e]=new Fr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){mr[e]=new Fr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Zy=/[\-:]([a-z])/g;function Jy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Zy,Jy);mr[t]=new Fr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Zy,Jy);mr[t]=new Fr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Zy,Jy);mr[t]=new Fr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){mr[e]=new Fr(e,1,!1,e.toLowerCase(),null,!1,!1)});mr.xlinkHref=new Fr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){mr[e]=new Fr(e,1,!1,e.toLowerCase(),null,!0,!0)});function eg(e,t,r,n){var a=mr.hasOwnProperty(t)?mr[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(TT(t,r,a,n)&&(r=null),n||a===null?OT(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ea=PT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,td=Symbol.for("react.element"),jl=Symbol.for("react.portal"),wl=Symbol.for("react.fragment"),tg=Symbol.for("react.strict_mode"),_0=Symbol.for("react.profiler"),d2=Symbol.for("react.provider"),m2=Symbol.for("react.context"),rg=Symbol.for("react.forward_ref"),T0=Symbol.for("react.suspense"),D0=Symbol.for("react.suspense_list"),ng=Symbol.for("react.memo"),ha=Symbol.for("react.lazy"),f2=Symbol.for("react.offscreen"),hj=Symbol.iterator;function Jo(e){return e===null||typeof e!="object"?null:(e=hj&&e[hj]||e["@@iterator"],typeof e=="function"?e:null)}var St=Object.assign,up;function gc(e){if(up===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);up=t&&t[1]||""}return`
`+up+e}var dp=!1;function mp(e,t){if(!e||dp)return"";dp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),l=a.length-1,o=i.length-1;1<=l&&0<=o&&a[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||a[l]!==i[o]){var c=`
`+a[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{dp=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?gc(e):""}function DT(e){switch(e.tag){case 5:return gc(e.type);case 16:return gc("Lazy");case 13:return gc("Suspense");case 19:return gc("SuspenseList");case 0:case 2:case 15:return e=mp(e.type,!1),e;case 11:return e=mp(e.type.render,!1),e;case 1:return e=mp(e.type,!0),e;default:return""}}function M0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case wl:return"Fragment";case jl:return"Portal";case _0:return"Profiler";case tg:return"StrictMode";case T0:return"Suspense";case D0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case m2:return(e.displayName||"Context")+".Consumer";case d2:return(e._context.displayName||"Context")+".Provider";case rg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ng:return t=e.displayName||null,t!==null?t:M0(e.type)||"Memo";case ha:t=e._payload,e=e._init;try{return M0(e(t))}catch{}}return null}function MT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return M0(t);case 8:return t===tg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Qa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function h2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function IT(e){var t=h2(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(l){n=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function rd(e){e._valueTracker||(e._valueTracker=IT(e))}function p2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=h2(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Jd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function I0(e,t){var r=t.checked;return St({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function pj(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Qa(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function x2(e,t){t=t.checked,t!=null&&eg(e,"checked",t,!1)}function R0(e,t){x2(e,t);var r=Qa(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?F0(e,t.type,r):t.hasOwnProperty("defaultValue")&&F0(e,t.type,Qa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function xj(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function F0(e,t,r){(t!=="number"||Jd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var vc=Array.isArray;function Rl(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Qa(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function L0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Q(91));return St({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yj(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Q(92));if(vc(r)){if(1<r.length)throw Error(Q(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Qa(r)}}function y2(e,t){var r=Qa(t.value),n=Qa(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function gj(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function g2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?g2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var nd,v2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(nd=nd||document.createElement("div"),nd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=nd.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $c(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ac={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RT=["Webkit","ms","Moz","O"];Object.keys(Ac).forEach(function(e){RT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ac[t]=Ac[e]})});function b2(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ac.hasOwnProperty(e)&&Ac[e]?(""+t).trim():t+"px"}function j2(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=b2(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var FT=St({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function B0(e,t){if(t){if(FT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Q(62))}}function z0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var U0=null;function sg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var q0=null,Fl=null,Ll=null;function vj(e){if(e=Au(e)){if(typeof q0!="function")throw Error(Q(280));var t=e.stateNode;t&&(t=Tf(t),q0(e.stateNode,e.type,t))}}function w2(e){Fl?Ll?Ll.push(e):Ll=[e]:Fl=e}function N2(){if(Fl){var e=Fl,t=Ll;if(Ll=Fl=null,vj(e),t)for(e=0;e<t.length;e++)vj(t[e])}}function k2(e,t){return e(t)}function S2(){}var fp=!1;function A2(e,t,r){if(fp)return e(t,r);fp=!0;try{return k2(e,t,r)}finally{fp=!1,(Fl!==null||Ll!==null)&&(S2(),N2())}}function Bc(e,t){var r=e.stateNode;if(r===null)return null;var n=Tf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Q(231,t,typeof r));return r}var V0=!1;if(Us)try{var ec={};Object.defineProperty(ec,"passive",{get:function(){V0=!0}}),window.addEventListener("test",ec,ec),window.removeEventListener("test",ec,ec)}catch{V0=!1}function LT(e,t,r,n,a,i,l,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Cc=!1,em=null,tm=!1,K0=null,$T={onError:function(e){Cc=!0,em=e}};function BT(e,t,r,n,a,i,l,o,c){Cc=!1,em=null,LT.apply($T,arguments)}function zT(e,t,r,n,a,i,l,o,c){if(BT.apply(this,arguments),Cc){if(Cc){var u=em;Cc=!1,em=null}else throw Error(Q(198));tm||(tm=!0,K0=u)}}function ml(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function C2(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function bj(e){if(ml(e)!==e)throw Error(Q(188))}function UT(e){var t=e.alternate;if(!t){if(t=ml(e),t===null)throw Error(Q(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return bj(a),e;if(i===n)return bj(a),t;i=i.sibling}throw Error(Q(188))}if(r.return!==n.return)r=a,n=i;else{for(var l=!1,o=a.child;o;){if(o===r){l=!0,r=a,n=i;break}if(o===n){l=!0,n=a,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,n=a;break}if(o===n){l=!0,n=i,r=a;break}o=o.sibling}if(!l)throw Error(Q(189))}}if(r.alternate!==n)throw Error(Q(190))}if(r.tag!==3)throw Error(Q(188));return r.stateNode.current===r?e:t}function P2(e){return e=UT(e),e!==null?E2(e):null}function E2(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=E2(e);if(t!==null)return t;e=e.sibling}return null}var O2=cn.unstable_scheduleCallback,jj=cn.unstable_cancelCallback,qT=cn.unstable_shouldYield,VT=cn.unstable_requestPaint,It=cn.unstable_now,KT=cn.unstable_getCurrentPriorityLevel,ag=cn.unstable_ImmediatePriority,_2=cn.unstable_UserBlockingPriority,rm=cn.unstable_NormalPriority,HT=cn.unstable_LowPriority,T2=cn.unstable_IdlePriority,Pf=null,ms=null;function WT(e){if(ms&&typeof ms.onCommitFiberRoot=="function")try{ms.onCommitFiberRoot(Pf,e,void 0,(e.current.flags&128)===128)}catch{}}var Yn=Math.clz32?Math.clz32:YT,QT=Math.log,GT=Math.LN2;function YT(e){return e>>>=0,e===0?32:31-(QT(e)/GT|0)|0}var sd=64,ad=4194304;function bc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function nm(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,l=r&268435455;if(l!==0){var o=l&~a;o!==0?n=bc(o):(i&=l,i!==0&&(n=bc(i)))}else l=r&~a,l!==0?n=bc(l):i!==0&&(n=bc(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Yn(t),a=1<<r,n|=e[r],t&=~a;return n}function XT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZT(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-Yn(i),o=1<<l,c=a[l];c===-1?(!(o&r)||o&n)&&(a[l]=XT(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function H0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function D2(){var e=sd;return sd<<=1,!(sd&4194240)&&(sd=64),e}function hp(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ku(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Yn(t),e[t]=r}function JT(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Yn(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function ig(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Yn(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Xe=0;function M2(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var I2,lg,R2,F2,L2,W0=!1,id=[],Ia=null,Ra=null,Fa=null,zc=new Map,Uc=new Map,ga=[],e5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wj(e,t){switch(e){case"focusin":case"focusout":Ia=null;break;case"dragenter":case"dragleave":Ra=null;break;case"mouseover":case"mouseout":Fa=null;break;case"pointerover":case"pointerout":zc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uc.delete(t.pointerId)}}function tc(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Au(t),t!==null&&lg(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function t5(e,t,r,n,a){switch(t){case"focusin":return Ia=tc(Ia,e,t,r,n,a),!0;case"dragenter":return Ra=tc(Ra,e,t,r,n,a),!0;case"mouseover":return Fa=tc(Fa,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return zc.set(i,tc(zc.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Uc.set(i,tc(Uc.get(i)||null,e,t,r,n,a)),!0}return!1}function $2(e){var t=ji(e.target);if(t!==null){var r=ml(t);if(r!==null){if(t=r.tag,t===13){if(t=C2(r),t!==null){e.blockedOn=t,L2(e.priority,function(){R2(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Q0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);U0=n,r.target.dispatchEvent(n),U0=null}else return t=Au(r),t!==null&&lg(t),e.blockedOn=r,!1;t.shift()}return!0}function Nj(e,t,r){Rd(e)&&r.delete(t)}function r5(){W0=!1,Ia!==null&&Rd(Ia)&&(Ia=null),Ra!==null&&Rd(Ra)&&(Ra=null),Fa!==null&&Rd(Fa)&&(Fa=null),zc.forEach(Nj),Uc.forEach(Nj)}function rc(e,t){e.blockedOn===t&&(e.blockedOn=null,W0||(W0=!0,cn.unstable_scheduleCallback(cn.unstable_NormalPriority,r5)))}function qc(e){function t(a){return rc(a,e)}if(0<id.length){rc(id[0],e);for(var r=1;r<id.length;r++){var n=id[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ia!==null&&rc(Ia,e),Ra!==null&&rc(Ra,e),Fa!==null&&rc(Fa,e),zc.forEach(t),Uc.forEach(t),r=0;r<ga.length;r++)n=ga[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ga.length&&(r=ga[0],r.blockedOn===null);)$2(r),r.blockedOn===null&&ga.shift()}var $l=ea.ReactCurrentBatchConfig,sm=!0;function n5(e,t,r,n){var a=Xe,i=$l.transition;$l.transition=null;try{Xe=1,og(e,t,r,n)}finally{Xe=a,$l.transition=i}}function s5(e,t,r,n){var a=Xe,i=$l.transition;$l.transition=null;try{Xe=4,og(e,t,r,n)}finally{Xe=a,$l.transition=i}}function og(e,t,r,n){if(sm){var a=Q0(e,t,r,n);if(a===null)kp(e,t,n,am,r),wj(e,n);else if(t5(a,e,t,r,n))n.stopPropagation();else if(wj(e,n),t&4&&-1<e5.indexOf(e)){for(;a!==null;){var i=Au(a);if(i!==null&&I2(i),i=Q0(e,t,r,n),i===null&&kp(e,t,n,am,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else kp(e,t,n,null,r)}}var am=null;function Q0(e,t,r,n){if(am=null,e=sg(n),e=ji(e),e!==null)if(t=ml(e),t===null)e=null;else if(r=t.tag,r===13){if(e=C2(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return am=e,null}function B2(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KT()){case ag:return 1;case _2:return 4;case rm:case HT:return 16;case T2:return 536870912;default:return 16}default:return 16}}var _a=null,cg=null,Fd=null;function z2(){if(Fd)return Fd;var e,t=cg,r=t.length,n,a="value"in _a?_a.value:_a.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===a[i-n];n++);return Fd=a.slice(e,1<n?1-n:void 0)}function Ld(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ld(){return!0}function kj(){return!1}function hn(e){function t(r,n,a,i,l){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ld:kj,this.isPropagationStopped=kj,this}return St(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ld)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ld)},persist:function(){},isPersistent:ld}),t}var Mo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ug=hn(Mo),Su=St({},Mo,{view:0,detail:0}),a5=hn(Su),pp,xp,nc,Ef=St({},Su,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nc&&(nc&&e.type==="mousemove"?(pp=e.screenX-nc.screenX,xp=e.screenY-nc.screenY):xp=pp=0,nc=e),pp)},movementY:function(e){return"movementY"in e?e.movementY:xp}}),Sj=hn(Ef),i5=St({},Ef,{dataTransfer:0}),l5=hn(i5),o5=St({},Su,{relatedTarget:0}),yp=hn(o5),c5=St({},Mo,{animationName:0,elapsedTime:0,pseudoElement:0}),u5=hn(c5),d5=St({},Mo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),m5=hn(d5),f5=St({},Mo,{data:0}),Aj=hn(f5),h5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},p5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},x5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function y5(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=x5[e])?!!t[e]:!1}function dg(){return y5}var g5=St({},Su,{key:function(e){if(e.key){var t=h5[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ld(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?p5[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dg,charCode:function(e){return e.type==="keypress"?Ld(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ld(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),v5=hn(g5),b5=St({},Ef,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cj=hn(b5),j5=St({},Su,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dg}),w5=hn(j5),N5=St({},Mo,{propertyName:0,elapsedTime:0,pseudoElement:0}),k5=hn(N5),S5=St({},Ef,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),A5=hn(S5),C5=[9,13,27,32],mg=Us&&"CompositionEvent"in window,Pc=null;Us&&"documentMode"in document&&(Pc=document.documentMode);var P5=Us&&"TextEvent"in window&&!Pc,U2=Us&&(!mg||Pc&&8<Pc&&11>=Pc),Pj=" ",Ej=!1;function q2(e,t){switch(e){case"keyup":return C5.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function V2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nl=!1;function E5(e,t){switch(e){case"compositionend":return V2(t);case"keypress":return t.which!==32?null:(Ej=!0,Pj);case"textInput":return e=t.data,e===Pj&&Ej?null:e;default:return null}}function O5(e,t){if(Nl)return e==="compositionend"||!mg&&q2(e,t)?(e=z2(),Fd=cg=_a=null,Nl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return U2&&t.locale!=="ko"?null:t.data;default:return null}}var _5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oj(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_5[e.type]:t==="textarea"}function K2(e,t,r,n){w2(n),t=im(t,"onChange"),0<t.length&&(r=new ug("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ec=null,Vc=null;function T5(e){rA(e,0)}function Of(e){var t=Al(e);if(p2(t))return e}function D5(e,t){if(e==="change")return t}var H2=!1;if(Us){var gp;if(Us){var vp="oninput"in document;if(!vp){var _j=document.createElement("div");_j.setAttribute("oninput","return;"),vp=typeof _j.oninput=="function"}gp=vp}else gp=!1;H2=gp&&(!document.documentMode||9<document.documentMode)}function Tj(){Ec&&(Ec.detachEvent("onpropertychange",W2),Vc=Ec=null)}function W2(e){if(e.propertyName==="value"&&Of(Vc)){var t=[];K2(t,Vc,e,sg(e)),A2(T5,t)}}function M5(e,t,r){e==="focusin"?(Tj(),Ec=t,Vc=r,Ec.attachEvent("onpropertychange",W2)):e==="focusout"&&Tj()}function I5(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Of(Vc)}function R5(e,t){if(e==="click")return Of(t)}function F5(e,t){if(e==="input"||e==="change")return Of(t)}function L5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zn=typeof Object.is=="function"?Object.is:L5;function Kc(e,t){if(Zn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!O0.call(t,a)||!Zn(e[a],t[a]))return!1}return!0}function Dj(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mj(e,t){var r=Dj(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Dj(r)}}function Q2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Q2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function G2(){for(var e=window,t=Jd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Jd(e.document)}return t}function fg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $5(e){var t=G2(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Q2(r.ownerDocument.documentElement,r)){if(n!==null&&fg(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=Mj(r,i);var l=Mj(r,n);a&&l&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var B5=Us&&"documentMode"in document&&11>=document.documentMode,kl=null,G0=null,Oc=null,Y0=!1;function Ij(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Y0||kl==null||kl!==Jd(n)||(n=kl,"selectionStart"in n&&fg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Oc&&Kc(Oc,n)||(Oc=n,n=im(G0,"onSelect"),0<n.length&&(t=new ug("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=kl)))}function od(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Sl={animationend:od("Animation","AnimationEnd"),animationiteration:od("Animation","AnimationIteration"),animationstart:od("Animation","AnimationStart"),transitionend:od("Transition","TransitionEnd")},bp={},Y2={};Us&&(Y2=document.createElement("div").style,"AnimationEvent"in window||(delete Sl.animationend.animation,delete Sl.animationiteration.animation,delete Sl.animationstart.animation),"TransitionEvent"in window||delete Sl.transitionend.transition);function _f(e){if(bp[e])return bp[e];if(!Sl[e])return e;var t=Sl[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Y2)return bp[e]=t[r];return e}var X2=_f("animationend"),Z2=_f("animationiteration"),J2=_f("animationstart"),eA=_f("transitionend"),tA=new Map,Rj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ai(e,t){tA.set(e,t),dl(t,[e])}for(var jp=0;jp<Rj.length;jp++){var wp=Rj[jp],z5=wp.toLowerCase(),U5=wp[0].toUpperCase()+wp.slice(1);ai(z5,"on"+U5)}ai(X2,"onAnimationEnd");ai(Z2,"onAnimationIteration");ai(J2,"onAnimationStart");ai("dblclick","onDoubleClick");ai("focusin","onFocus");ai("focusout","onBlur");ai(eA,"onTransitionEnd");oo("onMouseEnter",["mouseout","mouseover"]);oo("onMouseLeave",["mouseout","mouseover"]);oo("onPointerEnter",["pointerout","pointerover"]);oo("onPointerLeave",["pointerout","pointerover"]);dl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dl("onBeforeInput",["compositionend","keypress","textInput","paste"]);dl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q5=new Set("cancel close invalid load scroll toggle".split(" ").concat(jc));function Fj(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,zT(n,t,void 0,e),e.currentTarget=null}function rA(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;Fj(a,o,u),i=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;Fj(a,o,u),i=c}}}if(tm)throw e=K0,tm=!1,K0=null,e}function ct(e,t){var r=t[tx];r===void 0&&(r=t[tx]=new Set);var n=e+"__bubble";r.has(n)||(nA(t,e,2,!1),r.add(n))}function Np(e,t,r){var n=0;t&&(n|=4),nA(r,e,n,t)}var cd="_reactListening"+Math.random().toString(36).slice(2);function Hc(e){if(!e[cd]){e[cd]=!0,u2.forEach(function(r){r!=="selectionchange"&&(q5.has(r)||Np(r,!1,e),Np(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cd]||(t[cd]=!0,Np("selectionchange",!1,t))}}function nA(e,t,r,n){switch(B2(t)){case 1:var a=n5;break;case 4:a=s5;break;default:a=og}r=a.bind(null,t,r,e),a=void 0,!V0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function kp(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;l=l.return}for(;o!==null;){if(l=ji(o),l===null)return;if(c=l.tag,c===5||c===6){n=i=l;continue e}o=o.parentNode}}n=n.return}A2(function(){var u=i,d=sg(r),m=[];e:{var f=tA.get(e);if(f!==void 0){var h=ug,p=e;switch(e){case"keypress":if(Ld(r)===0)break e;case"keydown":case"keyup":h=v5;break;case"focusin":p="focus",h=yp;break;case"focusout":p="blur",h=yp;break;case"beforeblur":case"afterblur":h=yp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Sj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=l5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=w5;break;case X2:case Z2:case J2:h=u5;break;case eA:h=k5;break;case"scroll":h=a5;break;case"wheel":h=A5;break;case"copy":case"cut":case"paste":h=m5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Cj}var y=(t&4)!==0,b=!y&&e==="scroll",v=y?f!==null?f+"Capture":null:f;y=[];for(var g=u,x;g!==null;){x=g;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,v!==null&&(w=Bc(g,v),w!=null&&y.push(Wc(g,w,x)))),b)break;g=g.return}0<y.length&&(f=new h(f,p,null,r,d),m.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",f&&r!==U0&&(p=r.relatedTarget||r.fromElement)&&(ji(p)||p[qs]))break e;if((h||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=r.relatedTarget||r.toElement,h=u,p=p?ji(p):null,p!==null&&(b=ml(p),p!==b||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=u),h!==p)){if(y=Sj,w="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=Cj,w="onPointerLeave",v="onPointerEnter",g="pointer"),b=h==null?f:Al(h),x=p==null?f:Al(p),f=new y(w,g+"leave",h,r,d),f.target=b,f.relatedTarget=x,w=null,ji(d)===u&&(y=new y(v,g+"enter",p,r,d),y.target=x,y.relatedTarget=b,w=y),b=w,h&&p)t:{for(y=h,v=p,g=0,x=y;x;x=yl(x))g++;for(x=0,w=v;w;w=yl(w))x++;for(;0<g-x;)y=yl(y),g--;for(;0<x-g;)v=yl(v),x--;for(;g--;){if(y===v||v!==null&&y===v.alternate)break t;y=yl(y),v=yl(v)}y=null}else y=null;h!==null&&Lj(m,f,h,y,!1),p!==null&&b!==null&&Lj(m,b,p,y,!0)}}e:{if(f=u?Al(u):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var N=D5;else if(Oj(f))if(H2)N=F5;else{N=I5;var k=M5}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=R5);if(N&&(N=N(e,u))){K2(m,N,r,d);break e}k&&k(e,f,u),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&F0(f,"number",f.value)}switch(k=u?Al(u):window,e){case"focusin":(Oj(k)||k.contentEditable==="true")&&(kl=k,G0=u,Oc=null);break;case"focusout":Oc=G0=kl=null;break;case"mousedown":Y0=!0;break;case"contextmenu":case"mouseup":case"dragend":Y0=!1,Ij(m,r,d);break;case"selectionchange":if(B5)break;case"keydown":case"keyup":Ij(m,r,d)}var S;if(mg)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Nl?q2(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(U2&&r.locale!=="ko"&&(Nl||A!=="onCompositionStart"?A==="onCompositionEnd"&&Nl&&(S=z2()):(_a=d,cg="value"in _a?_a.value:_a.textContent,Nl=!0)),k=im(u,A),0<k.length&&(A=new Aj(A,e,null,r,d),m.push({event:A,listeners:k}),S?A.data=S:(S=V2(r),S!==null&&(A.data=S)))),(S=P5?E5(e,r):O5(e,r))&&(u=im(u,"onBeforeInput"),0<u.length&&(d=new Aj("onBeforeInput","beforeinput",null,r,d),m.push({event:d,listeners:u}),d.data=S))}rA(m,t)})}function Wc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function im(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Bc(e,r),i!=null&&n.unshift(Wc(e,i,a)),i=Bc(e,t),i!=null&&n.push(Wc(e,i,a))),e=e.return}return n}function yl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Lj(e,t,r,n,a){for(var i=t._reactName,l=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,a?(c=Bc(r,i),c!=null&&l.unshift(Wc(r,c,o))):a||(c=Bc(r,i),c!=null&&l.push(Wc(r,c,o)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var V5=/\r\n?/g,K5=/\u0000|\uFFFD/g;function $j(e){return(typeof e=="string"?e:""+e).replace(V5,`
`).replace(K5,"")}function ud(e,t,r){if(t=$j(t),$j(e)!==t&&r)throw Error(Q(425))}function lm(){}var X0=null,Z0=null;function J0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ex=typeof setTimeout=="function"?setTimeout:void 0,H5=typeof clearTimeout=="function"?clearTimeout:void 0,Bj=typeof Promise=="function"?Promise:void 0,W5=typeof queueMicrotask=="function"?queueMicrotask:typeof Bj<"u"?function(e){return Bj.resolve(null).then(e).catch(Q5)}:ex;function Q5(e){setTimeout(function(){throw e})}function Sp(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),qc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);qc(t)}function La(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zj(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Io=Math.random().toString(36).slice(2),cs="__reactFiber$"+Io,Qc="__reactProps$"+Io,qs="__reactContainer$"+Io,tx="__reactEvents$"+Io,G5="__reactListeners$"+Io,Y5="__reactHandles$"+Io;function ji(e){var t=e[cs];if(t)return t;for(var r=e.parentNode;r;){if(t=r[qs]||r[cs]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=zj(e);e!==null;){if(r=e[cs])return r;e=zj(e)}return t}e=r,r=e.parentNode}return null}function Au(e){return e=e[cs]||e[qs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Al(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Q(33))}function Tf(e){return e[Qc]||null}var rx=[],Cl=-1;function ii(e){return{current:e}}function dt(e){0>Cl||(e.current=rx[Cl],rx[Cl]=null,Cl--)}function at(e,t){Cl++,rx[Cl]=e.current,e.current=t}var Ga={},kr=ii(Ga),Hr=ii(!1),Qi=Ga;function co(e,t){var r=e.type.contextTypes;if(!r)return Ga;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Wr(e){return e=e.childContextTypes,e!=null}function om(){dt(Hr),dt(kr)}function Uj(e,t,r){if(kr.current!==Ga)throw Error(Q(168));at(kr,t),at(Hr,r)}function sA(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Q(108,MT(e)||"Unknown",a));return St({},r,n)}function cm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ga,Qi=kr.current,at(kr,e),at(Hr,Hr.current),!0}function qj(e,t,r){var n=e.stateNode;if(!n)throw Error(Q(169));r?(e=sA(e,t,Qi),n.__reactInternalMemoizedMergedChildContext=e,dt(Hr),dt(kr),at(kr,e)):dt(Hr),at(Hr,r)}var As=null,Df=!1,Ap=!1;function aA(e){As===null?As=[e]:As.push(e)}function X5(e){Df=!0,aA(e)}function li(){if(!Ap&&As!==null){Ap=!0;var e=0,t=Xe;try{var r=As;for(Xe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}As=null,Df=!1}catch(a){throw As!==null&&(As=As.slice(e+1)),O2(ag,li),a}finally{Xe=t,Ap=!1}}return null}var Pl=[],El=0,um=null,dm=0,wn=[],Nn=0,Gi=null,Ts=1,Ds="";function xi(e,t){Pl[El++]=dm,Pl[El++]=um,um=e,dm=t}function iA(e,t,r){wn[Nn++]=Ts,wn[Nn++]=Ds,wn[Nn++]=Gi,Gi=e;var n=Ts;e=Ds;var a=32-Yn(n)-1;n&=~(1<<a),r+=1;var i=32-Yn(t)+a;if(30<i){var l=a-a%5;i=(n&(1<<l)-1).toString(32),n>>=l,a-=l,Ts=1<<32-Yn(t)+a|r<<a|n,Ds=i+e}else Ts=1<<i|r<<a|n,Ds=e}function hg(e){e.return!==null&&(xi(e,1),iA(e,1,0))}function pg(e){for(;e===um;)um=Pl[--El],Pl[El]=null,dm=Pl[--El],Pl[El]=null;for(;e===Gi;)Gi=wn[--Nn],wn[Nn]=null,Ds=wn[--Nn],wn[Nn]=null,Ts=wn[--Nn],wn[Nn]=null}var ln=null,an=null,xt=!1,Kn=null;function lA(e,t){var r=Cn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Vj(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ln=e,an=La(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ln=e,an=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Gi!==null?{id:Ts,overflow:Ds}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Cn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ln=e,an=null,!0):!1;default:return!1}}function nx(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sx(e){if(xt){var t=an;if(t){var r=t;if(!Vj(e,t)){if(nx(e))throw Error(Q(418));t=La(r.nextSibling);var n=ln;t&&Vj(e,t)?lA(n,r):(e.flags=e.flags&-4097|2,xt=!1,ln=e)}}else{if(nx(e))throw Error(Q(418));e.flags=e.flags&-4097|2,xt=!1,ln=e}}}function Kj(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ln=e}function dd(e){if(e!==ln)return!1;if(!xt)return Kj(e),xt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!J0(e.type,e.memoizedProps)),t&&(t=an)){if(nx(e))throw oA(),Error(Q(418));for(;t;)lA(e,t),t=La(t.nextSibling)}if(Kj(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){an=La(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}an=null}}else an=ln?La(e.stateNode.nextSibling):null;return!0}function oA(){for(var e=an;e;)e=La(e.nextSibling)}function uo(){an=ln=null,xt=!1}function xg(e){Kn===null?Kn=[e]:Kn.push(e)}var Z5=ea.ReactCurrentBatchConfig;function sc(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Q(309));var n=r.stateNode}if(!n)throw Error(Q(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=a.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(Q(284));if(!r._owner)throw Error(Q(290,e))}return e}function md(e,t){throw e=Object.prototype.toString.call(t),Error(Q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Hj(e){var t=e._init;return t(e._payload)}function cA(e){function t(v,g){if(e){var x=v.deletions;x===null?(v.deletions=[g],v.flags|=16):x.push(g)}}function r(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function n(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function a(v,g){return v=Ua(v,g),v.index=0,v.sibling=null,v}function i(v,g,x){return v.index=x,e?(x=v.alternate,x!==null?(x=x.index,x<g?(v.flags|=2,g):x):(v.flags|=2,g)):(v.flags|=1048576,g)}function l(v){return e&&v.alternate===null&&(v.flags|=2),v}function o(v,g,x,w){return g===null||g.tag!==6?(g=Dp(x,v.mode,w),g.return=v,g):(g=a(g,x),g.return=v,g)}function c(v,g,x,w){var N=x.type;return N===wl?d(v,g,x.props.children,w,x.key):g!==null&&(g.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ha&&Hj(N)===g.type)?(w=a(g,x.props),w.ref=sc(v,g,x),w.return=v,w):(w=Kd(x.type,x.key,x.props,null,v.mode,w),w.ref=sc(v,g,x),w.return=v,w)}function u(v,g,x,w){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=Mp(x,v.mode,w),g.return=v,g):(g=a(g,x.children||[]),g.return=v,g)}function d(v,g,x,w,N){return g===null||g.tag!==7?(g=zi(x,v.mode,w,N),g.return=v,g):(g=a(g,x),g.return=v,g)}function m(v,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Dp(""+g,v.mode,x),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case td:return x=Kd(g.type,g.key,g.props,null,v.mode,x),x.ref=sc(v,null,g),x.return=v,x;case jl:return g=Mp(g,v.mode,x),g.return=v,g;case ha:var w=g._init;return m(v,w(g._payload),x)}if(vc(g)||Jo(g))return g=zi(g,v.mode,x,null),g.return=v,g;md(v,g)}return null}function f(v,g,x,w){var N=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return N!==null?null:o(v,g,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case td:return x.key===N?c(v,g,x,w):null;case jl:return x.key===N?u(v,g,x,w):null;case ha:return N=x._init,f(v,g,N(x._payload),w)}if(vc(x)||Jo(x))return N!==null?null:d(v,g,x,w,null);md(v,x)}return null}function h(v,g,x,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return v=v.get(x)||null,o(g,v,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case td:return v=v.get(w.key===null?x:w.key)||null,c(g,v,w,N);case jl:return v=v.get(w.key===null?x:w.key)||null,u(g,v,w,N);case ha:var k=w._init;return h(v,g,x,k(w._payload),N)}if(vc(w)||Jo(w))return v=v.get(x)||null,d(g,v,w,N,null);md(g,w)}return null}function p(v,g,x,w){for(var N=null,k=null,S=g,A=g=0,P=null;S!==null&&A<x.length;A++){S.index>A?(P=S,S=null):P=S.sibling;var C=f(v,S,x[A],w);if(C===null){S===null&&(S=P);break}e&&S&&C.alternate===null&&t(v,S),g=i(C,g,A),k===null?N=C:k.sibling=C,k=C,S=P}if(A===x.length)return r(v,S),xt&&xi(v,A),N;if(S===null){for(;A<x.length;A++)S=m(v,x[A],w),S!==null&&(g=i(S,g,A),k===null?N=S:k.sibling=S,k=S);return xt&&xi(v,A),N}for(S=n(v,S);A<x.length;A++)P=h(S,v,A,x[A],w),P!==null&&(e&&P.alternate!==null&&S.delete(P.key===null?A:P.key),g=i(P,g,A),k===null?N=P:k.sibling=P,k=P);return e&&S.forEach(function(D){return t(v,D)}),xt&&xi(v,A),N}function y(v,g,x,w){var N=Jo(x);if(typeof N!="function")throw Error(Q(150));if(x=N.call(x),x==null)throw Error(Q(151));for(var k=N=null,S=g,A=g=0,P=null,C=x.next();S!==null&&!C.done;A++,C=x.next()){S.index>A?(P=S,S=null):P=S.sibling;var D=f(v,S,C.value,w);if(D===null){S===null&&(S=P);break}e&&S&&D.alternate===null&&t(v,S),g=i(D,g,A),k===null?N=D:k.sibling=D,k=D,S=P}if(C.done)return r(v,S),xt&&xi(v,A),N;if(S===null){for(;!C.done;A++,C=x.next())C=m(v,C.value,w),C!==null&&(g=i(C,g,A),k===null?N=C:k.sibling=C,k=C);return xt&&xi(v,A),N}for(S=n(v,S);!C.done;A++,C=x.next())C=h(S,v,A,C.value,w),C!==null&&(e&&C.alternate!==null&&S.delete(C.key===null?A:C.key),g=i(C,g,A),k===null?N=C:k.sibling=C,k=C);return e&&S.forEach(function(E){return t(v,E)}),xt&&xi(v,A),N}function b(v,g,x,w){if(typeof x=="object"&&x!==null&&x.type===wl&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case td:e:{for(var N=x.key,k=g;k!==null;){if(k.key===N){if(N=x.type,N===wl){if(k.tag===7){r(v,k.sibling),g=a(k,x.props.children),g.return=v,v=g;break e}}else if(k.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ha&&Hj(N)===k.type){r(v,k.sibling),g=a(k,x.props),g.ref=sc(v,k,x),g.return=v,v=g;break e}r(v,k);break}else t(v,k);k=k.sibling}x.type===wl?(g=zi(x.props.children,v.mode,w,x.key),g.return=v,v=g):(w=Kd(x.type,x.key,x.props,null,v.mode,w),w.ref=sc(v,g,x),w.return=v,v=w)}return l(v);case jl:e:{for(k=x.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){r(v,g.sibling),g=a(g,x.children||[]),g.return=v,v=g;break e}else{r(v,g);break}else t(v,g);g=g.sibling}g=Mp(x,v.mode,w),g.return=v,v=g}return l(v);case ha:return k=x._init,b(v,g,k(x._payload),w)}if(vc(x))return p(v,g,x,w);if(Jo(x))return y(v,g,x,w);md(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(r(v,g.sibling),g=a(g,x),g.return=v,v=g):(r(v,g),g=Dp(x,v.mode,w),g.return=v,v=g),l(v)):r(v,g)}return b}var mo=cA(!0),uA=cA(!1),mm=ii(null),fm=null,Ol=null,yg=null;function gg(){yg=Ol=fm=null}function vg(e){var t=mm.current;dt(mm),e._currentValue=t}function ax(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Bl(e,t){fm=e,yg=Ol=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qr=!0),e.firstContext=null)}function Tn(e){var t=e._currentValue;if(yg!==e)if(e={context:e,memoizedValue:t,next:null},Ol===null){if(fm===null)throw Error(Q(308));Ol=e,fm.dependencies={lanes:0,firstContext:e}}else Ol=Ol.next=e;return t}var wi=null;function bg(e){wi===null?wi=[e]:wi.push(e)}function dA(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,bg(t)):(r.next=a.next,a.next=r),t.interleaved=r,Vs(e,n)}function Vs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var pa=!1;function jg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mA(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $a(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ie&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Vs(e,r)}return a=n.interleaved,a===null?(t.next=t,bg(n)):(t.next=a.next,a.next=t),n.interleaved=t,Vs(e,r)}function $d(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ig(e,r)}}function Wj(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function hm(e,t,r,n){var a=e.updateQueue;pa=!1;var i=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,u=c.next;c.next=null,l===null?i=u:l.next=u,l=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==l&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(i!==null){var m=a.baseState;l=0,d=u=c=null,o=i;do{var f=o.lane,h=o.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,y=o;switch(f=t,h=r,y.tag){case 1:if(p=y.payload,typeof p=="function"){m=p.call(h,m,f);break e}m=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,f=typeof p=="function"?p.call(h,m,f):p,f==null)break e;m=St({},m,f);break e;case 2:pa=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[o]:f.push(o))}else h={eventTime:h,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=h,c=m):d=d.next=h,l|=f;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;f=o,o=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(d===null&&(c=m),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do l|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Xi|=l,e.lanes=l,e.memoizedState=m}}function Qj(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Q(191,a));a.call(n)}}}var Cu={},fs=ii(Cu),Gc=ii(Cu),Yc=ii(Cu);function Ni(e){if(e===Cu)throw Error(Q(174));return e}function wg(e,t){switch(at(Yc,t),at(Gc,e),at(fs,Cu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$0(t,e)}dt(fs),at(fs,t)}function fo(){dt(fs),dt(Gc),dt(Yc)}function fA(e){Ni(Yc.current);var t=Ni(fs.current),r=$0(t,e.type);t!==r&&(at(Gc,e),at(fs,r))}function Ng(e){Gc.current===e&&(dt(fs),dt(Gc))}var jt=ii(0);function pm(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Cp=[];function kg(){for(var e=0;e<Cp.length;e++)Cp[e]._workInProgressVersionPrimary=null;Cp.length=0}var Bd=ea.ReactCurrentDispatcher,Pp=ea.ReactCurrentBatchConfig,Yi=0,wt=null,Wt=null,rr=null,xm=!1,_c=!1,Xc=0,J5=0;function yr(){throw Error(Q(321))}function Sg(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Zn(e[r],t[r]))return!1;return!0}function Ag(e,t,r,n,a,i){if(Yi=i,wt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bd.current=e===null||e.memoizedState===null?n6:s6,e=r(n,a),_c){i=0;do{if(_c=!1,Xc=0,25<=i)throw Error(Q(301));i+=1,rr=Wt=null,t.updateQueue=null,Bd.current=a6,e=r(n,a)}while(_c)}if(Bd.current=ym,t=Wt!==null&&Wt.next!==null,Yi=0,rr=Wt=wt=null,xm=!1,t)throw Error(Q(300));return e}function Cg(){var e=Xc!==0;return Xc=0,e}function ss(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rr===null?wt.memoizedState=rr=e:rr=rr.next=e,rr}function Dn(){if(Wt===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var t=rr===null?wt.memoizedState:rr.next;if(t!==null)rr=t,Wt=e;else{if(e===null)throw Error(Q(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},rr===null?wt.memoizedState=rr=e:rr=rr.next=e}return rr}function Zc(e,t){return typeof t=="function"?t(e):t}function Ep(e){var t=Dn(),r=t.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=e;var n=Wt,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var l=a.next;a.next=i.next,i.next=l}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=l=null,c=null,u=i;do{var d=u.lane;if((Yi&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var m={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=m,l=n):c=c.next=m,wt.lanes|=d,Xi|=d}u=u.next}while(u!==null&&u!==i);c===null?l=n:c.next=o,Zn(n,t.memoizedState)||(qr=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,wt.lanes|=i,Xi|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Op(e){var t=Dn(),r=t.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var l=a=a.next;do i=e(i,l.action),l=l.next;while(l!==a);Zn(i,t.memoizedState)||(qr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function hA(){}function pA(e,t){var r=wt,n=Dn(),a=t(),i=!Zn(n.memoizedState,a);if(i&&(n.memoizedState=a,qr=!0),n=n.queue,Pg(gA.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||rr!==null&&rr.memoizedState.tag&1){if(r.flags|=2048,Jc(9,yA.bind(null,r,n,a,t),void 0,null),sr===null)throw Error(Q(349));Yi&30||xA(r,t,a)}return a}function xA(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=wt.updateQueue,t===null?(t={lastEffect:null,stores:null},wt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function yA(e,t,r,n){t.value=r,t.getSnapshot=n,vA(t)&&bA(e)}function gA(e,t,r){return r(function(){vA(t)&&bA(e)})}function vA(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Zn(e,r)}catch{return!0}}function bA(e){var t=Vs(e,1);t!==null&&Xn(t,e,1,-1)}function Gj(e){var t=ss();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zc,lastRenderedState:e},t.queue=e,e=e.dispatch=r6.bind(null,wt,e),[t.memoizedState,e]}function Jc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=wt.updateQueue,t===null?(t={lastEffect:null,stores:null},wt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function jA(){return Dn().memoizedState}function zd(e,t,r,n){var a=ss();wt.flags|=e,a.memoizedState=Jc(1|t,r,void 0,n===void 0?null:n)}function Mf(e,t,r,n){var a=Dn();n=n===void 0?null:n;var i=void 0;if(Wt!==null){var l=Wt.memoizedState;if(i=l.destroy,n!==null&&Sg(n,l.deps)){a.memoizedState=Jc(t,r,i,n);return}}wt.flags|=e,a.memoizedState=Jc(1|t,r,i,n)}function Yj(e,t){return zd(8390656,8,e,t)}function Pg(e,t){return Mf(2048,8,e,t)}function wA(e,t){return Mf(4,2,e,t)}function NA(e,t){return Mf(4,4,e,t)}function kA(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function SA(e,t,r){return r=r!=null?r.concat([e]):null,Mf(4,4,kA.bind(null,t,e),r)}function Eg(){}function AA(e,t){var r=Dn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Sg(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function CA(e,t){var r=Dn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Sg(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function PA(e,t,r){return Yi&21?(Zn(r,t)||(r=D2(),wt.lanes|=r,Xi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qr=!0),e.memoizedState=r)}function e6(e,t){var r=Xe;Xe=r!==0&&4>r?r:4,e(!0);var n=Pp.transition;Pp.transition={};try{e(!1),t()}finally{Xe=r,Pp.transition=n}}function EA(){return Dn().memoizedState}function t6(e,t,r){var n=za(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},OA(e))_A(t,r);else if(r=dA(e,t,r,n),r!==null){var a=Mr();Xn(r,e,n,a),TA(r,t,n)}}function r6(e,t,r){var n=za(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(OA(e))_A(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,r);if(a.hasEagerState=!0,a.eagerState=o,Zn(o,l)){var c=t.interleaved;c===null?(a.next=a,bg(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=dA(e,t,a,n),r!==null&&(a=Mr(),Xn(r,e,n,a),TA(r,t,n))}}function OA(e){var t=e.alternate;return e===wt||t!==null&&t===wt}function _A(e,t){_c=xm=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function TA(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ig(e,r)}}var ym={readContext:Tn,useCallback:yr,useContext:yr,useEffect:yr,useImperativeHandle:yr,useInsertionEffect:yr,useLayoutEffect:yr,useMemo:yr,useReducer:yr,useRef:yr,useState:yr,useDebugValue:yr,useDeferredValue:yr,useTransition:yr,useMutableSource:yr,useSyncExternalStore:yr,useId:yr,unstable_isNewReconciler:!1},n6={readContext:Tn,useCallback:function(e,t){return ss().memoizedState=[e,t===void 0?null:t],e},useContext:Tn,useEffect:Yj,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,zd(4194308,4,kA.bind(null,t,e),r)},useLayoutEffect:function(e,t){return zd(4194308,4,e,t)},useInsertionEffect:function(e,t){return zd(4,2,e,t)},useMemo:function(e,t){var r=ss();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ss();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=t6.bind(null,wt,e),[n.memoizedState,e]},useRef:function(e){var t=ss();return e={current:e},t.memoizedState=e},useState:Gj,useDebugValue:Eg,useDeferredValue:function(e){return ss().memoizedState=e},useTransition:function(){var e=Gj(!1),t=e[0];return e=e6.bind(null,e[1]),ss().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=wt,a=ss();if(xt){if(r===void 0)throw Error(Q(407));r=r()}else{if(r=t(),sr===null)throw Error(Q(349));Yi&30||xA(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Yj(gA.bind(null,n,i,e),[e]),n.flags|=2048,Jc(9,yA.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=ss(),t=sr.identifierPrefix;if(xt){var r=Ds,n=Ts;r=(n&~(1<<32-Yn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Xc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=J5++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},s6={readContext:Tn,useCallback:AA,useContext:Tn,useEffect:Pg,useImperativeHandle:SA,useInsertionEffect:wA,useLayoutEffect:NA,useMemo:CA,useReducer:Ep,useRef:jA,useState:function(){return Ep(Zc)},useDebugValue:Eg,useDeferredValue:function(e){var t=Dn();return PA(t,Wt.memoizedState,e)},useTransition:function(){var e=Ep(Zc)[0],t=Dn().memoizedState;return[e,t]},useMutableSource:hA,useSyncExternalStore:pA,useId:EA,unstable_isNewReconciler:!1},a6={readContext:Tn,useCallback:AA,useContext:Tn,useEffect:Pg,useImperativeHandle:SA,useInsertionEffect:wA,useLayoutEffect:NA,useMemo:CA,useReducer:Op,useRef:jA,useState:function(){return Op(Zc)},useDebugValue:Eg,useDeferredValue:function(e){var t=Dn();return Wt===null?t.memoizedState=e:PA(t,Wt.memoizedState,e)},useTransition:function(){var e=Op(Zc)[0],t=Dn().memoizedState;return[e,t]},useMutableSource:hA,useSyncExternalStore:pA,useId:EA,unstable_isNewReconciler:!1};function zn(e,t){if(e&&e.defaultProps){t=St({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ix(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:St({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var If={isMounted:function(e){return(e=e._reactInternals)?ml(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Mr(),a=za(e),i=Rs(n,a);i.payload=t,r!=null&&(i.callback=r),t=$a(e,i,a),t!==null&&(Xn(t,e,a,n),$d(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Mr(),a=za(e),i=Rs(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=$a(e,i,a),t!==null&&(Xn(t,e,a,n),$d(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Mr(),n=za(e),a=Rs(r,n);a.tag=2,t!=null&&(a.callback=t),t=$a(e,a,n),t!==null&&(Xn(t,e,n,r),$d(t,e,n))}};function Xj(e,t,r,n,a,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,l):t.prototype&&t.prototype.isPureReactComponent?!Kc(r,n)||!Kc(a,i):!0}function DA(e,t,r){var n=!1,a=Ga,i=t.contextType;return typeof i=="object"&&i!==null?i=Tn(i):(a=Wr(t)?Qi:kr.current,n=t.contextTypes,i=(n=n!=null)?co(e,a):Ga),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=If,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Zj(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&If.enqueueReplaceState(t,t.state,null)}function lx(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},jg(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Tn(i):(i=Wr(t)?Qi:kr.current,a.context=co(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ix(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&If.enqueueReplaceState(a,a.state,null),hm(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ho(e,t){try{var r="",n=t;do r+=DT(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function _p(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ox(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var i6=typeof WeakMap=="function"?WeakMap:Map;function MA(e,t,r){r=Rs(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){vm||(vm=!0,gx=n),ox(e,t)},r}function IA(e,t,r){r=Rs(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){ox(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){ox(e,t),typeof n!="function"&&(Ba===null?Ba=new Set([this]):Ba.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function Jj(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new i6;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=b6.bind(null,e,t,r),t.then(e,e))}function ew(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function tw(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Rs(-1,1),t.tag=2,$a(r,t,1))),r.lanes|=1),e)}var l6=ea.ReactCurrentOwner,qr=!1;function Or(e,t,r,n){t.child=e===null?uA(t,null,r,n):mo(t,e.child,r,n)}function rw(e,t,r,n,a){r=r.render;var i=t.ref;return Bl(t,a),n=Ag(e,t,r,n,i,a),r=Cg(),e!==null&&!qr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ks(e,t,a)):(xt&&r&&hg(t),t.flags|=1,Or(e,t,n,a),t.child)}function nw(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!Fg(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,RA(e,t,i,n,a)):(e=Kd(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:Kc,r(l,n)&&e.ref===t.ref)return Ks(e,t,a)}return t.flags|=1,e=Ua(i,n),e.ref=t.ref,e.return=t,t.child=e}function RA(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Kc(i,n)&&e.ref===t.ref)if(qr=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(qr=!0);else return t.lanes=e.lanes,Ks(e,t,a)}return cx(e,t,r,n,a)}function FA(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(Tl,tn),tn|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,at(Tl,tn),tn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,at(Tl,tn),tn|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,at(Tl,tn),tn|=n;return Or(e,t,a,r),t.child}function LA(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function cx(e,t,r,n,a){var i=Wr(r)?Qi:kr.current;return i=co(t,i),Bl(t,a),r=Ag(e,t,r,n,i,a),n=Cg(),e!==null&&!qr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ks(e,t,a)):(xt&&n&&hg(t),t.flags|=1,Or(e,t,r,a),t.child)}function sw(e,t,r,n,a){if(Wr(r)){var i=!0;cm(t)}else i=!1;if(Bl(t,a),t.stateNode===null)Ud(e,t),DA(t,r,n),lx(t,r,n,a),n=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,u=r.contextType;typeof u=="object"&&u!==null?u=Tn(u):(u=Wr(r)?Qi:kr.current,u=co(t,u));var d=r.getDerivedStateFromProps,m=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==u)&&Zj(t,l,n,u),pa=!1;var f=t.memoizedState;l.state=f,hm(t,n,l,a),c=t.memoizedState,o!==n||f!==c||Hr.current||pa?(typeof d=="function"&&(ix(t,r,d,n),c=t.memoizedState),(o=pa||Xj(t,r,o,n,f,c,u))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),l.props=n,l.state=c,l.context=u,n=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,mA(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:zn(t.type,o),l.props=u,m=t.pendingProps,f=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=Tn(c):(c=Wr(r)?Qi:kr.current,c=co(t,c));var h=r.getDerivedStateFromProps;(d=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==m||f!==c)&&Zj(t,l,n,c),pa=!1,f=t.memoizedState,l.state=f,hm(t,n,l,a);var p=t.memoizedState;o!==m||f!==p||Hr.current||pa?(typeof h=="function"&&(ix(t,r,h,n),p=t.memoizedState),(u=pa||Xj(t,r,u,n,f,p,c)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,p,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,p,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),l.props=n,l.state=p,l.context=c,n=u):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return ux(e,t,r,n,i,a)}function ux(e,t,r,n,a,i){LA(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return a&&qj(t,r,!1),Ks(e,t,i);n=t.stateNode,l6.current=t;var o=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=mo(t,e.child,null,i),t.child=mo(t,null,o,i)):Or(e,t,o,i),t.memoizedState=n.state,a&&qj(t,r,!0),t.child}function $A(e){var t=e.stateNode;t.pendingContext?Uj(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Uj(e,t.context,!1),wg(e,t.containerInfo)}function aw(e,t,r,n,a){return uo(),xg(a),t.flags|=256,Or(e,t,r,n),t.child}var dx={dehydrated:null,treeContext:null,retryLane:0};function mx(e){return{baseLanes:e,cachePool:null,transitions:null}}function BA(e,t,r){var n=t.pendingProps,a=jt.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),at(jt,a&1),e===null)return sx(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,i?(n=t.mode,i=t.child,l={mode:"hidden",children:l},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Lf(l,n,0,null),e=zi(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=mx(r),t.memoizedState=dx,e):Og(t,l));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return o6(e,t,l,n,o,a,r);if(i){i=n.fallback,l=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ua(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=Ua(o,i):(i=zi(i,l,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,l=e.child.memoizedState,l=l===null?mx(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~r,t.memoizedState=dx,n}return i=e.child,e=i.sibling,n=Ua(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Og(e,t){return t=Lf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function fd(e,t,r,n){return n!==null&&xg(n),mo(t,e.child,null,r),e=Og(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function o6(e,t,r,n,a,i,l){if(r)return t.flags&256?(t.flags&=-257,n=_p(Error(Q(422))),fd(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Lf({mode:"visible",children:n.children},a,0,null),i=zi(i,a,l,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&mo(t,e.child,null,l),t.child.memoizedState=mx(l),t.memoizedState=dx,i);if(!(t.mode&1))return fd(e,t,l,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(Q(419)),n=_p(i,n,void 0),fd(e,t,l,n)}if(o=(l&e.childLanes)!==0,qr||o){if(n=sr,n!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|l)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Vs(e,a),Xn(n,e,a,-1))}return Rg(),n=_p(Error(Q(421))),fd(e,t,l,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=j6.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,an=La(a.nextSibling),ln=t,xt=!0,Kn=null,e!==null&&(wn[Nn++]=Ts,wn[Nn++]=Ds,wn[Nn++]=Gi,Ts=e.id,Ds=e.overflow,Gi=t),t=Og(t,n.children),t.flags|=4096,t)}function iw(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ax(e.return,t,r)}function Tp(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function zA(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Or(e,t,n.children,r),n=jt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&iw(e,r,t);else if(e.tag===19)iw(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(at(jt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&pm(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Tp(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&pm(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Tp(t,!0,r,null,i);break;case"together":Tp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ud(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ks(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Xi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Q(153));if(t.child!==null){for(e=t.child,r=Ua(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ua(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function c6(e,t,r){switch(t.tag){case 3:$A(t),uo();break;case 5:fA(t);break;case 1:Wr(t.type)&&cm(t);break;case 4:wg(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;at(mm,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(at(jt,jt.current&1),t.flags|=128,null):r&t.child.childLanes?BA(e,t,r):(at(jt,jt.current&1),e=Ks(e,t,r),e!==null?e.sibling:null);at(jt,jt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return zA(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),at(jt,jt.current),n)break;return null;case 22:case 23:return t.lanes=0,FA(e,t,r)}return Ks(e,t,r)}var UA,fx,qA,VA;UA=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};fx=function(){};qA=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Ni(fs.current);var i=null;switch(r){case"input":a=I0(e,a),n=I0(e,n),i=[];break;case"select":a=St({},a,{value:void 0}),n=St({},n,{value:void 0}),i=[];break;case"textarea":a=L0(e,a),n=L0(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=lm)}B0(r,n);var l;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var o=a[u];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Lc.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(o=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Lc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ct("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};VA=function(e,t,r,n){r!==n&&(t.flags|=4)};function ac(e,t){if(!xt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function gr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function u6(e,t,r){var n=t.pendingProps;switch(pg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gr(t),null;case 1:return Wr(t.type)&&om(),gr(t),null;case 3:return n=t.stateNode,fo(),dt(Hr),dt(kr),kg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(dd(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Kn!==null&&(jx(Kn),Kn=null))),fx(e,t),gr(t),null;case 5:Ng(t);var a=Ni(Yc.current);if(r=t.type,e!==null&&t.stateNode!=null)qA(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Q(166));return gr(t),null}if(e=Ni(fs.current),dd(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[cs]=t,n[Qc]=i,e=(t.mode&1)!==0,r){case"dialog":ct("cancel",n),ct("close",n);break;case"iframe":case"object":case"embed":ct("load",n);break;case"video":case"audio":for(a=0;a<jc.length;a++)ct(jc[a],n);break;case"source":ct("error",n);break;case"img":case"image":case"link":ct("error",n),ct("load",n);break;case"details":ct("toggle",n);break;case"input":pj(n,i),ct("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ct("invalid",n);break;case"textarea":yj(n,i),ct("invalid",n)}B0(r,i),a=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&ud(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&ud(n.textContent,o,e),a=["children",""+o]):Lc.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&ct("scroll",n)}switch(r){case"input":rd(n),xj(n,i,!0);break;case"textarea":rd(n),gj(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=lm)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=g2(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[cs]=t,e[Qc]=n,UA(e,t,!1,!1),t.stateNode=e;e:{switch(l=z0(r,n),r){case"dialog":ct("cancel",e),ct("close",e),a=n;break;case"iframe":case"object":case"embed":ct("load",e),a=n;break;case"video":case"audio":for(a=0;a<jc.length;a++)ct(jc[a],e);a=n;break;case"source":ct("error",e),a=n;break;case"img":case"image":case"link":ct("error",e),ct("load",e),a=n;break;case"details":ct("toggle",e),a=n;break;case"input":pj(e,n),a=I0(e,n),ct("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=St({},n,{value:void 0}),ct("invalid",e);break;case"textarea":yj(e,n),a=L0(e,n),ct("invalid",e);break;default:a=n}B0(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?j2(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&v2(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&$c(e,c):typeof c=="number"&&$c(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Lc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ct("scroll",e):c!=null&&eg(e,i,c,l))}switch(r){case"input":rd(e),xj(e,n,!1);break;case"textarea":rd(e),gj(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Qa(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Rl(e,!!n.multiple,i,!1):n.defaultValue!=null&&Rl(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=lm)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return gr(t),null;case 6:if(e&&t.stateNode!=null)VA(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Q(166));if(r=Ni(Yc.current),Ni(fs.current),dd(t)){if(n=t.stateNode,r=t.memoizedProps,n[cs]=t,(i=n.nodeValue!==r)&&(e=ln,e!==null))switch(e.tag){case 3:ud(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ud(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[cs]=t,t.stateNode=n}return gr(t),null;case 13:if(dt(jt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xt&&an!==null&&t.mode&1&&!(t.flags&128))oA(),uo(),t.flags|=98560,i=!1;else if(i=dd(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Q(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Q(317));i[cs]=t}else uo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;gr(t),i=!1}else Kn!==null&&(jx(Kn),Kn=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||jt.current&1?Gt===0&&(Gt=3):Rg())),t.updateQueue!==null&&(t.flags|=4),gr(t),null);case 4:return fo(),fx(e,t),e===null&&Hc(t.stateNode.containerInfo),gr(t),null;case 10:return vg(t.type._context),gr(t),null;case 17:return Wr(t.type)&&om(),gr(t),null;case 19:if(dt(jt),i=t.memoizedState,i===null)return gr(t),null;if(n=(t.flags&128)!==0,l=i.rendering,l===null)if(n)ac(i,!1);else{if(Gt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=pm(e),l!==null){for(t.flags|=128,ac(i,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return at(jt,jt.current&1|2),t.child}e=e.sibling}i.tail!==null&&It()>po&&(t.flags|=128,n=!0,ac(i,!1),t.lanes=4194304)}else{if(!n)if(e=pm(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ac(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!xt)return gr(t),null}else 2*It()-i.renderingStartTime>po&&r!==1073741824&&(t.flags|=128,n=!0,ac(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(r=i.last,r!==null?r.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=It(),t.sibling=null,r=jt.current,at(jt,n?r&1|2:r&1),t):(gr(t),null);case 22:case 23:return Ig(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?tn&1073741824&&(gr(t),t.subtreeFlags&6&&(t.flags|=8192)):gr(t),null;case 24:return null;case 25:return null}throw Error(Q(156,t.tag))}function d6(e,t){switch(pg(t),t.tag){case 1:return Wr(t.type)&&om(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fo(),dt(Hr),dt(kr),kg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ng(t),null;case 13:if(dt(jt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Q(340));uo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return dt(jt),null;case 4:return fo(),null;case 10:return vg(t.type._context),null;case 22:case 23:return Ig(),null;case 24:return null;default:return null}}var hd=!1,br=!1,m6=typeof WeakSet=="function"?WeakSet:Set,ue=null;function _l(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Et(e,t,n)}else r.current=null}function hx(e,t,r){try{r()}catch(n){Et(e,t,n)}}var lw=!1;function f6(e,t){if(X0=sm,e=G2(),fg(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,u=0,d=0,m=e,f=null;t:for(;;){for(var h;m!==r||a!==0&&m.nodeType!==3||(o=l+a),m!==i||n!==0&&m.nodeType!==3||(c=l+n),m.nodeType===3&&(l+=m.nodeValue.length),(h=m.firstChild)!==null;)f=m,m=h;for(;;){if(m===e)break t;if(f===r&&++u===a&&(o=l),f===i&&++d===n&&(c=l),(h=m.nextSibling)!==null)break;m=f,f=m.parentNode}m=h}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Z0={focusedElem:e,selectionRange:r},sm=!1,ue=t;ue!==null;)if(t=ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ue=e;else for(;ue!==null;){t=ue;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,b=p.memoizedState,v=t.stateNode,g=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:zn(t.type,y),b);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(w){Et(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,ue=e;break}ue=t.return}return p=lw,lw=!1,p}function Tc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&hx(t,r,i)}a=a.next}while(a!==n)}}function Rf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function px(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function KA(e){var t=e.alternate;t!==null&&(e.alternate=null,KA(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[cs],delete t[Qc],delete t[tx],delete t[G5],delete t[Y5])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function HA(e){return e.tag===5||e.tag===3||e.tag===4}function ow(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||HA(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xx(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=lm));else if(n!==4&&(e=e.child,e!==null))for(xx(e,t,r),e=e.sibling;e!==null;)xx(e,t,r),e=e.sibling}function yx(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(yx(e,t,r),e=e.sibling;e!==null;)yx(e,t,r),e=e.sibling}var lr=null,Vn=!1;function ca(e,t,r){for(r=r.child;r!==null;)WA(e,t,r),r=r.sibling}function WA(e,t,r){if(ms&&typeof ms.onCommitFiberUnmount=="function")try{ms.onCommitFiberUnmount(Pf,r)}catch{}switch(r.tag){case 5:br||_l(r,t);case 6:var n=lr,a=Vn;lr=null,ca(e,t,r),lr=n,Vn=a,lr!==null&&(Vn?(e=lr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):lr.removeChild(r.stateNode));break;case 18:lr!==null&&(Vn?(e=lr,r=r.stateNode,e.nodeType===8?Sp(e.parentNode,r):e.nodeType===1&&Sp(e,r),qc(e)):Sp(lr,r.stateNode));break;case 4:n=lr,a=Vn,lr=r.stateNode.containerInfo,Vn=!0,ca(e,t,r),lr=n,Vn=a;break;case 0:case 11:case 14:case 15:if(!br&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&hx(r,t,l),a=a.next}while(a!==n)}ca(e,t,r);break;case 1:if(!br&&(_l(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Et(r,t,o)}ca(e,t,r);break;case 21:ca(e,t,r);break;case 22:r.mode&1?(br=(n=br)||r.memoizedState!==null,ca(e,t,r),br=n):ca(e,t,r);break;default:ca(e,t,r)}}function cw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new m6),t.forEach(function(n){var a=w6.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function $n(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:lr=o.stateNode,Vn=!1;break e;case 3:lr=o.stateNode.containerInfo,Vn=!0;break e;case 4:lr=o.stateNode.containerInfo,Vn=!0;break e}o=o.return}if(lr===null)throw Error(Q(160));WA(i,l,a),lr=null,Vn=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Et(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)QA(t,e),t=t.sibling}function QA(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($n(t,e),rs(e),n&4){try{Tc(3,e,e.return),Rf(3,e)}catch(y){Et(e,e.return,y)}try{Tc(5,e,e.return)}catch(y){Et(e,e.return,y)}}break;case 1:$n(t,e),rs(e),n&512&&r!==null&&_l(r,r.return);break;case 5:if($n(t,e),rs(e),n&512&&r!==null&&_l(r,r.return),e.flags&32){var a=e.stateNode;try{$c(a,"")}catch(y){Et(e,e.return,y)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,l=r!==null?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&x2(a,i),z0(o,l);var u=z0(o,i);for(l=0;l<c.length;l+=2){var d=c[l],m=c[l+1];d==="style"?j2(a,m):d==="dangerouslySetInnerHTML"?v2(a,m):d==="children"?$c(a,m):eg(a,d,m,u)}switch(o){case"input":R0(a,i);break;case"textarea":y2(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?Rl(a,!!i.multiple,h,!1):f!==!!i.multiple&&(i.defaultValue!=null?Rl(a,!!i.multiple,i.defaultValue,!0):Rl(a,!!i.multiple,i.multiple?[]:"",!1))}a[Qc]=i}catch(y){Et(e,e.return,y)}}break;case 6:if($n(t,e),rs(e),n&4){if(e.stateNode===null)throw Error(Q(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(y){Et(e,e.return,y)}}break;case 3:if($n(t,e),rs(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{qc(t.containerInfo)}catch(y){Et(e,e.return,y)}break;case 4:$n(t,e),rs(e);break;case 13:$n(t,e),rs(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Dg=It())),n&4&&cw(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(br=(u=br)||d,$n(t,e),br=u):$n(t,e),rs(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ue=e,d=e.child;d!==null;){for(m=ue=d;ue!==null;){switch(f=ue,h=f.child,f.tag){case 0:case 11:case 14:case 15:Tc(4,f,f.return);break;case 1:_l(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(y){Et(n,r,y)}}break;case 5:_l(f,f.return);break;case 22:if(f.memoizedState!==null){dw(m);continue}}h!==null?(h.return=f,ue=h):dw(m)}d=d.sibling}e:for(d=null,m=e;;){if(m.tag===5){if(d===null){d=m;try{a=m.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=m.stateNode,c=m.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=b2("display",l))}catch(y){Et(e,e.return,y)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(y){Et(e,e.return,y)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:$n(t,e),rs(e),n&4&&cw(e);break;case 21:break;default:$n(t,e),rs(e)}}function rs(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(HA(r)){var n=r;break e}r=r.return}throw Error(Q(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&($c(a,""),n.flags&=-33);var i=ow(e);yx(e,i,a);break;case 3:case 4:var l=n.stateNode.containerInfo,o=ow(e);xx(e,o,l);break;default:throw Error(Q(161))}}catch(c){Et(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function h6(e,t,r){ue=e,GA(e)}function GA(e,t,r){for(var n=(e.mode&1)!==0;ue!==null;){var a=ue,i=a.child;if(a.tag===22&&n){var l=a.memoizedState!==null||hd;if(!l){var o=a.alternate,c=o!==null&&o.memoizedState!==null||br;o=hd;var u=br;if(hd=l,(br=c)&&!u)for(ue=a;ue!==null;)l=ue,c=l.child,l.tag===22&&l.memoizedState!==null?mw(a):c!==null?(c.return=l,ue=c):mw(a);for(;i!==null;)ue=i,GA(i),i=i.sibling;ue=a,hd=o,br=u}uw(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,ue=i):uw(e)}}function uw(e){for(;ue!==null;){var t=ue;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:br||Rf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!br)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:zn(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Qj(t,i,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Qj(t,l,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&qc(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}br||t.flags&512&&px(t)}catch(f){Et(t,t.return,f)}}if(t===e){ue=null;break}if(r=t.sibling,r!==null){r.return=t.return,ue=r;break}ue=t.return}}function dw(e){for(;ue!==null;){var t=ue;if(t===e){ue=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ue=r;break}ue=t.return}}function mw(e){for(;ue!==null;){var t=ue;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Rf(4,t)}catch(c){Et(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Et(t,a,c)}}var i=t.return;try{px(t)}catch(c){Et(t,i,c)}break;case 5:var l=t.return;try{px(t)}catch(c){Et(t,l,c)}}}catch(c){Et(t,t.return,c)}if(t===e){ue=null;break}var o=t.sibling;if(o!==null){o.return=t.return,ue=o;break}ue=t.return}}var p6=Math.ceil,gm=ea.ReactCurrentDispatcher,_g=ea.ReactCurrentOwner,On=ea.ReactCurrentBatchConfig,Ie=0,sr=null,zt=null,ur=0,tn=0,Tl=ii(0),Gt=0,eu=null,Xi=0,Ff=0,Tg=0,Dc=null,Ur=null,Dg=0,po=1/0,Ss=null,vm=!1,gx=null,Ba=null,pd=!1,Ta=null,bm=0,Mc=0,vx=null,qd=-1,Vd=0;function Mr(){return Ie&6?It():qd!==-1?qd:qd=It()}function za(e){return e.mode&1?Ie&2&&ur!==0?ur&-ur:Z5.transition!==null?(Vd===0&&(Vd=D2()),Vd):(e=Xe,e!==0||(e=window.event,e=e===void 0?16:B2(e.type)),e):1}function Xn(e,t,r,n){if(50<Mc)throw Mc=0,vx=null,Error(Q(185));ku(e,r,n),(!(Ie&2)||e!==sr)&&(e===sr&&(!(Ie&2)&&(Ff|=r),Gt===4&&va(e,ur)),Qr(e,n),r===1&&Ie===0&&!(t.mode&1)&&(po=It()+500,Df&&li()))}function Qr(e,t){var r=e.callbackNode;ZT(e,t);var n=nm(e,e===sr?ur:0);if(n===0)r!==null&&jj(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&jj(r),t===1)e.tag===0?X5(fw.bind(null,e)):aA(fw.bind(null,e)),W5(function(){!(Ie&6)&&li()}),r=null;else{switch(M2(n)){case 1:r=ag;break;case 4:r=_2;break;case 16:r=rm;break;case 536870912:r=T2;break;default:r=rm}r=nC(r,YA.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function YA(e,t){if(qd=-1,Vd=0,Ie&6)throw Error(Q(327));var r=e.callbackNode;if(zl()&&e.callbackNode!==r)return null;var n=nm(e,e===sr?ur:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=jm(e,n);else{t=n;var a=Ie;Ie|=2;var i=ZA();(sr!==e||ur!==t)&&(Ss=null,po=It()+500,Bi(e,t));do try{g6();break}catch(o){XA(e,o)}while(!0);gg(),gm.current=i,Ie=a,zt!==null?t=0:(sr=null,ur=0,t=Gt)}if(t!==0){if(t===2&&(a=H0(e),a!==0&&(n=a,t=bx(e,a))),t===1)throw r=eu,Bi(e,0),va(e,n),Qr(e,It()),r;if(t===6)va(e,n);else{if(a=e.current.alternate,!(n&30)&&!x6(a)&&(t=jm(e,n),t===2&&(i=H0(e),i!==0&&(n=i,t=bx(e,i))),t===1))throw r=eu,Bi(e,0),va(e,n),Qr(e,It()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Q(345));case 2:yi(e,Ur,Ss);break;case 3:if(va(e,n),(n&130023424)===n&&(t=Dg+500-It(),10<t)){if(nm(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Mr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ex(yi.bind(null,e,Ur,Ss),t);break}yi(e,Ur,Ss);break;case 4:if(va(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var l=31-Yn(n);i=1<<l,l=t[l],l>a&&(a=l),n&=~i}if(n=a,n=It()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*p6(n/1960))-n,10<n){e.timeoutHandle=ex(yi.bind(null,e,Ur,Ss),n);break}yi(e,Ur,Ss);break;case 5:yi(e,Ur,Ss);break;default:throw Error(Q(329))}}}return Qr(e,It()),e.callbackNode===r?YA.bind(null,e):null}function bx(e,t){var r=Dc;return e.current.memoizedState.isDehydrated&&(Bi(e,t).flags|=256),e=jm(e,t),e!==2&&(t=Ur,Ur=r,t!==null&&jx(t)),e}function jx(e){Ur===null?Ur=e:Ur.push.apply(Ur,e)}function x6(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Zn(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function va(e,t){for(t&=~Tg,t&=~Ff,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Yn(t),n=1<<r;e[r]=-1,t&=~n}}function fw(e){if(Ie&6)throw Error(Q(327));zl();var t=nm(e,0);if(!(t&1))return Qr(e,It()),null;var r=jm(e,t);if(e.tag!==0&&r===2){var n=H0(e);n!==0&&(t=n,r=bx(e,n))}if(r===1)throw r=eu,Bi(e,0),va(e,t),Qr(e,It()),r;if(r===6)throw Error(Q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yi(e,Ur,Ss),Qr(e,It()),null}function Mg(e,t){var r=Ie;Ie|=1;try{return e(t)}finally{Ie=r,Ie===0&&(po=It()+500,Df&&li())}}function Zi(e){Ta!==null&&Ta.tag===0&&!(Ie&6)&&zl();var t=Ie;Ie|=1;var r=On.transition,n=Xe;try{if(On.transition=null,Xe=1,e)return e()}finally{Xe=n,On.transition=r,Ie=t,!(Ie&6)&&li()}}function Ig(){tn=Tl.current,dt(Tl)}function Bi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,H5(r)),zt!==null)for(r=zt.return;r!==null;){var n=r;switch(pg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&om();break;case 3:fo(),dt(Hr),dt(kr),kg();break;case 5:Ng(n);break;case 4:fo();break;case 13:dt(jt);break;case 19:dt(jt);break;case 10:vg(n.type._context);break;case 22:case 23:Ig()}r=r.return}if(sr=e,zt=e=Ua(e.current,null),ur=tn=t,Gt=0,eu=null,Tg=Ff=Xi=0,Ur=Dc=null,wi!==null){for(t=0;t<wi.length;t++)if(r=wi[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var l=i.next;i.next=a,n.next=l}r.pending=n}wi=null}return e}function XA(e,t){do{var r=zt;try{if(gg(),Bd.current=ym,xm){for(var n=wt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}xm=!1}if(Yi=0,rr=Wt=wt=null,_c=!1,Xc=0,_g.current=null,r===null||r.return===null){Gt=1,eu=t,zt=null;break}e:{var i=e,l=r.return,o=r,c=t;if(t=ur,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=ew(l);if(h!==null){h.flags&=-257,tw(h,l,o,i,t),h.mode&1&&Jj(i,u,t),t=h,c=u;var p=t.updateQueue;if(p===null){var y=new Set;y.add(c),t.updateQueue=y}else p.add(c);break e}else{if(!(t&1)){Jj(i,u,t),Rg();break e}c=Error(Q(426))}}else if(xt&&o.mode&1){var b=ew(l);if(b!==null){!(b.flags&65536)&&(b.flags|=256),tw(b,l,o,i,t),xg(ho(c,o));break e}}i=c=ho(c,o),Gt!==4&&(Gt=2),Dc===null?Dc=[i]:Dc.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=MA(i,c,t);Wj(i,v);break e;case 1:o=c;var g=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ba===null||!Ba.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=IA(i,o,t);Wj(i,w);break e}}i=i.return}while(i!==null)}eC(r)}catch(N){t=N,zt===r&&r!==null&&(zt=r=r.return);continue}break}while(!0)}function ZA(){var e=gm.current;return gm.current=ym,e===null?ym:e}function Rg(){(Gt===0||Gt===3||Gt===2)&&(Gt=4),sr===null||!(Xi&268435455)&&!(Ff&268435455)||va(sr,ur)}function jm(e,t){var r=Ie;Ie|=2;var n=ZA();(sr!==e||ur!==t)&&(Ss=null,Bi(e,t));do try{y6();break}catch(a){XA(e,a)}while(!0);if(gg(),Ie=r,gm.current=n,zt!==null)throw Error(Q(261));return sr=null,ur=0,Gt}function y6(){for(;zt!==null;)JA(zt)}function g6(){for(;zt!==null&&!qT();)JA(zt)}function JA(e){var t=rC(e.alternate,e,tn);e.memoizedProps=e.pendingProps,t===null?eC(e):zt=t,_g.current=null}function eC(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=d6(r,t),r!==null){r.flags&=32767,zt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Gt=6,zt=null;return}}else if(r=u6(r,t,tn),r!==null){zt=r;return}if(t=t.sibling,t!==null){zt=t;return}zt=t=e}while(t!==null);Gt===0&&(Gt=5)}function yi(e,t,r){var n=Xe,a=On.transition;try{On.transition=null,Xe=1,v6(e,t,r,n)}finally{On.transition=a,Xe=n}return null}function v6(e,t,r,n){do zl();while(Ta!==null);if(Ie&6)throw Error(Q(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Q(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(JT(e,i),e===sr&&(zt=sr=null,ur=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||pd||(pd=!0,nC(rm,function(){return zl(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=On.transition,On.transition=null;var l=Xe;Xe=1;var o=Ie;Ie|=4,_g.current=null,f6(e,r),QA(r,e),$5(Z0),sm=!!X0,Z0=X0=null,e.current=r,h6(r),VT(),Ie=o,Xe=l,On.transition=i}else e.current=r;if(pd&&(pd=!1,Ta=e,bm=a),i=e.pendingLanes,i===0&&(Ba=null),WT(r.stateNode),Qr(e,It()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(vm)throw vm=!1,e=gx,gx=null,e;return bm&1&&e.tag!==0&&zl(),i=e.pendingLanes,i&1?e===vx?Mc++:(Mc=0,vx=e):Mc=0,li(),null}function zl(){if(Ta!==null){var e=M2(bm),t=On.transition,r=Xe;try{if(On.transition=null,Xe=16>e?16:e,Ta===null)var n=!1;else{if(e=Ta,Ta=null,bm=0,Ie&6)throw Error(Q(331));var a=Ie;for(Ie|=4,ue=e.current;ue!==null;){var i=ue,l=i.child;if(ue.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(ue=u;ue!==null;){var d=ue;switch(d.tag){case 0:case 11:case 15:Tc(8,d,i)}var m=d.child;if(m!==null)m.return=d,ue=m;else for(;ue!==null;){d=ue;var f=d.sibling,h=d.return;if(KA(d),d===u){ue=null;break}if(f!==null){f.return=h,ue=f;break}ue=h}}}var p=i.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}ue=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,ue=l;else e:for(;ue!==null;){if(i=ue,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Tc(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,ue=v;break e}ue=i.return}}var g=e.current;for(ue=g;ue!==null;){l=ue;var x=l.child;if(l.subtreeFlags&2064&&x!==null)x.return=l,ue=x;else e:for(l=g;ue!==null;){if(o=ue,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Rf(9,o)}}catch(N){Et(o,o.return,N)}if(o===l){ue=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,ue=w;break e}ue=o.return}}if(Ie=a,li(),ms&&typeof ms.onPostCommitFiberRoot=="function")try{ms.onPostCommitFiberRoot(Pf,e)}catch{}n=!0}return n}finally{Xe=r,On.transition=t}}return!1}function hw(e,t,r){t=ho(r,t),t=MA(e,t,1),e=$a(e,t,1),t=Mr(),e!==null&&(ku(e,1,t),Qr(e,t))}function Et(e,t,r){if(e.tag===3)hw(e,e,r);else for(;t!==null;){if(t.tag===3){hw(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ba===null||!Ba.has(n))){e=ho(r,e),e=IA(t,e,1),t=$a(t,e,1),e=Mr(),t!==null&&(ku(t,1,e),Qr(t,e));break}}t=t.return}}function b6(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Mr(),e.pingedLanes|=e.suspendedLanes&r,sr===e&&(ur&r)===r&&(Gt===4||Gt===3&&(ur&130023424)===ur&&500>It()-Dg?Bi(e,0):Tg|=r),Qr(e,t)}function tC(e,t){t===0&&(e.mode&1?(t=ad,ad<<=1,!(ad&130023424)&&(ad=4194304)):t=1);var r=Mr();e=Vs(e,t),e!==null&&(ku(e,t,r),Qr(e,r))}function j6(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),tC(e,r)}function w6(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Q(314))}n!==null&&n.delete(t),tC(e,r)}var rC;rC=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Hr.current)qr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return qr=!1,c6(e,t,r);qr=!!(e.flags&131072)}else qr=!1,xt&&t.flags&1048576&&iA(t,dm,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ud(e,t),e=t.pendingProps;var a=co(t,kr.current);Bl(t,r),a=Ag(null,t,n,e,a,r);var i=Cg();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Wr(n)?(i=!0,cm(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,jg(t),a.updater=If,t.stateNode=a,a._reactInternals=t,lx(t,n,e,r),t=ux(null,t,n,!0,i,r)):(t.tag=0,xt&&i&&hg(t),Or(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ud(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=k6(n),e=zn(n,e),a){case 0:t=cx(null,t,n,e,r);break e;case 1:t=sw(null,t,n,e,r);break e;case 11:t=rw(null,t,n,e,r);break e;case 14:t=nw(null,t,n,zn(n.type,e),r);break e}throw Error(Q(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:zn(n,a),cx(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:zn(n,a),sw(e,t,n,a,r);case 3:e:{if($A(t),e===null)throw Error(Q(387));n=t.pendingProps,i=t.memoizedState,a=i.element,mA(e,t),hm(t,n,null,r);var l=t.memoizedState;if(n=l.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=ho(Error(Q(423)),t),t=aw(e,t,n,r,a);break e}else if(n!==a){a=ho(Error(Q(424)),t),t=aw(e,t,n,r,a);break e}else for(an=La(t.stateNode.containerInfo.firstChild),ln=t,xt=!0,Kn=null,r=uA(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(uo(),n===a){t=Ks(e,t,r);break e}Or(e,t,n,r)}t=t.child}return t;case 5:return fA(t),e===null&&sx(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,l=a.children,J0(n,a)?l=null:i!==null&&J0(n,i)&&(t.flags|=32),LA(e,t),Or(e,t,l,r),t.child;case 6:return e===null&&sx(t),null;case 13:return BA(e,t,r);case 4:return wg(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=mo(t,null,n,r):Or(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:zn(n,a),rw(e,t,n,a,r);case 7:return Or(e,t,t.pendingProps,r),t.child;case 8:return Or(e,t,t.pendingProps.children,r),t.child;case 12:return Or(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,l=a.value,at(mm,n._currentValue),n._currentValue=l,i!==null)if(Zn(i.value,l)){if(i.children===a.children&&!Hr.current){t=Ks(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Rs(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),ax(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(Q(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),ax(l,r,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Or(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Bl(t,r),a=Tn(a),n=n(a),t.flags|=1,Or(e,t,n,r),t.child;case 14:return n=t.type,a=zn(n,t.pendingProps),a=zn(n.type,a),nw(e,t,n,a,r);case 15:return RA(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:zn(n,a),Ud(e,t),t.tag=1,Wr(n)?(e=!0,cm(t)):e=!1,Bl(t,r),DA(t,n,a),lx(t,n,a,r),ux(null,t,n,!0,e,r);case 19:return zA(e,t,r);case 22:return FA(e,t,r)}throw Error(Q(156,t.tag))};function nC(e,t){return O2(e,t)}function N6(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(e,t,r,n){return new N6(e,t,r,n)}function Fg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function k6(e){if(typeof e=="function")return Fg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===rg)return 11;if(e===ng)return 14}return 2}function Ua(e,t){var r=e.alternate;return r===null?(r=Cn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Kd(e,t,r,n,a,i){var l=2;if(n=e,typeof e=="function")Fg(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case wl:return zi(r.children,a,i,t);case tg:l=8,a|=8;break;case _0:return e=Cn(12,r,t,a|2),e.elementType=_0,e.lanes=i,e;case T0:return e=Cn(13,r,t,a),e.elementType=T0,e.lanes=i,e;case D0:return e=Cn(19,r,t,a),e.elementType=D0,e.lanes=i,e;case f2:return Lf(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case d2:l=10;break e;case m2:l=9;break e;case rg:l=11;break e;case ng:l=14;break e;case ha:l=16,n=null;break e}throw Error(Q(130,e==null?e:typeof e,""))}return t=Cn(l,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function zi(e,t,r,n){return e=Cn(7,e,n,t),e.lanes=r,e}function Lf(e,t,r,n){return e=Cn(22,e,n,t),e.elementType=f2,e.lanes=r,e.stateNode={isHidden:!1},e}function Dp(e,t,r){return e=Cn(6,e,null,t),e.lanes=r,e}function Mp(e,t,r){return t=Cn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function S6(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hp(0),this.expirationTimes=hp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hp(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Lg(e,t,r,n,a,i,l,o,c){return e=new S6(e,t,r,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Cn(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},jg(i),e}function A6(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jl,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function sC(e){if(!e)return Ga;e=e._reactInternals;e:{if(ml(e)!==e||e.tag!==1)throw Error(Q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Wr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Q(171))}if(e.tag===1){var r=e.type;if(Wr(r))return sA(e,r,t)}return t}function aC(e,t,r,n,a,i,l,o,c){return e=Lg(r,n,!0,e,a,i,l,o,c),e.context=sC(null),r=e.current,n=Mr(),a=za(r),i=Rs(n,a),i.callback=t??null,$a(r,i,a),e.current.lanes=a,ku(e,a,n),Qr(e,n),e}function $f(e,t,r,n){var a=t.current,i=Mr(),l=za(a);return r=sC(r),t.context===null?t.context=r:t.pendingContext=r,t=Rs(i,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=$a(a,t,l),e!==null&&(Xn(e,a,l,i),$d(e,a,l)),l}function wm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function pw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function $g(e,t){pw(e,t),(e=e.alternate)&&pw(e,t)}function C6(){return null}var iC=typeof reportError=="function"?reportError:function(e){console.error(e)};function Bg(e){this._internalRoot=e}Bf.prototype.render=Bg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Q(409));$f(e,t,null,null)};Bf.prototype.unmount=Bg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zi(function(){$f(null,e,null,null)}),t[qs]=null}};function Bf(e){this._internalRoot=e}Bf.prototype.unstable_scheduleHydration=function(e){if(e){var t=F2();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ga.length&&t!==0&&t<ga[r].priority;r++);ga.splice(r,0,e),r===0&&$2(e)}};function zg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function zf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function xw(){}function P6(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=wm(l);i.call(u)}}var l=aC(t,n,e,0,null,!1,!1,"",xw);return e._reactRootContainer=l,e[qs]=l.current,Hc(e.nodeType===8?e.parentNode:e),Zi(),l}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var u=wm(c);o.call(u)}}var c=Lg(e,0,!1,null,null,!1,!1,"",xw);return e._reactRootContainer=c,e[qs]=c.current,Hc(e.nodeType===8?e.parentNode:e),Zi(function(){$f(t,c,r,n)}),c}function Uf(e,t,r,n,a){var i=r._reactRootContainer;if(i){var l=i;if(typeof a=="function"){var o=a;a=function(){var c=wm(l);o.call(c)}}$f(t,l,e,a)}else l=P6(r,t,e,a,n);return wm(l)}I2=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=bc(t.pendingLanes);r!==0&&(ig(t,r|1),Qr(t,It()),!(Ie&6)&&(po=It()+500,li()))}break;case 13:Zi(function(){var n=Vs(e,1);if(n!==null){var a=Mr();Xn(n,e,1,a)}}),$g(e,1)}};lg=function(e){if(e.tag===13){var t=Vs(e,134217728);if(t!==null){var r=Mr();Xn(t,e,134217728,r)}$g(e,134217728)}};R2=function(e){if(e.tag===13){var t=za(e),r=Vs(e,t);if(r!==null){var n=Mr();Xn(r,e,t,n)}$g(e,t)}};F2=function(){return Xe};L2=function(e,t){var r=Xe;try{return Xe=e,t()}finally{Xe=r}};q0=function(e,t,r){switch(t){case"input":if(R0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Tf(n);if(!a)throw Error(Q(90));p2(n),R0(n,a)}}}break;case"textarea":y2(e,r);break;case"select":t=r.value,t!=null&&Rl(e,!!r.multiple,t,!1)}};k2=Mg;S2=Zi;var E6={usingClientEntryPoint:!1,Events:[Au,Al,Tf,w2,N2,Mg]},ic={findFiberByHostInstance:ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},O6={bundleType:ic.bundleType,version:ic.version,rendererPackageName:ic.rendererPackageName,rendererConfig:ic.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ea.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=P2(e),e===null?null:e.stateNode},findFiberByHostInstance:ic.findFiberByHostInstance||C6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xd.isDisabled&&xd.supportsFiber)try{Pf=xd.inject(O6),ms=xd}catch{}}fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E6;fn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zg(t))throw Error(Q(200));return A6(e,t,null,r)};fn.createRoot=function(e,t){if(!zg(e))throw Error(Q(299));var r=!1,n="",a=iC;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Lg(e,1,!1,null,null,r,!1,n,a),e[qs]=t.current,Hc(e.nodeType===8?e.parentNode:e),new Bg(t)};fn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Q(188)):(e=Object.keys(e).join(","),Error(Q(268,e)));return e=P2(t),e=e===null?null:e.stateNode,e};fn.flushSync=function(e){return Zi(e)};fn.hydrate=function(e,t,r){if(!zf(t))throw Error(Q(200));return Uf(null,e,t,!0,r)};fn.hydrateRoot=function(e,t,r){if(!zg(e))throw Error(Q(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",l=iC;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=aC(t,null,e,1,r??null,a,!1,i,l),e[qs]=t.current,Hc(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Bf(t)};fn.render=function(e,t,r){if(!zf(t))throw Error(Q(200));return Uf(null,e,t,!1,r)};fn.unmountComponentAtNode=function(e){if(!zf(e))throw Error(Q(40));return e._reactRootContainer?(Zi(function(){Uf(null,null,e,!1,function(){e._reactRootContainer=null,e[qs]=null})}),!0):!1};fn.unstable_batchedUpdates=Mg;fn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!zf(r))throw Error(Q(200));if(e==null||e._reactInternals===void 0)throw Error(Q(38));return Uf(e,t,r,!1,n)};fn.version="18.3.1-next-f1338f8080-20240426";function lC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lC)}catch(e){console.error(e)}}lC(),l2.exports=fn;var oC=l2.exports,cC,yw=oC;cC=yw.createRoot,yw.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tu(){return tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tu.apply(this,arguments)}var Da;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Da||(Da={}));const gw="popstate";function _6(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:l,hash:o}=n.location;return wx("",{pathname:i,search:l,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Nm(a)}return D6(t,r,null,e)}function Nt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function uC(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function T6(){return Math.random().toString(36).substr(2,8)}function vw(e,t){return{usr:e.state,key:e.key,idx:t}}function wx(e,t,r,n){return r===void 0&&(r=null),tu({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ro(t):t,{state:r,key:t&&t.key||n||T6()})}function Nm(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ro(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function D6(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,l=a.history,o=Da.Pop,c=null,u=d();u==null&&(u=0,l.replaceState(tu({},l.state,{idx:u}),""));function d(){return(l.state||{idx:null}).idx}function m(){o=Da.Pop;let b=d(),v=b==null?null:b-u;u=b,c&&c({action:o,location:y.location,delta:v})}function f(b,v){o=Da.Push;let g=wx(y.location,b,v);u=d()+1;let x=vw(g,u),w=y.createHref(g);try{l.pushState(x,"",w)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;a.location.assign(w)}i&&c&&c({action:o,location:y.location,delta:1})}function h(b,v){o=Da.Replace;let g=wx(y.location,b,v);u=d();let x=vw(g,u),w=y.createHref(g);l.replaceState(x,"",w),i&&c&&c({action:o,location:y.location,delta:0})}function p(b){let v=a.location.origin!=="null"?a.location.origin:a.location.href,g=typeof b=="string"?b:Nm(b);return g=g.replace(/ $/,"%20"),Nt(v,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,v)}let y={get action(){return o},get location(){return e(a,l)},listen(b){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(gw,m),c=b,()=>{a.removeEventListener(gw,m),c=null}},createHref(b){return t(a,b)},createURL:p,encodeLocation(b){let v=p(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:h,go(b){return l.go(b)}};return y}var bw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(bw||(bw={}));function M6(e,t,r){return r===void 0&&(r="/"),I6(e,t,r)}function I6(e,t,r,n){let a=typeof t=="string"?Ro(t):t,i=xo(a.pathname||"/",r);if(i==null)return null;let l=dC(e);R6(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let u=W6(i);o=K6(l[c],u)}return o}function dC(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,l,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(Nt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=qa([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(Nt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),dC(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:q6(u,i.index),routesMeta:d})};return e.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,l);else for(let c of mC(i.path))a(i,l,c)}),t}function mC(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let l=mC(n.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),a&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function R6(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:V6(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const F6=/^:[\w-]+$/,L6=3,$6=2,B6=1,z6=10,U6=-2,jw=e=>e==="*";function q6(e,t){let r=e.split("/"),n=r.length;return r.some(jw)&&(n+=U6),t&&(n+=$6),r.filter(a=>!jw(a)).reduce((a,i)=>a+(F6.test(i)?L6:i===""?B6:z6),n)}function V6(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function K6(e,t,r){let{routesMeta:n}=e,a={},i="/",l=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",m=Nx({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!m)return null;Object.assign(a,m.params),l.push({params:a,pathname:qa([i,m.pathname]),pathnameBase:X6(qa([i,m.pathnameBase])),route:f}),m.pathnameBase!=="/"&&(i=qa([i,m.pathnameBase]))}return l}function Nx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=H6(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((u,d,m)=>{let{paramName:f,isOptional:h}=d;if(f==="*"){let y=o[m]||"";l=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const p=o[m];return h&&!p?u[f]=void 0:u[f]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:l,pattern:e}}function H6(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),uC(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function W6(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return uC(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function xo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Q6(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Ro(e):e;return{pathname:r?r.startsWith("/")?r:G6(r,t):t,search:Z6(n),hash:J6(a)}}function G6(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Ip(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Y6(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ug(e,t){let r=Y6(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function qg(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Ro(e):(a=tu({},e),Nt(!a.pathname||!a.pathname.includes("?"),Ip("?","pathname","search",a)),Nt(!a.pathname||!a.pathname.includes("#"),Ip("#","pathname","hash",a)),Nt(!a.search||!a.search.includes("#"),Ip("#","search","hash",a)));let i=e===""||a.pathname==="",l=i?"/":a.pathname,o;if(l==null)o=r;else{let m=t.length-1;if(!n&&l.startsWith("..")){let f=l.split("/");for(;f[0]==="..";)f.shift(),m-=1;a.pathname=f.join("/")}o=m>=0?t[m]:"/"}let c=Q6(a,o),u=l&&l!=="/"&&l.endsWith("/"),d=(i||l===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const qa=e=>e.join("/").replace(/\/\/+/g,"/"),X6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Z6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,J6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function eD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const fC=["post","put","patch","delete"];new Set(fC);const tD=["get",...fC];new Set(tD);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ru(){return ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ru.apply(this,arguments)}const qf=j.createContext(null),hC=j.createContext(null),ta=j.createContext(null),Vf=j.createContext(null),ra=j.createContext({outlet:null,matches:[],isDataRoute:!1}),pC=j.createContext(null);function rD(e,t){let{relative:r}=t===void 0?{}:t;Fo()||Nt(!1);let{basename:n,navigator:a}=j.useContext(ta),{hash:i,pathname:l,search:o}=Kf(e,{relative:r}),c=l;return n!=="/"&&(c=l==="/"?n:qa([n,l])),a.createHref({pathname:c,search:o,hash:i})}function Fo(){return j.useContext(Vf)!=null}function oi(){return Fo()||Nt(!1),j.useContext(Vf).location}function xC(e){j.useContext(ta).static||j.useLayoutEffect(e)}function Vg(){let{isDataRoute:e}=j.useContext(ra);return e?yD():nD()}function nD(){Fo()||Nt(!1);let e=j.useContext(qf),{basename:t,future:r,navigator:n}=j.useContext(ta),{matches:a}=j.useContext(ra),{pathname:i}=oi(),l=JSON.stringify(Ug(a,r.v7_relativeSplatPath)),o=j.useRef(!1);return xC(()=>{o.current=!0}),j.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let m=qg(u,JSON.parse(l),i,d.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:qa([t,m.pathname])),(d.replace?n.replace:n.push)(m,d.state,d)},[t,n,l,i,e])}const sD=j.createContext(null);function aD(e){let t=j.useContext(ra).outlet;return t&&j.createElement(sD.Provider,{value:e},t)}function Kf(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=j.useContext(ta),{matches:a}=j.useContext(ra),{pathname:i}=oi(),l=JSON.stringify(Ug(a,n.v7_relativeSplatPath));return j.useMemo(()=>qg(e,JSON.parse(l),i,r==="path"),[e,l,i,r])}function iD(e,t){return lD(e,t)}function lD(e,t,r,n){Fo()||Nt(!1);let{navigator:a}=j.useContext(ta),{matches:i}=j.useContext(ra),l=i[i.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let u=oi(),d;if(t){var m;let b=typeof t=="string"?Ro(t):t;c==="/"||(m=b.pathname)!=null&&m.startsWith(c)||Nt(!1),d=b}else d=u;let f=d.pathname||"/",h=f;if(c!=="/"){let b=c.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let p=M6(e,{pathname:h}),y=mD(p&&p.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:qa([c,a.encodeLocation?a.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:qa([c,a.encodeLocation?a.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r,n);return t&&y?j.createElement(Vf.Provider,{value:{location:ru({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Da.Pop}},y):y}function oD(){let e=xD(),t=eD(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),r?j.createElement("pre",{style:a},r):null,null)}const cD=j.createElement(oD,null);class uD extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?j.createElement(ra.Provider,{value:this.props.routeContext},j.createElement(pC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function dD(e){let{routeContext:t,match:r,children:n}=e,a=j.useContext(qf);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),j.createElement(ra.Provider,{value:t},n)}function mD(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let d=l.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);d>=0||Nt(!1),l=l.slice(0,Math.min(l.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<l.length;d++){let m=l[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=d),m.route.id){let{loaderData:f,errors:h}=r,p=m.route.loader&&f[m.route.id]===void 0&&(!h||h[m.route.id]===void 0);if(m.route.lazy||p){c=!0,u>=0?l=l.slice(0,u+1):l=[l[0]];break}}}return l.reduceRight((d,m,f)=>{let h,p=!1,y=null,b=null;r&&(h=o&&m.route.id?o[m.route.id]:void 0,y=m.route.errorElement||cD,c&&(u<0&&f===0?(gD("route-fallback"),p=!0,b=null):u===f&&(p=!0,b=m.route.hydrateFallbackElement||null)));let v=t.concat(l.slice(0,f+1)),g=()=>{let x;return h?x=y:p?x=b:m.route.Component?x=j.createElement(m.route.Component,null):m.route.element?x=m.route.element:x=d,j.createElement(dD,{match:m,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:x})};return r&&(m.route.ErrorBoundary||m.route.errorElement||f===0)?j.createElement(uD,{location:r.location,revalidation:r.revalidation,component:y,error:h,children:g(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):g()},null)}var yC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(yC||{}),gC=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(gC||{});function fD(e){let t=j.useContext(qf);return t||Nt(!1),t}function hD(e){let t=j.useContext(hC);return t||Nt(!1),t}function pD(e){let t=j.useContext(ra);return t||Nt(!1),t}function vC(e){let t=pD(),r=t.matches[t.matches.length-1];return r.route.id||Nt(!1),r.route.id}function xD(){var e;let t=j.useContext(pC),r=hD(),n=vC();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function yD(){let{router:e}=fD(yC.UseNavigateStable),t=vC(gC.UseNavigateStable),r=j.useRef(!1);return xC(()=>{r.current=!0}),j.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,ru({fromRouteId:t},i)))},[e,t])}const ww={};function gD(e,t,r){ww[e]||(ww[e]=!0)}function vD(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function km(e){let{to:t,replace:r,state:n,relative:a}=e;Fo()||Nt(!1);let{future:i,static:l}=j.useContext(ta),{matches:o}=j.useContext(ra),{pathname:c}=oi(),u=Vg(),d=qg(t,Ug(o,i.v7_relativeSplatPath),c,a==="path"),m=JSON.stringify(d);return j.useEffect(()=>u(JSON.parse(m),{replace:r,state:n,relative:a}),[u,m,a,r,n]),null}function bD(e){return aD(e.context)}function We(e){Nt(!1)}function jD(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Da.Pop,navigator:i,static:l=!1,future:o}=e;Fo()&&Nt(!1);let c=t.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:c,navigator:i,static:l,future:ru({v7_relativeSplatPath:!1},o)}),[c,o,i,l]);typeof n=="string"&&(n=Ro(n));let{pathname:d="/",search:m="",hash:f="",state:h=null,key:p="default"}=n,y=j.useMemo(()=>{let b=xo(d,c);return b==null?null:{location:{pathname:b,search:m,hash:f,state:h,key:p},navigationType:a}},[c,d,m,f,h,p,a]);return y==null?null:j.createElement(ta.Provider,{value:u},j.createElement(Vf.Provider,{children:r,value:y}))}function wD(e){let{children:t,location:r}=e;return iD(kx(t),r)}new Promise(()=>{});function kx(e,t){t===void 0&&(t=[]);let r=[];return j.Children.forEach(e,(n,a)=>{if(!j.isValidElement(n))return;let i=[...t,a];if(n.type===j.Fragment){r.push.apply(r,kx(n.props.children,i));return}n.type!==We&&Nt(!1),!n.props.index||!n.props.children||Nt(!1);let l={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=kx(n.props.children,i)),r.push(l)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sm(){return Sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sm.apply(this,arguments)}function bC(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function ND(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function kD(e,t){return e.button===0&&(!t||t==="_self")&&!ND(e)}const SD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],AD=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],CD="6";try{window.__reactRouterVersion=CD}catch{}const PD=j.createContext({isTransitioning:!1}),ED="startTransition",Nw=a2[ED];function OD(e){let{basename:t,children:r,future:n,window:a}=e,i=j.useRef();i.current==null&&(i.current=_6({window:a,v5Compat:!0}));let l=i.current,[o,c]=j.useState({action:l.action,location:l.location}),{v7_startTransition:u}=n||{},d=j.useCallback(m=>{u&&Nw?Nw(()=>c(m)):c(m)},[c,u]);return j.useLayoutEffect(()=>l.listen(d),[l,d]),j.useEffect(()=>vD(n),[n]),j.createElement(jD,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:l,future:n})}const _D=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,DD=j.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:l,state:o,target:c,to:u,preventScrollReset:d,viewTransition:m}=t,f=bC(t,SD),{basename:h}=j.useContext(ta),p,y=!1;if(typeof u=="string"&&TD.test(u)&&(p=u,_D))try{let x=new URL(window.location.href),w=u.startsWith("//")?new URL(x.protocol+u):new URL(u),N=xo(w.pathname,h);w.origin===x.origin&&N!=null?u=N+w.search+w.hash:y=!0}catch{}let b=rD(u,{relative:a}),v=ID(u,{replace:l,state:o,target:c,preventScrollReset:d,relative:a,viewTransition:m});function g(x){n&&n(x),x.defaultPrevented||v(x)}return j.createElement("a",Sm({},f,{href:p||b,onClick:y||i?n:g,ref:r,target:c}))}),kw=j.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:l=!1,style:o,to:c,viewTransition:u,children:d}=t,m=bC(t,AD),f=Kf(c,{relative:m.relative}),h=oi(),p=j.useContext(hC),{navigator:y,basename:b}=j.useContext(ta),v=p!=null&&RD(f)&&u===!0,g=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,x=h.pathname,w=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;a||(x=x.toLowerCase(),w=w?w.toLowerCase():null,g=g.toLowerCase()),w&&b&&(w=xo(w,b)||w);const N=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let k=x===g||!l&&x.startsWith(g)&&x.charAt(N)==="/",S=w!=null&&(w===g||!l&&w.startsWith(g)&&w.charAt(g.length)==="/"),A={isActive:k,isPending:S,isTransitioning:v},P=k?n:void 0,C;typeof i=="function"?C=i(A):C=[i,k?"active":null,S?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let D=typeof o=="function"?o(A):o;return j.createElement(DD,Sm({},m,{"aria-current":P,className:C,ref:r,style:D,to:c,viewTransition:u}),typeof d=="function"?d(A):d)});var Sx;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Sx||(Sx={}));var Sw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Sw||(Sw={}));function MD(e){let t=j.useContext(qf);return t||Nt(!1),t}function ID(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:l,viewTransition:o}=t===void 0?{}:t,c=Vg(),u=oi(),d=Kf(e,{relative:l});return j.useCallback(m=>{if(kD(m,r)){m.preventDefault();let f=n!==void 0?n:Nm(u)===Nm(d);c(e,{replace:f,state:a,preventScrollReset:i,relative:l,viewTransition:o})}},[u,c,d,n,a,r,e,i,l,o])}function RD(e,t){t===void 0&&(t={});let r=j.useContext(PD);r==null&&Nt(!1);let{basename:n}=MD(Sx.useViewTransitionState),a=Kf(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=xo(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=xo(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Nx(a.pathname,l)!=null||Nx(a.pathname,i)!=null}var Lo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ji=typeof window>"u"||"Deno"in globalThis;function _r(){}function FD(e,t){return typeof e=="function"?e(t):e}function Ax(e){return typeof e=="number"&&e>=0&&e!==1/0}function jC(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Va(e,t){return typeof e=="function"?e(t):e}function jn(e,t){return typeof e=="function"?e(t):e}function Aw(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:l,stale:o}=e;if(l){if(n){if(t.queryHash!==Kg(l,t.options))return!1}else if(!nu(t.queryKey,l))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||a&&a!==t.state.fetchStatus||i&&!i(t))}function Cw(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(el(t.options.mutationKey)!==el(i))return!1}else if(!nu(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function Kg(e,t){return((t==null?void 0:t.queryKeyHashFn)||el)(e)}function el(e){return JSON.stringify(e,(t,r)=>Cx(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function nu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>nu(e[r],t[r])):!1}function wC(e,t){if(e===t)return e;const r=Pw(e)&&Pw(t);if(r||Cx(e)&&Cx(t)){const n=r?e:Object.keys(e),a=n.length,i=r?t:Object.keys(t),l=i.length,o=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<l;d++){const m=r?d:i[d];(!r&&c.has(m)||r)&&e[m]===void 0&&t[m]===void 0?(o[m]=void 0,u++):(o[m]=wC(e[m],t[m]),o[m]===e[m]&&e[m]!==void 0&&u++)}return a===l&&u===a?e:o}return t}function Am(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Pw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Cx(e){if(!Ew(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Ew(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ew(e){return Object.prototype.toString.call(e)==="[object Object]"}function LD(e){return new Promise(t=>{setTimeout(t,e)})}function Px(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?wC(e,t):t}function $D(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function BD(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Hg=Symbol();function NC(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Hg?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function kC(e,t){return typeof e=="function"?e(...t):!!e}var Ti,wa,Gl,$S,zD=($S=class extends Lo{constructor(){super();ge(this,Ti);ge(this,wa);ge(this,Gl);ae(this,Gl,t=>{if(!Ji&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){O(this,wa)||this.setEventListener(O(this,Gl))}onUnsubscribe(){var t;this.hasListeners()||((t=O(this,wa))==null||t.call(this),ae(this,wa,void 0))}setEventListener(t){var r;ae(this,Gl,t),(r=O(this,wa))==null||r.call(this),ae(this,wa,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){O(this,Ti)!==t&&(ae(this,Ti,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof O(this,Ti)=="boolean"?O(this,Ti):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ti=new WeakMap,wa=new WeakMap,Gl=new WeakMap,$S),Wg=new zD,Yl,Na,Xl,BS,UD=(BS=class extends Lo{constructor(){super();ge(this,Yl,!0);ge(this,Na);ge(this,Xl);ae(this,Xl,t=>{if(!Ji&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){O(this,Na)||this.setEventListener(O(this,Xl))}onUnsubscribe(){var t;this.hasListeners()||((t=O(this,Na))==null||t.call(this),ae(this,Na,void 0))}setEventListener(t){var r;ae(this,Xl,t),(r=O(this,Na))==null||r.call(this),ae(this,Na,t(this.setOnline.bind(this)))}setOnline(t){O(this,Yl)!==t&&(ae(this,Yl,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return O(this,Yl)}},Yl=new WeakMap,Na=new WeakMap,Xl=new WeakMap,BS),Cm=new UD;function Ex(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function qD(e){return Math.min(1e3*2**e,3e4)}function SC(e){return(e??"online")==="online"?Cm.isOnline():!0}var AC=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function CC(e){let t=!1,r=0,n;const a=Ex(),i=()=>a.status!=="pending",l=y=>{var b;i()||(f(new AC(y)),(b=e.abort)==null||b.call(e))},o=()=>{t=!0},c=()=>{t=!1},u=()=>Wg.isFocused()&&(e.networkMode==="always"||Cm.isOnline())&&e.canRun(),d=()=>SC(e.networkMode)&&e.canRun(),m=y=>{i()||(n==null||n(),a.resolve(y))},f=y=>{i()||(n==null||n(),a.reject(y))},h=()=>new Promise(y=>{var b;n=v=>{(i()||u())&&y(v)},(b=e.onPause)==null||b.call(e)}).then(()=>{var y;n=void 0,i()||(y=e.onContinue)==null||y.call(e)}),p=()=>{if(i())return;let y;const b=r===0?e.initialPromise:void 0;try{y=b??e.fn()}catch(v){y=Promise.reject(v)}Promise.resolve(y).then(m).catch(v=>{var k;if(i())return;const g=e.retry??(Ji?0:3),x=e.retryDelay??qD,w=typeof x=="function"?x(r,v):x,N=g===!0||typeof g=="number"&&r<g||typeof g=="function"&&g(r,v);if(t||!N){f(v);return}r++,(k=e.onFail)==null||k.call(e,r,v),LD(w).then(()=>u()?void 0:h()).then(()=>{t?f(v):p()})})};return{promise:a,status:()=>a.status,cancel:l,continue:()=>(n==null||n(),a),cancelRetry:o,continueRetry:c,canStart:d,start:()=>(d()?p():h().then(p),a)}}var VD=e=>setTimeout(e,0);function KD(){let e=[],t=0,r=o=>{o()},n=o=>{o()},a=VD;const i=o=>{t?e.push(o):a(()=>{r(o)})},l=()=>{const o=e;e=[],o.length&&a(()=>{n(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||l()}return c},batchCalls:o=>(...c)=>{i(()=>{o(...c)})},schedule:i,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var Qt=KD(),Di,zS,PC=(zS=class{constructor(){ge(this,Di)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ax(this.gcTime)&&ae(this,Di,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ji?1/0:5*60*1e3))}clearGcTimeout(){O(this,Di)&&(clearTimeout(O(this,Di)),ae(this,Di,void 0))}},Di=new WeakMap,zS),Zl,Jl,bn,Mi,er,vu,Ii,Un,ks,US,HD=(US=class extends PC{constructor(t){super();ge(this,Un);ge(this,Zl);ge(this,Jl);ge(this,bn);ge(this,Mi);ge(this,er);ge(this,vu);ge(this,Ii);ae(this,Ii,!1),ae(this,vu,t.defaultOptions),this.setOptions(t.options),this.observers=[],ae(this,Mi,t.client),ae(this,bn,O(this,Mi).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ae(this,Zl,WD(this.options)),this.state=t.state??O(this,Zl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=O(this,er))==null?void 0:t.promise}setOptions(t){this.options={...O(this,vu),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&O(this,bn).remove(this)}setData(t,r){const n=Px(this.state.data,t,this.options);return Pe(this,Un,ks).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Pe(this,Un,ks).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=O(this,er))==null?void 0:n.promise;return(a=O(this,er))==null||a.cancel(t),r?r.then(_r).catch(_r):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(O(this,Zl))}isActive(){return this.observers.some(t=>jn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Hg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Va(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!jC(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=O(this,er))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=O(this,er))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),O(this,bn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(O(this,er)&&(O(this,Ii)?O(this,er).cancel({revert:!0}):O(this,er).cancelRetry()),this.scheduleGc()),O(this,bn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Pe(this,Un,ks).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,m,f,h,p,y,b,v,g,x;if(this.state.fetchStatus!=="idle"&&((c=O(this,er))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(O(this,er))return O(this,er).continueRetry(),O(this,er).promise}if(t&&this.setOptions(t),!this.options.queryFn){const w=this.observers.find(N=>N.options.queryFn);w&&this.setOptions(w.options)}const n=new AbortController,a=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(ae(this,Ii,!0),n.signal)})},i=()=>{const w=NC(this.options,r),k=(()=>{const S={client:O(this,Mi),queryKey:this.queryKey,meta:this.meta};return a(S),S})();return ae(this,Ii,!1),this.options.persister?this.options.persister(w,k,this):w(k)},o=(()=>{const w={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:O(this,Mi),state:this.state,fetchFn:i};return a(w),w})();(u=this.options.behavior)==null||u.onFetch(o,this),ae(this,Jl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Pe(this,Un,ks).call(this,{type:"fetch",meta:(m=o.fetchOptions)==null?void 0:m.meta}),ae(this,er,CC({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onFail:(w,N)=>{Pe(this,Un,ks).call(this,{type:"failed",failureCount:w,error:N})},onPause:()=>{Pe(this,Un,ks).call(this,{type:"pause"})},onContinue:()=>{Pe(this,Un,ks).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const w=await O(this,er).start();if(w===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(w),(h=(f=O(this,bn).config).onSuccess)==null||h.call(f,w,this),(y=(p=O(this,bn).config).onSettled)==null||y.call(p,w,this.state.error,this),w}catch(w){if(w instanceof AC){if(w.silent)return O(this,er).promise;if(w.revert){if(this.setState({...O(this,Jl),fetchStatus:"idle"}),this.state.data===void 0)throw w;return this.state.data}}throw Pe(this,Un,ks).call(this,{type:"error",error:w}),(v=(b=O(this,bn).config).onError)==null||v.call(b,w,this),(x=(g=O(this,bn).config).onSettled)==null||x.call(g,this.state.data,w,this),w}finally{this.scheduleGc()}}},Zl=new WeakMap,Jl=new WeakMap,bn=new WeakMap,Mi=new WeakMap,er=new WeakMap,vu=new WeakMap,Ii=new WeakMap,Un=new WeakSet,ks=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...EC(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ae(this,Jl,t.manual?a:void 0),a;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Qt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),O(this,bn).notify({query:this,type:"updated",action:t})})},US);function EC(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:SC(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function WD(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var is,qS,QD=(qS=class extends Lo{constructor(t={}){super();ge(this,is);this.config=t,ae(this,is,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??Kg(a,r);let l=this.get(i);return l||(l=new HD({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(l)),l}add(t){O(this,is).has(t.queryHash)||(O(this,is).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=O(this,is).get(t.queryHash);r&&(t.destroy(),r===t&&O(this,is).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Qt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return O(this,is).get(t)}getAll(){return[...O(this,is).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Aw(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Aw(t,n)):r}notify(t){Qt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Qt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Qt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},is=new WeakMap,qS),ls,Cr,Ri,os,fa,VS,GD=(VS=class extends PC{constructor(t){super();ge(this,os);ge(this,ls);ge(this,Cr);ge(this,Ri);this.mutationId=t.mutationId,ae(this,Cr,t.mutationCache),ae(this,ls,[]),this.state=t.state||OC(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){O(this,ls).includes(t)||(O(this,ls).push(t),this.clearGcTimeout(),O(this,Cr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ae(this,ls,O(this,ls).filter(r=>r!==t)),this.scheduleGc(),O(this,Cr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){O(this,ls).length||(this.state.status==="pending"?this.scheduleGc():O(this,Cr).remove(this))}continue(){var t;return((t=O(this,Ri))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,l,o,c,u,d,m,f,h,p,y,b,v,g,x,w,N,k,S,A;const r=()=>{Pe(this,os,fa).call(this,{type:"continue"})};ae(this,Ri,CC({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(P,C)=>{Pe(this,os,fa).call(this,{type:"failed",failureCount:P,error:C})},onPause:()=>{Pe(this,os,fa).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>O(this,Cr).canRun(this)}));const n=this.state.status==="pending",a=!O(this,Ri).canStart();try{if(n)r();else{Pe(this,os,fa).call(this,{type:"pending",variables:t,isPaused:a}),await((l=(i=O(this,Cr).config).onMutate)==null?void 0:l.call(i,t,this));const C=await((c=(o=this.options).onMutate)==null?void 0:c.call(o,t));C!==this.state.context&&Pe(this,os,fa).call(this,{type:"pending",context:C,variables:t,isPaused:a})}const P=await O(this,Ri).start();return await((d=(u=O(this,Cr).config).onSuccess)==null?void 0:d.call(u,P,t,this.state.context,this)),await((f=(m=this.options).onSuccess)==null?void 0:f.call(m,P,t,this.state.context)),await((p=(h=O(this,Cr).config).onSettled)==null?void 0:p.call(h,P,null,this.state.variables,this.state.context,this)),await((b=(y=this.options).onSettled)==null?void 0:b.call(y,P,null,t,this.state.context)),Pe(this,os,fa).call(this,{type:"success",data:P}),P}catch(P){try{throw await((g=(v=O(this,Cr).config).onError)==null?void 0:g.call(v,P,t,this.state.context,this)),await((w=(x=this.options).onError)==null?void 0:w.call(x,P,t,this.state.context)),await((k=(N=O(this,Cr).config).onSettled)==null?void 0:k.call(N,void 0,P,this.state.variables,this.state.context,this)),await((A=(S=this.options).onSettled)==null?void 0:A.call(S,void 0,P,t,this.state.context)),P}finally{Pe(this,os,fa).call(this,{type:"error",error:P})}}finally{O(this,Cr).runNext(this)}}},ls=new WeakMap,Cr=new WeakMap,Ri=new WeakMap,os=new WeakSet,fa=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Qt.batch(()=>{O(this,ls).forEach(n=>{n.onMutationUpdate(t)}),O(this,Cr).notify({mutation:this,type:"updated",action:t})})},VS);function OC(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Cs,qn,bu,KS,YD=(KS=class extends Lo{constructor(t={}){super();ge(this,Cs);ge(this,qn);ge(this,bu);this.config=t,ae(this,Cs,new Set),ae(this,qn,new Map),ae(this,bu,0)}build(t,r,n){const a=new GD({mutationCache:this,mutationId:++Ju(this,bu)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){O(this,Cs).add(t);const r=yd(t);if(typeof r=="string"){const n=O(this,qn).get(r);n?n.push(t):O(this,qn).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(O(this,Cs).delete(t)){const r=yd(t);if(typeof r=="string"){const n=O(this,qn).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&O(this,qn).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=yd(t);if(typeof r=="string"){const n=O(this,qn).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=yd(t);if(typeof r=="string"){const a=(n=O(this,qn).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Qt.batch(()=>{O(this,Cs).forEach(t=>{this.notify({type:"removed",mutation:t})}),O(this,Cs).clear(),O(this,qn).clear()})}getAll(){return Array.from(O(this,Cs))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Cw(r,n))}findAll(t={}){return this.getAll().filter(r=>Cw(t,r))}notify(t){Qt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Qt.batch(()=>Promise.all(t.map(r=>r.continue().catch(_r))))}},Cs=new WeakMap,qn=new WeakMap,bu=new WeakMap,KS);function yd(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Ow(e){return{onFetch:(t,r)=>{var d,m,f,h,p;const n=t.options,a=(f=(m=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:m.fetchMore)==null?void 0:f.direction,i=((h=t.state.data)==null?void 0:h.pages)||[],l=((p=t.state.data)==null?void 0:p.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let y=!1;const b=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},v=NC(t.options,t.fetchOptions),g=async(x,w,N)=>{if(y)return Promise.reject();if(w==null&&x.pages.length)return Promise.resolve(x);const S=(()=>{const D={client:t.client,queryKey:t.queryKey,pageParam:w,direction:N?"backward":"forward",meta:t.options.meta};return b(D),D})(),A=await v(S),{maxPages:P}=t.options,C=N?BD:$D;return{pages:C(x.pages,A,P),pageParams:C(x.pageParams,w,P)}};if(a&&i.length){const x=a==="backward",w=x?XD:_w,N={pages:i,pageParams:l},k=w(n,N);o=await g(N,k,x)}else{const x=e??i.length;do{const w=c===0?l[0]??n.initialPageParam:_w(n,o);if(c>0&&w==null)break;o=await g(o,w),c++}while(c<x)}return o};t.options.persister?t.fetchFn=()=>{var y,b;return(b=(y=t.options).persister)==null?void 0:b.call(y,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function _w(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function XD(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Ct,ka,Sa,eo,to,Aa,ro,no,HS,ZD=(HS=class{constructor(e={}){ge(this,Ct);ge(this,ka);ge(this,Sa);ge(this,eo);ge(this,to);ge(this,Aa);ge(this,ro);ge(this,no);ae(this,Ct,e.queryCache||new QD),ae(this,ka,e.mutationCache||new YD),ae(this,Sa,e.defaultOptions||{}),ae(this,eo,new Map),ae(this,to,new Map),ae(this,Aa,0)}mount(){Ju(this,Aa)._++,O(this,Aa)===1&&(ae(this,ro,Wg.subscribe(async e=>{e&&(await this.resumePausedMutations(),O(this,Ct).onFocus())})),ae(this,no,Cm.subscribe(async e=>{e&&(await this.resumePausedMutations(),O(this,Ct).onOnline())})))}unmount(){var e,t;Ju(this,Aa)._--,O(this,Aa)===0&&((e=O(this,ro))==null||e.call(this),ae(this,ro,void 0),(t=O(this,no))==null||t.call(this),ae(this,no,void 0))}isFetching(e){return O(this,Ct).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return O(this,ka).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=O(this,Ct).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=O(this,Ct).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Va(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return O(this,Ct).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=O(this,Ct).get(n.queryHash),i=a==null?void 0:a.state.data,l=FD(t,i);if(l!==void 0)return O(this,Ct).build(this,n).setData(l,{...r,manual:!0})}setQueriesData(e,t,r){return Qt.batch(()=>O(this,Ct).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=O(this,Ct).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=O(this,Ct);Qt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=O(this,Ct);return Qt.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Qt.batch(()=>O(this,Ct).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(_r).catch(_r)}invalidateQueries(e,t={}){return Qt.batch(()=>(O(this,Ct).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Qt.batch(()=>O(this,Ct).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(_r)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(_r)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=O(this,Ct).build(this,t);return r.isStaleByTime(Va(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(_r).catch(_r)}fetchInfiniteQuery(e){return e.behavior=Ow(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(_r).catch(_r)}ensureInfiniteQueryData(e){return e.behavior=Ow(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Cm.isOnline()?O(this,ka).resumePausedMutations():Promise.resolve()}getQueryCache(){return O(this,Ct)}getMutationCache(){return O(this,ka)}getDefaultOptions(){return O(this,Sa)}setDefaultOptions(e){ae(this,Sa,e)}setQueryDefaults(e,t){O(this,eo).set(el(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...O(this,eo).values()],r={};return t.forEach(n=>{nu(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){O(this,to).set(el(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...O(this,to).values()],r={};return t.forEach(n=>{nu(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...O(this,Sa).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Kg(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Hg&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...O(this,Sa).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){O(this,Ct).clear(),O(this,ka).clear()}},Ct=new WeakMap,ka=new WeakMap,Sa=new WeakMap,eo=new WeakMap,to=new WeakMap,Aa=new WeakMap,ro=new WeakMap,no=new WeakMap,HS),$r,Me,ju,Pr,Fi,so,Ps,Ca,wu,ao,io,Li,$i,Pa,lo,qe,wc,Ox,_x,Tx,Dx,Mx,Ix,Rx,_C,WS,JD=(WS=class extends Lo{constructor(t,r){super();ge(this,qe);ge(this,$r);ge(this,Me);ge(this,ju);ge(this,Pr);ge(this,Fi);ge(this,so);ge(this,Ps);ge(this,Ca);ge(this,wu);ge(this,ao);ge(this,io);ge(this,Li);ge(this,$i);ge(this,Pa);ge(this,lo,new Set);this.options=r,ae(this,$r,t),ae(this,Ca,null),ae(this,Ps,Ex()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(O(this,Me).addObserver(this),Tw(O(this,Me),this.options)?Pe(this,qe,wc).call(this):this.updateResult(),Pe(this,qe,Dx).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Fx(O(this,Me),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Fx(O(this,Me),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Pe(this,qe,Mx).call(this),Pe(this,qe,Ix).call(this),O(this,Me).removeObserver(this)}setOptions(t){const r=this.options,n=O(this,Me);if(this.options=O(this,$r).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof jn(this.options.enabled,O(this,Me))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Pe(this,qe,Rx).call(this),O(this,Me).setOptions(this.options),r._defaulted&&!Am(this.options,r)&&O(this,$r).getQueryCache().notify({type:"observerOptionsUpdated",query:O(this,Me),observer:this});const a=this.hasListeners();a&&Dw(O(this,Me),n,this.options,r)&&Pe(this,qe,wc).call(this),this.updateResult(),a&&(O(this,Me)!==n||jn(this.options.enabled,O(this,Me))!==jn(r.enabled,O(this,Me))||Va(this.options.staleTime,O(this,Me))!==Va(r.staleTime,O(this,Me)))&&Pe(this,qe,Ox).call(this);const i=Pe(this,qe,_x).call(this);a&&(O(this,Me)!==n||jn(this.options.enabled,O(this,Me))!==jn(r.enabled,O(this,Me))||i!==O(this,Pa))&&Pe(this,qe,Tx).call(this,i)}getOptimisticResult(t){const r=O(this,$r).getQueryCache().build(O(this,$r),t),n=this.createResult(r,t);return tM(this,n)&&(ae(this,Pr,n),ae(this,so,this.options),ae(this,Fi,O(this,Me).state)),n}getCurrentResult(){return O(this,Pr)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&!this.options.experimental_prefetchInRender&&O(this,Ps).status==="pending"&&O(this,Ps).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),Reflect.get(n,a))})}trackProp(t){O(this,lo).add(t)}getCurrentQuery(){return O(this,Me)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=O(this,$r).defaultQueryOptions(t),n=O(this,$r).getQueryCache().build(O(this,$r),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Pe(this,qe,wc).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),O(this,Pr)))}createResult(t,r){var P;const n=O(this,Me),a=this.options,i=O(this,Pr),l=O(this,Fi),o=O(this,so),u=t!==n?t.state:O(this,ju),{state:d}=t;let m={...d},f=!1,h;if(r._optimisticResults){const C=this.hasListeners(),D=!C&&Tw(t,r),E=C&&Dw(t,n,r,a);(D||E)&&(m={...m,...EC(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:p,errorUpdatedAt:y,status:b}=m;h=m.data;let v=!1;if(r.placeholderData!==void 0&&h===void 0&&b==="pending"){let C;i!=null&&i.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(C=i.data,v=!0):C=typeof r.placeholderData=="function"?r.placeholderData((P=O(this,io))==null?void 0:P.state.data,O(this,io)):r.placeholderData,C!==void 0&&(b="success",h=Px(i==null?void 0:i.data,C,r),f=!0)}if(r.select&&h!==void 0&&!v)if(i&&h===(l==null?void 0:l.data)&&r.select===O(this,wu))h=O(this,ao);else try{ae(this,wu,r.select),h=r.select(h),h=Px(i==null?void 0:i.data,h,r),ae(this,ao,h),ae(this,Ca,null)}catch(C){ae(this,Ca,C)}O(this,Ca)&&(p=O(this,Ca),h=O(this,ao),y=Date.now(),b="error");const g=m.fetchStatus==="fetching",x=b==="pending",w=b==="error",N=x&&g,k=h!==void 0,A={status:b,fetchStatus:m.fetchStatus,isPending:x,isSuccess:b==="success",isError:w,isInitialLoading:N,isLoading:N,data:h,dataUpdatedAt:m.dataUpdatedAt,error:p,errorUpdatedAt:y,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>u.dataUpdateCount||m.errorUpdateCount>u.errorUpdateCount,isFetching:g,isRefetching:g&&!x,isLoadingError:w&&!k,isPaused:m.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&k,isStale:Qg(t,r),refetch:this.refetch,promise:O(this,Ps),isEnabled:jn(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const C=L=>{A.status==="error"?L.reject(A.error):A.data!==void 0&&L.resolve(A.data)},D=()=>{const L=ae(this,Ps,A.promise=Ex());C(L)},E=O(this,Ps);switch(E.status){case"pending":t.queryHash===n.queryHash&&C(E);break;case"fulfilled":(A.status==="error"||A.data!==E.value)&&D();break;case"rejected":(A.status!=="error"||A.error!==E.reason)&&D();break}}return A}updateResult(){const t=O(this,Pr),r=this.createResult(O(this,Me),this.options);if(ae(this,Fi,O(this,Me).state),ae(this,so,this.options),O(this,Fi).data!==void 0&&ae(this,io,O(this,Me)),Am(r,t))return;ae(this,Pr,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!O(this,lo).size)return!0;const l=new Set(i??O(this,lo));return this.options.throwOnError&&l.add("error"),Object.keys(O(this,Pr)).some(o=>{const c=o;return O(this,Pr)[c]!==t[c]&&l.has(c)})};Pe(this,qe,_C).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Pe(this,qe,Dx).call(this)}},$r=new WeakMap,Me=new WeakMap,ju=new WeakMap,Pr=new WeakMap,Fi=new WeakMap,so=new WeakMap,Ps=new WeakMap,Ca=new WeakMap,wu=new WeakMap,ao=new WeakMap,io=new WeakMap,Li=new WeakMap,$i=new WeakMap,Pa=new WeakMap,lo=new WeakMap,qe=new WeakSet,wc=function(t){Pe(this,qe,Rx).call(this);let r=O(this,Me).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(_r)),r},Ox=function(){Pe(this,qe,Mx).call(this);const t=Va(this.options.staleTime,O(this,Me));if(Ji||O(this,Pr).isStale||!Ax(t))return;const n=jC(O(this,Pr).dataUpdatedAt,t)+1;ae(this,Li,setTimeout(()=>{O(this,Pr).isStale||this.updateResult()},n))},_x=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(O(this,Me)):this.options.refetchInterval)??!1},Tx=function(t){Pe(this,qe,Ix).call(this),ae(this,Pa,t),!(Ji||jn(this.options.enabled,O(this,Me))===!1||!Ax(O(this,Pa))||O(this,Pa)===0)&&ae(this,$i,setInterval(()=>{(this.options.refetchIntervalInBackground||Wg.isFocused())&&Pe(this,qe,wc).call(this)},O(this,Pa)))},Dx=function(){Pe(this,qe,Ox).call(this),Pe(this,qe,Tx).call(this,Pe(this,qe,_x).call(this))},Mx=function(){O(this,Li)&&(clearTimeout(O(this,Li)),ae(this,Li,void 0))},Ix=function(){O(this,$i)&&(clearInterval(O(this,$i)),ae(this,$i,void 0))},Rx=function(){const t=O(this,$r).getQueryCache().build(O(this,$r),this.options);if(t===O(this,Me))return;const r=O(this,Me);ae(this,Me,t),ae(this,ju,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},_C=function(t){Qt.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(O(this,Pr))}),O(this,$r).getQueryCache().notify({query:O(this,Me),type:"observerResultsUpdated"})})},WS);function eM(e,t){return jn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Tw(e,t){return eM(e,t)||e.state.data!==void 0&&Fx(e,t,t.refetchOnMount)}function Fx(e,t,r){if(jn(t.enabled,e)!==!1&&Va(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Qg(e,t)}return!1}function Dw(e,t,r,n){return(e!==t||jn(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Qg(e,r)}function Qg(e,t){return jn(t.enabled,e)!==!1&&e.isStaleByTime(Va(t.staleTime,e))}function tM(e,t){return!Am(e.getCurrentResult(),t)}var Ea,Oa,Br,Es,zs,Hd,Lx,QS,rM=(QS=class extends Lo{constructor(r,n){super();ge(this,zs);ge(this,Ea);ge(this,Oa);ge(this,Br);ge(this,Es);ae(this,Ea,r),this.setOptions(n),this.bindMethods(),Pe(this,zs,Hd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=O(this,Ea).defaultMutationOptions(r),Am(this.options,n)||O(this,Ea).getMutationCache().notify({type:"observerOptionsUpdated",mutation:O(this,Br),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&el(n.mutationKey)!==el(this.options.mutationKey)?this.reset():((a=O(this,Br))==null?void 0:a.state.status)==="pending"&&O(this,Br).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=O(this,Br))==null||r.removeObserver(this)}onMutationUpdate(r){Pe(this,zs,Hd).call(this),Pe(this,zs,Lx).call(this,r)}getCurrentResult(){return O(this,Oa)}reset(){var r;(r=O(this,Br))==null||r.removeObserver(this),ae(this,Br,void 0),Pe(this,zs,Hd).call(this),Pe(this,zs,Lx).call(this)}mutate(r,n){var a;return ae(this,Es,n),(a=O(this,Br))==null||a.removeObserver(this),ae(this,Br,O(this,Ea).getMutationCache().build(O(this,Ea),this.options)),O(this,Br).addObserver(this),O(this,Br).execute(r)}},Ea=new WeakMap,Oa=new WeakMap,Br=new WeakMap,Es=new WeakMap,zs=new WeakSet,Hd=function(){var n;const r=((n=O(this,Br))==null?void 0:n.state)??OC();ae(this,Oa,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Lx=function(r){Qt.batch(()=>{var n,a,i,l,o,c,u,d;if(O(this,Es)&&this.hasListeners()){const m=O(this,Oa).variables,f=O(this,Oa).context;(r==null?void 0:r.type)==="success"?((a=(n=O(this,Es)).onSuccess)==null||a.call(n,r.data,m,f),(l=(i=O(this,Es)).onSettled)==null||l.call(i,r.data,null,m,f)):(r==null?void 0:r.type)==="error"&&((c=(o=O(this,Es)).onError)==null||c.call(o,r.error,m,f),(d=(u=O(this,Es)).onSettled)==null||d.call(u,void 0,r.error,m,f))}this.listeners.forEach(m=>{m(O(this,Oa))})})},QS),TC=j.createContext(void 0),Ne=e=>{const t=j.useContext(TC);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},nM=({client:e,children:t})=>(j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(TC.Provider,{value:e,children:t})),DC=j.createContext(!1),sM=()=>j.useContext(DC);DC.Provider;function aM(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var iM=j.createContext(aM()),lM=()=>j.useContext(iM),oM=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},cM=e=>{j.useEffect(()=>{e.clearReset()},[e])},uM=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||kC(r,[e.error,n])),dM=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},mM=(e,t)=>e.isLoading&&e.isFetching&&!t,fM=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Mw=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function hM(e,t,r){var m,f,h,p,y;const n=sM(),a=lM(),i=Ne(),l=i.defaultQueryOptions(e);(f=(m=i.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||f.call(m,l),l._optimisticResults=n?"isRestoring":"optimistic",dM(l),oM(l,a),cM(a);const o=!i.getQueryCache().get(l.queryHash),[c]=j.useState(()=>new t(i,l)),u=c.getOptimisticResult(l),d=!n&&e.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(b=>{const v=d?c.subscribe(Qt.batchCalls(b)):_r;return c.updateResult(),v},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),j.useEffect(()=>{c.setOptions(l)},[l,c]),fM(l,u))throw Mw(l,c,a);if(uM({result:u,errorResetBoundary:a,throwOnError:l.throwOnError,query:i.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw u.error;if((p=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||p.call(h,l,u),l.experimental_prefetchInRender&&!Ji&&mM(u,n)){const b=o?Mw(l,c,a):(y=i.getQueryCache().get(l.queryHash))==null?void 0:y.promise;b==null||b.catch(_r).finally(()=>{c.updateResult()})}return l.notifyOnChangeProps?u:c.trackResult(u)}function ve(e,t){return hM(e,JD)}function be(e,t){const r=Ne(),[n]=j.useState(()=>new rM(r,e));j.useEffect(()=>{n.setOptions(e)},[n,e]);const a=j.useSyncExternalStore(j.useCallback(l=>n.subscribe(Qt.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=j.useCallback((l,o)=>{n.mutate(l,o).catch(_r)},[n]);if(a.error&&kC(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}function MC(e,t){return function(){return e.apply(t,arguments)}}const{toString:pM}=Object.prototype,{getPrototypeOf:Gg}=Object,{iterator:Hf,toStringTag:IC}=Symbol,Wf=(e=>t=>{const r=pM.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Jn=e=>(e=e.toLowerCase(),t=>Wf(t)===e),Qf=e=>t=>typeof t===e,{isArray:$o}=Array,su=Qf("undefined");function Pu(e){return e!==null&&!su(e)&&e.constructor!==null&&!su(e.constructor)&&Gr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const RC=Jn("ArrayBuffer");function xM(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&RC(e.buffer),t}const yM=Qf("string"),Gr=Qf("function"),FC=Qf("number"),Eu=e=>e!==null&&typeof e=="object",gM=e=>e===!0||e===!1,Wd=e=>{if(Wf(e)!=="object")return!1;const t=Gg(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(IC in e)&&!(Hf in e)},vM=e=>{if(!Eu(e)||Pu(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},bM=Jn("Date"),jM=Jn("File"),wM=Jn("Blob"),NM=Jn("FileList"),kM=e=>Eu(e)&&Gr(e.pipe),SM=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Gr(e.append)&&((t=Wf(e))==="formdata"||t==="object"&&Gr(e.toString)&&e.toString()==="[object FormData]"))},AM=Jn("URLSearchParams"),[CM,PM,EM,OM]=["ReadableStream","Request","Response","Headers"].map(Jn),_M=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ou(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),$o(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(Pu(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let o;for(n=0;n<l;n++)o=i[n],t.call(null,e[o],o,e)}}function LC(e,t){if(Pu(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const ki=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,$C=e=>!su(e)&&e!==ki;function $x(){const{caseless:e}=$C(this)&&this||{},t={},r=(n,a)=>{const i=e&&LC(t,a)||a;Wd(t[i])&&Wd(n)?t[i]=$x(t[i],n):Wd(n)?t[i]=$x({},n):$o(n)?t[i]=n.slice():t[i]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&Ou(arguments[n],r);return t}const TM=(e,t,r,{allOwnKeys:n}={})=>(Ou(t,(a,i)=>{r&&Gr(a)?e[i]=MC(a,r):e[i]=a},{allOwnKeys:n}),e),DM=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),MM=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},IM=(e,t,r,n)=>{let a,i,l;const o={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)l=a[i],(!n||n(l,e,t))&&!o[l]&&(t[l]=e[l],o[l]=!0);e=r!==!1&&Gg(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},RM=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},FM=e=>{if(!e)return null;if($o(e))return e;let t=e.length;if(!FC(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},LM=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Gg(Uint8Array)),$M=(e,t)=>{const n=(e&&e[Hf]).call(e);let a;for(;(a=n.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},BM=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},zM=Jn("HTMLFormElement"),UM=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),Iw=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),qM=Jn("RegExp"),BC=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Ou(r,(a,i)=>{let l;(l=t(a,i,e))!==!1&&(n[i]=l||a)}),Object.defineProperties(e,n)},VM=e=>{BC(e,(t,r)=>{if(Gr(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Gr(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},KM=(e,t)=>{const r={},n=a=>{a.forEach(i=>{r[i]=!0})};return $o(e)?n(e):n(String(e).split(t)),r},HM=()=>{},WM=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function QM(e){return!!(e&&Gr(e.append)&&e[IC]==="FormData"&&e[Hf])}const GM=e=>{const t=new Array(10),r=(n,a)=>{if(Eu(n)){if(t.indexOf(n)>=0)return;if(Pu(n))return n;if(!("toJSON"in n)){t[a]=n;const i=$o(n)?[]:{};return Ou(n,(l,o)=>{const c=r(l,a+1);!su(c)&&(i[o]=c)}),t[a]=void 0,i}}return n};return r(e,0)},YM=Jn("AsyncFunction"),XM=e=>e&&(Eu(e)||Gr(e))&&Gr(e.then)&&Gr(e.catch),zC=((e,t)=>e?setImmediate:t?((r,n)=>(ki.addEventListener("message",({source:a,data:i})=>{a===ki&&i===r&&n.length&&n.shift()()},!1),a=>{n.push(a),ki.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Gr(ki.postMessage)),ZM=typeof queueMicrotask<"u"?queueMicrotask.bind(ki):typeof process<"u"&&process.nextTick||zC,JM=e=>e!=null&&Gr(e[Hf]),$={isArray:$o,isArrayBuffer:RC,isBuffer:Pu,isFormData:SM,isArrayBufferView:xM,isString:yM,isNumber:FC,isBoolean:gM,isObject:Eu,isPlainObject:Wd,isEmptyObject:vM,isReadableStream:CM,isRequest:PM,isResponse:EM,isHeaders:OM,isUndefined:su,isDate:bM,isFile:jM,isBlob:wM,isRegExp:qM,isFunction:Gr,isStream:kM,isURLSearchParams:AM,isTypedArray:LM,isFileList:NM,forEach:Ou,merge:$x,extend:TM,trim:_M,stripBOM:DM,inherits:MM,toFlatObject:IM,kindOf:Wf,kindOfTest:Jn,endsWith:RM,toArray:FM,forEachEntry:$M,matchAll:BM,isHTMLForm:zM,hasOwnProperty:Iw,hasOwnProp:Iw,reduceDescriptors:BC,freezeMethods:VM,toObjectSet:KM,toCamelCase:UM,noop:HM,toFiniteNumber:WM,findKey:LC,global:ki,isContextDefined:$C,isSpecCompliantForm:QM,toJSONObject:GM,isAsyncFn:YM,isThenable:XM,setImmediate:zC,asap:ZM,isIterable:JM};function Ce(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}$.inherits(Ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.status}}});const UC=Ce.prototype,qC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{qC[e]={value:e}});Object.defineProperties(Ce,qC);Object.defineProperty(UC,"isAxiosError",{value:!0});Ce.from=(e,t,r,n,a,i)=>{const l=Object.create(UC);return $.toFlatObject(e,l,function(c){return c!==Error.prototype},o=>o!=="isAxiosError"),Ce.call(l,e.message,t,r,n,a),l.cause=e,l.name=e.name,i&&Object.assign(l,i),l};const eI=null;function Bx(e){return $.isPlainObject(e)||$.isArray(e)}function VC(e){return $.endsWith(e,"[]")?e.slice(0,-2):e}function Rw(e,t,r){return e?e.concat(t).map(function(a,i){return a=VC(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function tI(e){return $.isArray(e)&&!e.some(Bx)}const rI=$.toFlatObject($,{},null,function(t){return/^is[A-Z]/.test(t)});function Gf(e,t,r){if(!$.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=$.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,b){return!$.isUndefined(b[y])});const n=r.metaTokens,a=r.visitor||d,i=r.dots,l=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&$.isSpecCompliantForm(t);if(!$.isFunction(a))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if($.isDate(p))return p.toISOString();if($.isBoolean(p))return p.toString();if(!c&&$.isBlob(p))throw new Ce("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(p)||$.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,y,b){let v=p;if(p&&!b&&typeof p=="object"){if($.endsWith(y,"{}"))y=n?y:y.slice(0,-2),p=JSON.stringify(p);else if($.isArray(p)&&tI(p)||($.isFileList(p)||$.endsWith(y,"[]"))&&(v=$.toArray(p)))return y=VC(y),v.forEach(function(x,w){!($.isUndefined(x)||x===null)&&t.append(l===!0?Rw([y],w,i):l===null?y:y+"[]",u(x))}),!1}return Bx(p)?!0:(t.append(Rw(b,y,i),u(p)),!1)}const m=[],f=Object.assign(rI,{defaultVisitor:d,convertValue:u,isVisitable:Bx});function h(p,y){if(!$.isUndefined(p)){if(m.indexOf(p)!==-1)throw Error("Circular reference detected in "+y.join("."));m.push(p),$.forEach(p,function(v,g){(!($.isUndefined(v)||v===null)&&a.call(t,v,$.isString(g)?g.trim():g,y,f))===!0&&h(v,y?y.concat(g):[g])}),m.pop()}}if(!$.isObject(e))throw new TypeError("data must be an object");return h(e),t}function Fw(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Yg(e,t){this._pairs=[],e&&Gf(e,this,t)}const KC=Yg.prototype;KC.append=function(t,r){this._pairs.push([t,r])};KC.toString=function(t){const r=t?function(n){return t.call(this,n,Fw)}:Fw;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function nI(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function HC(e,t,r){if(!t)return e;const n=r&&r.encode||nI;$.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(t,r):i=$.isURLSearchParams(t)?t.toString():new Yg(t,r).toString(n),i){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Lw{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){$.forEach(this.handlers,function(n){n!==null&&t(n)})}}const WC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},sI=typeof URLSearchParams<"u"?URLSearchParams:Yg,aI=typeof FormData<"u"?FormData:null,iI=typeof Blob<"u"?Blob:null,lI={isBrowser:!0,classes:{URLSearchParams:sI,FormData:aI,Blob:iI},protocols:["http","https","file","blob","url","data"]},Xg=typeof window<"u"&&typeof document<"u",zx=typeof navigator=="object"&&navigator||void 0,oI=Xg&&(!zx||["ReactNative","NativeScript","NS"].indexOf(zx.product)<0),cI=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",uI=Xg&&window.location.href||"http://localhost",dI=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Xg,hasStandardBrowserEnv:oI,hasStandardBrowserWebWorkerEnv:cI,navigator:zx,origin:uI},Symbol.toStringTag,{value:"Module"})),Nr={...dI,...lI};function mI(e,t){return Gf(e,new Nr.classes.URLSearchParams,{visitor:function(r,n,a,i){return Nr.isNode&&$.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function fI(e){return $.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function hI(e){const t={},r=Object.keys(e);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],t[i]=e[i];return t}function QC(e){function t(r,n,a,i){let l=r[i++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),c=i>=r.length;return l=!l&&$.isArray(a)?a.length:l,c?($.hasOwnProp(a,l)?a[l]=[a[l],n]:a[l]=n,!o):((!a[l]||!$.isObject(a[l]))&&(a[l]=[]),t(r,n,a[l],i)&&$.isArray(a[l])&&(a[l]=hI(a[l])),!o)}if($.isFormData(e)&&$.isFunction(e.entries)){const r={};return $.forEachEntry(e,(n,a)=>{t(fI(n),a,r,0)}),r}return null}function pI(e,t,r){if($.isString(e))try{return(t||JSON.parse)(e),$.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const _u={transitional:WC,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,i=$.isObject(t);if(i&&$.isHTMLForm(t)&&(t=new FormData(t)),$.isFormData(t))return a?JSON.stringify(QC(t)):t;if($.isArrayBuffer(t)||$.isBuffer(t)||$.isStream(t)||$.isFile(t)||$.isBlob(t)||$.isReadableStream(t))return t;if($.isArrayBufferView(t))return t.buffer;if($.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return mI(t,this.formSerializer).toString();if((o=$.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Gf(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),pI(t)):t}],transformResponse:[function(t){const r=this.transitional||_u.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if($.isResponse(t)||$.isReadableStream(t))return t;if(t&&$.isString(t)&&(n&&!this.responseType||a)){const l=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(o){if(l)throw o.name==="SyntaxError"?Ce.from(o,Ce.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Nr.classes.FormData,Blob:Nr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],e=>{_u.headers[e]={}});const xI=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),yI=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(l){a=l.indexOf(":"),r=l.substring(0,a).trim().toLowerCase(),n=l.substring(a+1).trim(),!(!r||t[r]&&xI[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},$w=Symbol("internals");function lc(e){return e&&String(e).trim().toLowerCase()}function Qd(e){return e===!1||e==null?e:$.isArray(e)?e.map(Qd):String(e)}function gI(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const vI=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Rp(e,t,r,n,a){if($.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!$.isString(t)){if($.isString(n))return t.indexOf(n)!==-1;if($.isRegExp(n))return n.test(t)}}function bI(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function jI(e,t){const r=$.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,i,l){return this[n].call(this,t,a,i,l)},configurable:!0})})}let Yr=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function i(o,c,u){const d=lc(c);if(!d)throw new Error("header name must be a non-empty string");const m=$.findKey(a,d);(!m||a[m]===void 0||u===!0||u===void 0&&a[m]!==!1)&&(a[m||c]=Qd(o))}const l=(o,c)=>$.forEach(o,(u,d)=>i(u,d,c));if($.isPlainObject(t)||t instanceof this.constructor)l(t,r);else if($.isString(t)&&(t=t.trim())&&!vI(t))l(yI(t),r);else if($.isObject(t)&&$.isIterable(t)){let o={},c,u;for(const d of t){if(!$.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[u=d[0]]=(c=o[u])?$.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}l(o,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=lc(t),t){const n=$.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return gI(a);if($.isFunction(r))return r.call(this,a,n);if($.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=lc(t),t){const n=$.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Rp(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function i(l){if(l=lc(l),l){const o=$.findKey(n,l);o&&(!r||Rp(n,n[o],o,r))&&(delete n[o],a=!0)}}return $.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const i=r[n];(!t||Rp(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,n={};return $.forEach(this,(a,i)=>{const l=$.findKey(n,i);if(l){r[l]=Qd(a),delete r[i];return}const o=t?bI(i):String(i).trim();o!==i&&delete r[i],r[o]=Qd(a),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return $.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&$.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[$w]=this[$w]={accessors:{}}).accessors,a=this.prototype;function i(l){const o=lc(l);n[o]||(jI(a,l),n[o]=!0)}return $.isArray(t)?t.forEach(i):i(t),this}};Yr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$.reduceDescriptors(Yr.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});$.freezeMethods(Yr);function Fp(e,t){const r=this||_u,n=t||r,a=Yr.from(n.headers);let i=n.data;return $.forEach(e,function(o){i=o.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function GC(e){return!!(e&&e.__CANCEL__)}function Bo(e,t,r){Ce.call(this,e??"canceled",Ce.ERR_CANCELED,t,r),this.name="CanceledError"}$.inherits(Bo,Ce,{__CANCEL__:!0});function YC(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Ce("Request failed with status code "+r.status,[Ce.ERR_BAD_REQUEST,Ce.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function wI(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function NI(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,i=0,l;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[i];l||(l=u),r[a]=c,n[a]=u;let m=i,f=0;for(;m!==a;)f+=r[m++],m=m%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),u-l<t)return;const h=d&&u-d;return h?Math.round(f*1e3/h):void 0}}function kI(e,t){let r=0,n=1e3/t,a,i;const l=(u,d=Date.now())=>{r=d,a=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const d=Date.now(),m=d-r;m>=n?l(u,d):(a=u,i||(i=setTimeout(()=>{i=null,l(a)},n-m)))},()=>a&&l(a)]}const Pm=(e,t,r=3)=>{let n=0;const a=NI(50,250);return kI(i=>{const l=i.loaded,o=i.lengthComputable?i.total:void 0,c=l-n,u=a(c),d=l<=o;n=l;const m={loaded:l,total:o,progress:o?l/o:void 0,bytes:c,rate:u||void 0,estimated:u&&o&&d?(o-l)/u:void 0,event:i,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(m)},r)},Bw=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},zw=e=>(...t)=>$.asap(()=>e(...t)),SI=Nr.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Nr.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Nr.origin),Nr.navigator&&/(msie|trident)/i.test(Nr.navigator.userAgent)):()=>!0,AI=Nr.hasStandardBrowserEnv?{write(e,t,r,n,a,i){const l=[e+"="+encodeURIComponent(t)];$.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),$.isString(n)&&l.push("path="+n),$.isString(a)&&l.push("domain="+a),i===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function CI(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function PI(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function XC(e,t,r){let n=!CI(t);return e&&(n||r==!1)?PI(e,t):t}const Uw=e=>e instanceof Yr?{...e}:e;function tl(e,t){t=t||{};const r={};function n(u,d,m,f){return $.isPlainObject(u)&&$.isPlainObject(d)?$.merge.call({caseless:f},u,d):$.isPlainObject(d)?$.merge({},d):$.isArray(d)?d.slice():d}function a(u,d,m,f){if($.isUndefined(d)){if(!$.isUndefined(u))return n(void 0,u,m,f)}else return n(u,d,m,f)}function i(u,d){if(!$.isUndefined(d))return n(void 0,d)}function l(u,d){if($.isUndefined(d)){if(!$.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function o(u,d,m){if(m in t)return n(u,d);if(m in e)return n(void 0,u)}const c={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(u,d,m)=>a(Uw(u),Uw(d),m,!0)};return $.forEach(Object.keys({...e,...t}),function(d){const m=c[d]||a,f=m(e[d],t[d],d);$.isUndefined(f)&&m!==o||(r[d]=f)}),r}const ZC=e=>{const t=tl({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:l,auth:o}=t;t.headers=l=Yr.from(l),t.url=HC(XC(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let c;if($.isFormData(r)){if(Nr.hasStandardBrowserEnv||Nr.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((c=l.getContentType())!==!1){const[u,...d]=c?c.split(";").map(m=>m.trim()).filter(Boolean):[];l.setContentType([u||"multipart/form-data",...d].join("; "))}}if(Nr.hasStandardBrowserEnv&&(n&&$.isFunction(n)&&(n=n(t)),n||n!==!1&&SI(t.url))){const u=a&&i&&AI.read(i);u&&l.set(a,u)}return t},EI=typeof XMLHttpRequest<"u",OI=EI&&function(e){return new Promise(function(r,n){const a=ZC(e);let i=a.data;const l=Yr.from(a.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:u}=a,d,m,f,h,p;function y(){h&&h(),p&&p(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(a.method.toUpperCase(),a.url,!0),b.timeout=a.timeout;function v(){if(!b)return;const x=Yr.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),N={data:!o||o==="text"||o==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:x,config:e,request:b};YC(function(S){r(S),y()},function(S){n(S),y()},N),b=null}"onloadend"in b?b.onloadend=v:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(v)},b.onabort=function(){b&&(n(new Ce("Request aborted",Ce.ECONNABORTED,e,b)),b=null)},b.onerror=function(){n(new Ce("Network Error",Ce.ERR_NETWORK,e,b)),b=null},b.ontimeout=function(){let w=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const N=a.transitional||WC;a.timeoutErrorMessage&&(w=a.timeoutErrorMessage),n(new Ce(w,N.clarifyTimeoutError?Ce.ETIMEDOUT:Ce.ECONNABORTED,e,b)),b=null},i===void 0&&l.setContentType(null),"setRequestHeader"in b&&$.forEach(l.toJSON(),function(w,N){b.setRequestHeader(N,w)}),$.isUndefined(a.withCredentials)||(b.withCredentials=!!a.withCredentials),o&&o!=="json"&&(b.responseType=a.responseType),u&&([f,p]=Pm(u,!0),b.addEventListener("progress",f)),c&&b.upload&&([m,h]=Pm(c),b.upload.addEventListener("progress",m),b.upload.addEventListener("loadend",h)),(a.cancelToken||a.signal)&&(d=x=>{b&&(n(!x||x.type?new Bo(null,e,b):x),b.abort(),b=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const g=wI(a.url);if(g&&Nr.protocols.indexOf(g)===-1){n(new Ce("Unsupported protocol "+g+":",Ce.ERR_BAD_REQUEST,e));return}b.send(i||null)})},_I=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const i=function(u){if(!a){a=!0,o();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Ce?d:new Bo(d instanceof Error?d.message:d))}};let l=t&&setTimeout(()=>{l=null,i(new Ce(`timeout ${t} of ms exceeded`,Ce.ETIMEDOUT))},t);const o=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>$.asap(o),c}},TI=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},DI=async function*(e,t){for await(const r of MI(e))yield*TI(r,t)},MI=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},qw=(e,t,r,n)=>{const a=DI(e,t);let i=0,l,o=c=>{l||(l=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){o(),c.close();return}let m=d.byteLength;if(r){let f=i+=m;r(f)}c.enqueue(new Uint8Array(d))}catch(u){throw o(u),u}},cancel(c){return o(c),a.return()}},{highWaterMark:2})},Yf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",JC=Yf&&typeof ReadableStream=="function",II=Yf&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),e4=(e,...t)=>{try{return!!e(...t)}catch{return!1}},RI=JC&&e4(()=>{let e=!1;const t=new Request(Nr.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Vw=64*1024,Ux=JC&&e4(()=>$.isReadableStream(new Response("").body)),Em={stream:Ux&&(e=>e.body)};Yf&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Em[t]&&(Em[t]=$.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new Ce(`Response type '${t}' is not supported`,Ce.ERR_NOT_SUPPORT,n)})})})(new Response);const FI=async e=>{if(e==null)return 0;if($.isBlob(e))return e.size;if($.isSpecCompliantForm(e))return(await new Request(Nr.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if($.isArrayBufferView(e)||$.isArrayBuffer(e))return e.byteLength;if($.isURLSearchParams(e)&&(e=e+""),$.isString(e))return(await II(e)).byteLength},LI=async(e,t)=>{const r=$.toFiniteNumber(e.getContentLength());return r??FI(t)},$I=Yf&&(async e=>{let{url:t,method:r,data:n,signal:a,cancelToken:i,timeout:l,onDownloadProgress:o,onUploadProgress:c,responseType:u,headers:d,withCredentials:m="same-origin",fetchOptions:f}=ZC(e);u=u?(u+"").toLowerCase():"text";let h=_I([a,i&&i.toAbortSignal()],l),p;const y=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let b;try{if(c&&RI&&r!=="get"&&r!=="head"&&(b=await LI(d,n))!==0){let N=new Request(t,{method:"POST",body:n,duplex:"half"}),k;if($.isFormData(n)&&(k=N.headers.get("content-type"))&&d.setContentType(k),N.body){const[S,A]=Bw(b,Pm(zw(c)));n=qw(N.body,Vw,S,A)}}$.isString(m)||(m=m?"include":"omit");const v="credentials"in Request.prototype;p=new Request(t,{...f,signal:h,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:v?m:void 0});let g=await fetch(p,f);const x=Ux&&(u==="stream"||u==="response");if(Ux&&(o||x&&y)){const N={};["status","statusText","headers"].forEach(P=>{N[P]=g[P]});const k=$.toFiniteNumber(g.headers.get("content-length")),[S,A]=o&&Bw(k,Pm(zw(o),!0))||[];g=new Response(qw(g.body,Vw,S,()=>{A&&A(),y&&y()}),N)}u=u||"text";let w=await Em[$.findKey(Em,u)||"text"](g,e);return!x&&y&&y(),await new Promise((N,k)=>{YC(N,k,{data:w,headers:Yr.from(g.headers),status:g.status,statusText:g.statusText,config:e,request:p})})}catch(v){throw y&&y(),v&&v.name==="TypeError"&&/Load failed|fetch/i.test(v.message)?Object.assign(new Ce("Network Error",Ce.ERR_NETWORK,e,p),{cause:v.cause||v}):Ce.from(v,v&&v.code,e,p)}}),qx={http:eI,xhr:OI,fetch:$I};$.forEach(qx,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Kw=e=>`- ${e}`,BI=e=>$.isFunction(e)||e===null||e===!1,t4={getAdapter:e=>{e=$.isArray(e)?e:[e];const{length:t}=e;let r,n;const a={};for(let i=0;i<t;i++){r=e[i];let l;if(n=r,!BI(r)&&(n=qx[(l=String(r)).toLowerCase()],n===void 0))throw new Ce(`Unknown adapter '${l}'`);if(n)break;a[l||"#"+i]=n}if(!n){const i=Object.entries(a).map(([o,c])=>`adapter ${o} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=t?i.length>1?`since :
`+i.map(Kw).join(`
`):" "+Kw(i[0]):"as no adapter specified";throw new Ce("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:qx};function Lp(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Bo(null,e)}function Hw(e){return Lp(e),e.headers=Yr.from(e.headers),e.data=Fp.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),t4.getAdapter(e.adapter||_u.adapter)(e).then(function(n){return Lp(e),n.data=Fp.call(e,e.transformResponse,n),n.headers=Yr.from(n.headers),n},function(n){return GC(n)||(Lp(e),n&&n.response&&(n.response.data=Fp.call(e,e.transformResponse,n.response),n.response.headers=Yr.from(n.response.headers))),Promise.reject(n)})}const r4="1.11.0",Xf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Xf[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Ww={};Xf.transitional=function(t,r,n){function a(i,l){return"[Axios v"+r4+"] Transitional option '"+i+"'"+l+(n?". "+n:"")}return(i,l,o)=>{if(t===!1)throw new Ce(a(l," has been removed"+(r?" in "+r:"")),Ce.ERR_DEPRECATED);return r&&!Ww[l]&&(Ww[l]=!0,console.warn(a(l," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,l,o):!0}};Xf.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function zI(e,t,r){if(typeof e!="object")throw new Ce("options must be an object",Ce.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const i=n[a],l=t[i];if(l){const o=e[i],c=o===void 0||l(o,i,e);if(c!==!0)throw new Ce("option "+i+" must be "+c,Ce.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ce("Unknown option "+i,Ce.ERR_BAD_OPTION)}}const Gd={assertOptions:zI,validators:Xf},ns=Gd.validators;let Ui=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Lw,response:new Lw}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=tl(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:i}=r;n!==void 0&&Gd.assertOptions(n,{silentJSONParsing:ns.transitional(ns.boolean),forcedJSONParsing:ns.transitional(ns.boolean),clarifyTimeoutError:ns.transitional(ns.boolean)},!1),a!=null&&($.isFunction(a)?r.paramsSerializer={serialize:a}:Gd.assertOptions(a,{encode:ns.function,serialize:ns.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Gd.assertOptions(r,{baseUrl:ns.spelling("baseURL"),withXsrfToken:ns.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=i&&$.merge(i.common,i[r.method]);i&&$.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),r.headers=Yr.concat(l,i);const o=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(c=c&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let d,m=0,f;if(!c){const p=[Hw.bind(this),void 0];for(p.unshift(...o),p.push(...u),f=p.length,d=Promise.resolve(r);m<f;)d=d.then(p[m++],p[m++]);return d}f=o.length;let h=r;for(m=0;m<f;){const p=o[m++],y=o[m++];try{h=p(h)}catch(b){y.call(this,b);break}}try{d=Hw.call(this,h)}catch(p){return Promise.reject(p)}for(m=0,f=u.length;m<f;)d=d.then(u[m++],u[m++]);return d}getUri(t){t=tl(this.defaults,t);const r=XC(t.baseURL,t.url,t.allowAbsoluteUrls);return HC(r,t.params,t.paramsSerializer)}};$.forEach(["delete","get","head","options"],function(t){Ui.prototype[t]=function(r,n){return this.request(tl(n||{},{method:t,url:r,data:(n||{}).data}))}});$.forEach(["post","put","patch"],function(t){function r(n){return function(i,l,o){return this.request(tl(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}Ui.prototype[t]=r(),Ui.prototype[t+"Form"]=r(!0)});let UI=class n4{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const l=new Promise(o=>{n.subscribe(o),i=o}).then(a);return l.cancel=function(){n.unsubscribe(i)},l},t(function(i,l,o){n.reason||(n.reason=new Bo(i,l,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new n4(function(a){t=a}),cancel:t}}};function qI(e){return function(r){return e.apply(null,r)}}function VI(e){return $.isObject(e)&&e.isAxiosError===!0}const Vx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Vx).forEach(([e,t])=>{Vx[t]=e});function s4(e){const t=new Ui(e),r=MC(Ui.prototype.request,t);return $.extend(r,Ui.prototype,t,{allOwnKeys:!0}),$.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return s4(tl(e,a))},r}const _t=s4(_u);_t.Axios=Ui;_t.CanceledError=Bo;_t.CancelToken=UI;_t.isCancel=GC;_t.VERSION=r4;_t.toFormData=Gf;_t.AxiosError=Ce;_t.Cancel=_t.CanceledError;_t.all=function(t){return Promise.all(t)};_t.spread=qI;_t.isAxiosError=VI;_t.mergeConfig=tl;_t.AxiosHeaders=Yr;_t.formToJSON=e=>QC($.isHTMLForm(e)?new FormData(e):e);_t.getAdapter=t4.getAdapter;_t.HttpStatusCode=Vx;_t.default=_t;const{Axios:YJ,AxiosError:XJ,CanceledError:ZJ,isCancel:JJ,CancelToken:eee,VERSION:tee,all:ree,Cancel:nee,isAxiosError:see,spread:aee,toFormData:iee,AxiosHeaders:lee,HttpStatusCode:oee,formToJSON:cee,getAdapter:uee,mergeConfig:dee}=_t,a4="http://localhost:3001/api/v1",Sn=_t.create({baseURL:a4,timeout:1e4,headers:{"Content-Type":"application/json"}});Sn.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));Sn.interceptors.response.use(e=>e,async e=>{var r;const t=e.config;if(((r=e.response)==null?void 0:r.status)===401&&!t._retry){t._retry=!0;try{const n=localStorage.getItem("refreshToken");if(n){const a=await _t.post(`${a4}/auth/refresh`,{refreshToken:n}),{token:i}=a.data.data;return localStorage.setItem("token",i),t.headers.Authorization=`Bearer ${i}`,Sn(t)}}catch{localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),window.location.href="/login"}}return Promise.reject(e)});const $p={login:async e=>(await Sn.post("/auth/login",e)).data.data,logout:async()=>{await Sn.post("/auth/logout"),localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user")},getProfile:async()=>(await Sn.get("/auth/profile")).data.data,refreshToken:async e=>(await Sn.post("/auth/refresh",{refreshToken:e})).data.data},oe=e=>({getAll:async t=>{var r;try{return(await Sn.get(`/${e}`,{params:t})).data}catch(n){if(((r=n.response)==null?void 0:r.status)===404)return console.warn(`Endpoint ${e} not found, returning mock data`),KI(e,t);throw n}},getById:async t=>(await Sn.get(`/${e}/${t}`)).data,create:async t=>(await Sn.post(`/${e}`,t)).data,update:async(t,r)=>(await Sn.put(`/${e}/${t}`,r)).data,delete:async t=>(await Sn.delete(`/${e}/${t}`)).data}),KI=(e,t)=>{const r={reports:{success:!0,data:{revenue:{total:0,change:0,trend:0,monthly:0},customers:{active:0,change:0},quotes:{pending:0,change:0},invoices:{unpaid:0,change:0},conversion:{rate:0,change:0},projects:{active:0,change:0},financial:{revenue:0,expenses:0,profit:0},stock:{alerts:[]},recentActivities:[],stages:[],totalValue:0,monthlyRevenue:[],bySalesperson:[],byService:[]}},dashboard:{success:!0,data:{revenue:{total:0,change:0,trend:0},customers:{active:0,change:0},quotes:{pending:0,change:0},invoices:{unpaid:0,change:0},conversion:{rate:0,change:0},projects:{active:0,change:0},financial:{revenue:0,expenses:0,profit:0},stock:{alerts:[]},recentActivities:[]}}};return t!=null&&t.endpoint?r[t.endpoint]||r.dashboard:r[e]||{success:!0,data:{}}},i4=j.createContext(void 0),HI=({children:e})=>{const[t,r]=j.useState(null),[n,a]=j.useState([]),[i,l]=j.useState(!0),o=!!t,c=h=>n.some(p=>p.name===h),u=h=>t?h.includes(t.role):!1,d=async(h,p)=>{var y,b;try{const v=await $p.login({email:h,password:p});localStorage.setItem("token",v.token),localStorage.setItem("refreshToken",v.refreshToken),localStorage.setItem("user",JSON.stringify(v.user)),r(v.user),a(v.permissions)}catch(v){throw new Error(((b=(y=v.response)==null?void 0:y.data)==null?void 0:b.message)||"Erreur de connexion")}},m=async()=>{try{await $p.logout()}catch(h){console.error("Erreur lors de la déconnexion:",h)}finally{r(null),a([]),localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user")}};j.useEffect(()=>{(async()=>{try{const p=localStorage.getItem("token"),y=localStorage.getItem("user");if(p&&y){const b=await $p.getProfile();r(b.user),a(b.permissions)}}catch{localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user")}finally{l(!1)}})()},[]);const f={user:t,permissions:n,isLoading:i,isAuthenticated:o,login:d,logout:m,hasPermission:c,hasRole:u};return s.jsx(i4.Provider,{value:f,children:e})},Ze=()=>{const e=j.useContext(i4);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},l4=j.createContext(void 0),WI=({children:e})=>{const[t,r]=j.useState(!1);j.useEffect(()=>{const a=localStorage.getItem("darkMode"),i=window.matchMedia("(prefers-color-scheme: dark)").matches;r(a!==null?a==="true":i)},[]),j.useEffect(()=>{t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode",t.toString())},[t]);const n=()=>{r(!t)};return s.jsx(l4.Provider,{value:{isDarkMode:t,toggleDarkMode:n},children:e})},QI=()=>{const e=j.useContext(l4);if(e===void 0)throw new Error("useDarkMode must be used within a DarkModeProvider");return e};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ce=(e,t)=>{const r=j.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:c,...u},d)=>j.createElement("svg",{ref:d,...GI,width:a,height:a,stroke:n,strokeWidth:l?Number(i)*24/Number(a):i,className:["lucide",`lucide-${YI(e)}`,o].join(" "),...u},[...t.map(([m,f])=>j.createElement(m,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=ce("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=ce("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=ce("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=ce("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=ce("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=ce("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=ce("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=ce("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=ce("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=ce("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=ce("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=ce("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=ce("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=ce("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=ce("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=ce("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=ce("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=ce("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=ce("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=ce("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=ce("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=ce("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=ce("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=ce("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=ce("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=ce("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=ce("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=ce("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=ce("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=ce("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=ce("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=ce("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=ce("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=ce("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=ce("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=ce("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=ce("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=ce("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=ce("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=ce("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=ce("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=ce("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=ce("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=ce("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=ce("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=ce("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=ce("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=ce("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=ce("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=ce("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=ce("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=ce("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=ce("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=ce("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=ce("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=ce("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);class Xw extends Ee.Component{constructor(){super(...arguments);Zo(this,"state",{hasError:!1});Zo(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0})})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("Uncaught error:",r,n)}render(){var r;return this.state.hasError?this.props.fallback?this.props.fallback:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:s.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 shadow-lg rounded-lg p-6",children:[s.jsx("div",{className:"flex items-center justify-center w-12 h-12 mx-auto bg-red-100 dark:bg-red-900 rounded-full mb-4",children:s.jsx(Ya,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white text-center mb-2",children:"Une erreur est survenue"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center mb-6",children:((r=this.state.error)==null?void 0:r.message)||"Une erreur inattendue s'est produite"}),s.jsxs("div",{className:"flex justify-center space-x-3",children:[s.jsxs("button",{onClick:this.handleRetry,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[s.jsx(p4,{className:"h-4 w-4"}),s.jsx("span",{children:"Réessayer"})]}),s.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Recharger la page"})]})]})}):this.props.children}}const ft=({children:e,permission:t,roles:r,fallback:n})=>{const{isAuthenticated:a,isLoading:i,hasPermission:l,hasRole:o}=Ze(),c=oi();return i?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):a?t&&!l(t)?n||s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Accès refusé"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Vous n'avez pas les permissions nécessaires pour accéder à cette page."})]})}):r&&!o(r)?n||s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Accès refusé"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Votre rôle ne vous permet pas d'accéder à cette page."})]})}):s.jsx(s.Fragment,{children:e}):s.jsx(km,{to:"/login",state:{from:c},replace:!0})},pR=oe("notifications"),xR=({onMenuClick:e})=>{var c;const{user:t,logout:r}=Ze(),{isDarkMode:n,toggleDarkMode:a}=QI(),{data:i}=ve({queryKey:["notifications","unread"],queryFn:()=>pR.getAll({unreadOnly:!0}),refetchInterval:3e4}),l=((c=i==null?void 0:i.data)==null?void 0:c.unreadCount)||0,o=async()=>{try{await r()}catch(u){console.error("Erreur lors de la déconnexion:",u)}};return s.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{onClick:e,className:"p-2 rounded-md text-gray-400 dark:text-gray-300 hover:text-gray-500 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500 lg:hidden",children:s.jsx(lR,{className:"h-6 w-6"})}),s.jsx("div",{className:"ml-4 lg:ml-0",children:s.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Tableau de bord"})})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:a,className:"p-2 text-gray-400 dark:text-gray-300 hover:text-gray-500 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors",title:n?"Mode clair":"Mode sombre",children:n?s.jsx(mR,{className:"h-6 w-6"}):s.jsx(oR,{className:"h-6 w-6"})}),s.jsxs("button",{className:"relative p-2 text-gray-400 dark:text-gray-300 hover:text-gray-500 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md",children:[s.jsx(ZI,{className:"h-6 w-6"}),l>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:l>99?"99+":l})]}),s.jsxs("div",{className:"relative group",children:[s.jsxs("button",{className:"flex items-center space-x-3 p-2 text-sm rounded-md text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:[s.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-600 text-white rounded-full",children:t!=null&&t.avatarUrl?s.jsx("img",{src:t.avatarUrl,alt:`${t.firstName} ${t.lastName}`,className:"w-8 h-8 rounded-full"}):s.jsx(Ve,{className:"h-4 w-4"})}),s.jsxs("div",{className:"hidden md:block text-left",children:[s.jsxs("div",{className:"font-medium",children:[t==null?void 0:t.firstName," ",t==null?void 0:t.lastName]}),s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:t==null?void 0:t.role})]})]}),s.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-md shadow-lg py-1 z-50 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 border border-gray-200 dark:border-gray-700",children:[s.jsxs("a",{href:"/profile",className:"flex items-center px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:[s.jsx(Ve,{className:"mr-3 h-4 w-4"}),"Mon profil"]}),s.jsxs("button",{onClick:o,className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:[s.jsx(iR,{className:"mr-3 h-4 w-4"}),"Se déconnecter"]})]})]})]})]})})},yR=[{name:"Service Commercial",icon:_n,permission:"prospects.read",children:[{name:"Prospection",href:"/commercial/prospection",icon:_n,permission:"prospects.read"},{name:"Pipeline CRM",href:"/commercial/pipeline",icon:Ka,permission:"quotes.read"}]},{name:"Service Comptabilité",icon:mt,permission:"invoices.read",children:[{name:"Factures",href:"/invoices",icon:fl,permission:"invoices.read"},{name:"Paiements",href:"/payments",icon:Hs,permission:"payments.read"},{name:"Dépenses",href:"/expenses",icon:mt,permission:"expenses.read"},{name:"Rapports",href:"/reports",icon:Zf,permission:"reports.financial"}]},{name:"Ressources Humaines",icon:Bp,permission:"employees.read",children:[{name:"Employés",href:"/hr/employees",icon:Xr,permission:"employees.read"},{name:"Salaires",href:"/hr/salaries",icon:mt,permission:"salaries.read"},{name:"Contrats",href:"/hr/contracts",icon:Ue,permission:"contracts.read"},{name:"Congés",href:"/hr/leaves",icon:_e,permission:"leaves.read"},{name:"Prêts",href:"/hr/loans",icon:mt,permission:"loans.read"}]},{name:"Progiteck",icon:Za,permission:"techniciens.read",children:[{name:"Spécialités",href:"/services/specialites",icon:Za,permission:"specialites.read"},{name:"Techniciens",href:"/services/techniciens",icon:Xr,permission:"techniciens.read"},{name:"Missions",href:"/services/missions",icon:Ue,permission:"missions.read"},{name:"Interventions",href:"/services/interventions",icon:_e,permission:"interventions.read"}]},{name:"Administration",icon:y4,permission:"admin.system_settings",children:[{name:"Utilisateurs",href:"/admin/users",icon:Bp,permission:"users.read"},{name:"Services",href:"/admin/services",icon:Xa,permission:"admin.system_settings"},{name:"Permissions",href:"/admin/permissions",icon:Bp,permission:"users.manage_permissions"}]}],gR=[{name:"Tableau de bord",href:"/dashboard",icon:sR},{name:"Clients",href:"/customers",icon:Xr,permission:"customers.read"},{name:"Devis",href:"/quotes",icon:Ue,permission:"quotes.read"},{name:"Messages",href:"/messages",icon:Om,permission:"messages.read"},{name:"Produits",href:"/products",icon:dr,permission:"products.read"},{name:"Matériel",href:"/services/materiel",icon:dr,permission:"materiels.read"}],vR=({isOpen:e})=>{const{hasPermission:t}=Ze(),[r,n]=j.useState({"Service Commercial":!0,"Service Comptabilité":!0,"Ressources Humaines":!0,Progiteck:!0,Administration:!0}),a=u=>{n(d=>({...d,[u]:!d[u]}))},i=u=>u.filter(d=>!(d.permission&&!t(d.permission))),l=u=>u.filter(d=>d.permission&&!t(d.permission)?!1:d.children?(d.children=d.children.filter(m=>!m.permission||t(m.permission)),d.children.length>0):!0),o=i(gR),c=l(yR);return s.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-gray-900 dark:bg-gray-950 transform transition-transform duration-300 ease-in-out ${e?"translate-x-0":"-translate-x-full"} lg:translate-x-0 lg:static lg:inset-0`,children:[s.jsx("div",{className:"flex items-center justify-center h-16 bg-gray-800 dark:bg-gray-900",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("img",{src:"/parrabellum.jpg",alt:"Parabellum Groups",className:"w-8 h-8 rounded-full"}),s.jsx("h1",{className:"text-white text-xl font-bold",children:"Parabellum Groups"})]})}),s.jsx("nav",{className:"mt-8 h-full overflow-y-auto scrollbar-hide pb-20",children:s.jsxs("div",{className:"px-4 space-y-2",children:[o.map(u=>s.jsxs(kw,{to:u.href,className:({isActive:d})=>`flex items-center px-4 py-2 text-sm font-medium rounded-md transition-colors ${d?"bg-gray-800 dark:bg-gray-700 text-white":"text-gray-300 dark:text-gray-400 hover:bg-gray-700 dark:hover:bg-gray-600 hover:text-white"}`,children:[s.jsx(u.icon,{className:"mr-3 h-5 w-5"}),u.name]},u.name)),c.map(u=>s.jsxs("div",{children:[s.jsxs("button",{onClick:()=>a(u.name),className:"flex items-center justify-between w-full px-4 py-2 text-sm font-medium rounded-md transition-colors text-gray-300 dark:text-gray-400 hover:bg-gray-700 dark:hover:bg-gray-600 hover:text-white",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(u.icon,{className:"mr-3 h-5 w-5"}),u.name]}),r[u.name]?s.jsx(tR,{className:"h-4 w-4"}):s.jsx(rR,{className:"h-4 w-4"})]}),r[u.name]&&u.children&&s.jsx("div",{className:"ml-4 mt-2 space-y-1",children:u.children.map(d=>s.jsxs(kw,{to:d.href,className:({isActive:m})=>`flex items-center px-4 py-2 text-sm font-medium rounded-md transition-colors ${m?"bg-gray-800 dark:bg-gray-700 text-white":"text-gray-400 dark:text-gray-500 hover:bg-gray-700 dark:hover:bg-gray-600 hover:text-white"}`,children:[s.jsx(d.icon,{className:"mr-3 h-4 w-4"}),d.name]},d.name))})]},u.name))]})})]})},bR=()=>s.jsx("footer",{className:"bg-gray-200 dark:bg-gray-800 p-4 text-center text-gray-600 dark:text-gray-300 text-sm",children:s.jsx("div",{className:"container mx-auto",children:s.jsxs("p",{children:["© ",new Date().getFullYear()," Parabellum Groups. Tous droits réservés."]})})}),jR=()=>{const[e,t]=j.useState(!1);return s.jsxs("div",{className:"flex h-screen bg-gray-100 dark:bg-gray-900",children:[s.jsx(vR,{isOpen:e}),e&&s.jsx("div",{className:"fixed inset-0 z-40 bg-gray-600 dark:bg-gray-900 bg-opacity-75 lg:hidden",onClick:()=>t(!1)}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(xR,{onMenuClick:()=>t(!e)}),s.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-100 dark:bg-gray-900",children:s.jsx("div",{className:"container mx-auto px-6 py-8",children:s.jsx(bD,{})})}),s.jsx(bR,{})]})]})};var Tu=e=>e.type==="checkbox",Si=e=>e instanceof Date,Tr=e=>e==null;const v4=e=>typeof e=="object";var Rt=e=>!Tr(e)&&!Array.isArray(e)&&v4(e)&&!Si(e),wR=e=>Rt(e)&&e.target?Tu(e.target)?e.target.checked:e.target.value:e,NR=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,kR=(e,t)=>e.has(NR(t)),SR=e=>{const t=e.constructor&&e.constructor.prototype;return Rt(t)&&t.hasOwnProperty("isPrototypeOf")},ev=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ht(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(ev&&(e instanceof Blob||n))&&(r||Rt(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!SR(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=ht(e[a]));else return e;return t}var th=e=>/^\w*$/.test(e),pt=e=>e===void 0,rh=e=>Array.isArray(e)?e.filter(Boolean):[],tv=e=>rh(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ne=(e,t,r)=>{if(!t||!Rt(e))return r;const n=(th(t)?[t]:tv(t)).reduce((a,i)=>Tr(a)?a:a[i],e);return pt(n)||n===e?pt(e[t])?r:e[t]:n},as=e=>typeof e=="boolean",Qe=(e,t,r)=>{let n=-1;const a=th(t)?[t]:tv(t),i=a.length,l=i-1;for(;++n<i;){const o=a[n];let c=r;if(n!==l){const u=e[o];c=Rt(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;e[o]=c,e=e[o]}};const Zw={BLUR:"blur",FOCUS_OUT:"focusout"},An={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ns={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},b4=Ee.createContext(null);b4.displayName="HookFormContext";const AR=()=>Ee.useContext(b4);var CR=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const l=i;return t._proxyFormState[l]!==An.all&&(t._proxyFormState[l]=!n||An.all),e[l]}});return a};const j4=typeof window<"u"?Ee.useLayoutEffect:Ee.useEffect;var us=e=>typeof e=="string",PR=(e,t,r,n,a)=>us(e)?(n&&t.watch.add(e),ne(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),ne(r,i))):(n&&(t.watchAll=!0),r),Kx=e=>Tr(e)||!v4(e);function ba(e,t,r=new WeakSet){if(Kx(e)||Kx(t))return e===t;if(Si(e)&&Si(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const l=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const o=t[i];if(Si(l)&&Si(o)||Rt(l)&&Rt(o)||Array.isArray(l)&&Array.isArray(o)?!ba(l,o,r):l!==o)return!1}}return!0}var w4=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},Vr=e=>Array.isArray(e)?e:[e],Jw=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},Er=e=>Rt(e)&&!Object.keys(e).length,rv=e=>e.type==="file",Wn=e=>typeof e=="function",_m=e=>{if(!ev)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},N4=e=>e.type==="select-multiple",nv=e=>e.type==="radio",ER=e=>nv(e)||Tu(e),zp=e=>_m(e)&&e.isConnected;function OR(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=pt(e)?n++:e[t[n++]];return e}function _R(e){for(const t in e)if(e.hasOwnProperty(t)&&!pt(e[t]))return!1;return!0}function Mt(e,t){const r=Array.isArray(t)?t:th(t)?[t]:tv(t),n=r.length===1?e:OR(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Rt(n)&&Er(n)||Array.isArray(n)&&_R(n))&&Mt(e,r.slice(0,-1)),e}var k4=e=>{for(const t in e)if(Wn(e[t]))return!0;return!1};function Tm(e,t={}){const r=Array.isArray(e);if(Rt(e)||r)for(const n in e)Array.isArray(e[n])||Rt(e[n])&&!k4(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Tm(e[n],t[n])):Tr(e[n])||(t[n]=!0);return t}function S4(e,t,r){const n=Array.isArray(e);if(Rt(e)||n)for(const a in e)Array.isArray(e[a])||Rt(e[a])&&!k4(e[a])?pt(t)||Kx(r[a])?r[a]=Array.isArray(e[a])?Tm(e[a],[]):{...Tm(e[a])}:S4(e[a],Tr(t)?{}:t[a],r[a]):r[a]=!ba(e[a],t[a]);return r}var oc=(e,t)=>S4(e,t,Tm(t));const eN={value:!1,isValid:!1},tN={value:!0,isValid:!0};var A4=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!pt(e[0].attributes.value)?pt(e[0].value)||e[0].value===""?tN:{value:e[0].value,isValid:!0}:tN:eN}return eN},C4=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>pt(e)?e:t?e===""?NaN:e&&+e:r&&us(e)?new Date(e):n?n(e):e;const rN={isValid:!1,value:null};var P4=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,rN):rN;function nN(e){const t=e.ref;return rv(t)?t.files:nv(t)?P4(e.refs).value:N4(t)?[...t.selectedOptions].map(({value:r})=>r):Tu(t)?A4(e.refs).value:C4(pt(t.value)?e.ref.value:t.value,e)}var TR=(e,t,r,n)=>{const a={};for(const i of e){const l=ne(t,i);l&&Qe(a,i,l._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},Dm=e=>e instanceof RegExp,cc=e=>pt(e)?e:Dm(e)?e.source:Rt(e)?Dm(e.value)?e.value.source:e.value:e,Dl=e=>({isOnSubmit:!e||e===An.onSubmit,isOnBlur:e===An.onBlur,isOnChange:e===An.onChange,isOnAll:e===An.all,isOnTouch:e===An.onTouched});const sN="AsyncFunction";var DR=e=>!!e&&!!e.validate&&!!(Wn(e.validate)&&e.validate.constructor.name===sN||Rt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===sN)),MR=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Hx=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const ql=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=ne(e,a);if(i){const{_f:l,...o}=i;if(l){if(l.refs&&l.refs[0]&&t(l.refs[0],a)&&!n)return!0;if(l.ref&&t(l.ref,l.name)&&!n)return!0;if(ql(o,t))break}else if(Rt(o)&&ql(o,t))break}}};function aN(e,t,r){const n=ne(e,r);if(n||th(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),l=ne(t,i),o=ne(e,i);if(l&&!Array.isArray(l)&&r!==i)return{name:r};if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};a.pop()}return{name:r}}var IR=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return Er(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(l=>t[l]===(!n||An.all))},RR=(e,t,r)=>!e||!t||e===t||Vr(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),FR=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,LR=(e,t)=>!rh(ne(e,t)).length&&Mt(e,t),E4=(e,t,r)=>{const n=Vr(ne(e,r));return Qe(n,"root",t[r]),Qe(e,r,n),e},Yd=e=>us(e);function iN(e,t,r="validate"){if(Yd(e)||Array.isArray(e)&&e.every(Yd)||as(e)&&!e)return{type:r,message:Yd(e)?e:"",ref:t}}var gl=e=>Rt(e)&&!Dm(e)?e:{value:e,message:""},Wx=async(e,t,r,n,a,i)=>{const{ref:l,refs:o,required:c,maxLength:u,minLength:d,min:m,max:f,pattern:h,validate:p,name:y,valueAsNumber:b,mount:v}=e._f,g=ne(r,y);if(!v||t.has(y))return{};const x=o?o[0]:l,w=E=>{a&&x.reportValidity&&(x.setCustomValidity(as(E)?"":E||""),x.reportValidity())},N={},k=nv(l),S=Tu(l),A=k||S,P=(b||rv(l))&&pt(l.value)&&pt(g)||_m(l)&&l.value===""||g===""||Array.isArray(g)&&!g.length,C=w4.bind(null,y,n,N),D=(E,L,U,I=Ns.maxLength,q=Ns.minLength)=>{const T=E?L:U;N[y]={type:E?I:q,message:T,ref:l,...C(E?I:q,T)}};if(i?!Array.isArray(g)||!g.length:c&&(!A&&(P||Tr(g))||as(g)&&!g||S&&!A4(o).isValid||k&&!P4(o).isValid)){const{value:E,message:L}=Yd(c)?{value:!!c,message:c}:gl(c);if(E&&(N[y]={type:Ns.required,message:L,ref:x,...C(Ns.required,L)},!n))return w(L),N}if(!P&&(!Tr(m)||!Tr(f))){let E,L;const U=gl(f),I=gl(m);if(!Tr(g)&&!isNaN(g)){const q=l.valueAsNumber||g&&+g;Tr(U.value)||(E=q>U.value),Tr(I.value)||(L=q<I.value)}else{const q=l.valueAsDate||new Date(g),T=H=>new Date(new Date().toDateString()+" "+H),M=l.type=="time",V=l.type=="week";us(U.value)&&g&&(E=M?T(g)>T(U.value):V?g>U.value:q>new Date(U.value)),us(I.value)&&g&&(L=M?T(g)<T(I.value):V?g<I.value:q<new Date(I.value))}if((E||L)&&(D(!!E,U.message,I.message,Ns.max,Ns.min),!n))return w(N[y].message),N}if((u||d)&&!P&&(us(g)||i&&Array.isArray(g))){const E=gl(u),L=gl(d),U=!Tr(E.value)&&g.length>+E.value,I=!Tr(L.value)&&g.length<+L.value;if((U||I)&&(D(U,E.message,L.message),!n))return w(N[y].message),N}if(h&&!P&&us(g)){const{value:E,message:L}=gl(h);if(Dm(E)&&!g.match(E)&&(N[y]={type:Ns.pattern,message:L,ref:l,...C(Ns.pattern,L)},!n))return w(L),N}if(p){if(Wn(p)){const E=await p(g,r),L=iN(E,x);if(L&&(N[y]={...L,...C(Ns.validate,L.message)},!n))return w(L.message),N}else if(Rt(p)){let E={};for(const L in p){if(!Er(E)&&!n)break;const U=iN(await p[L](g,r),x,L);U&&(E={...U,...C(L,U.message)},w(U.message),n&&(N[y]=E))}if(!Er(E)&&(N[y]={ref:x,...E},!n))return N}}return w(!0),N};const $R={mode:An.onSubmit,reValidateMode:An.onChange,shouldFocusError:!0};function BR(e={}){let t={...$R,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Wn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=Rt(t.defaultValues)||Rt(t.values)?ht(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:ht(a),l={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...d};const f={array:Jw(),state:Jw()},h=t.criteriaMode===An.all,p=_=>R=>{clearTimeout(u),u=setTimeout(_,R)},y=async _=>{if(!t.disabled&&(d.isValid||m.isValid||_)){const R=t.resolver?Er((await S()).errors):await P(n,!0);R!==r.isValid&&f.state.next({isValid:R})}},b=(_,R)=>{!t.disabled&&(d.isValidating||d.validatingFields||m.isValidating||m.validatingFields)&&((_||Array.from(o.mount)).forEach(z=>{z&&(R?Qe(r.validatingFields,z,R):Mt(r.validatingFields,z))}),f.state.next({validatingFields:r.validatingFields,isValidating:!Er(r.validatingFields)}))},v=(_,R=[],z,le,te=!0,ee=!0)=>{if(le&&z&&!t.disabled){if(l.action=!0,ee&&Array.isArray(ne(n,_))){const ye=z(ne(n,_),le.argA,le.argB);te&&Qe(n,_,ye)}if(ee&&Array.isArray(ne(r.errors,_))){const ye=z(ne(r.errors,_),le.argA,le.argB);te&&Qe(r.errors,_,ye),LR(r.errors,_)}if((d.touchedFields||m.touchedFields)&&ee&&Array.isArray(ne(r.touchedFields,_))){const ye=z(ne(r.touchedFields,_),le.argA,le.argB);te&&Qe(r.touchedFields,_,ye)}(d.dirtyFields||m.dirtyFields)&&(r.dirtyFields=oc(a,i)),f.state.next({name:_,isDirty:D(_,R),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Qe(i,_,R)},g=(_,R)=>{Qe(r.errors,_,R),f.state.next({errors:r.errors})},x=_=>{r.errors=_,f.state.next({errors:r.errors,isValid:!1})},w=(_,R,z,le)=>{const te=ne(n,_);if(te){const ee=ne(i,_,pt(z)?ne(a,_):z);pt(ee)||le&&le.defaultChecked||R?Qe(i,_,R?ee:nN(te._f)):U(_,ee),l.mount&&y()}},N=(_,R,z,le,te)=>{let ee=!1,ye=!1;const He={name:_};if(!t.disabled){if(!z||le){(d.isDirty||m.isDirty)&&(ye=r.isDirty,r.isDirty=He.isDirty=D(),ee=ye!==He.isDirty);const nt=ba(ne(a,_),R);ye=!!ne(r.dirtyFields,_),nt?Mt(r.dirtyFields,_):Qe(r.dirtyFields,_,!0),He.dirtyFields=r.dirtyFields,ee=ee||(d.dirtyFields||m.dirtyFields)&&ye!==!nt}if(z){const nt=ne(r.touchedFields,_);nt||(Qe(r.touchedFields,_,z),He.touchedFields=r.touchedFields,ee=ee||(d.touchedFields||m.touchedFields)&&nt!==z)}ee&&te&&f.state.next(He)}return ee?He:{}},k=(_,R,z,le)=>{const te=ne(r.errors,_),ee=(d.isValid||m.isValid)&&as(R)&&r.isValid!==R;if(t.delayError&&z?(c=p(()=>g(_,z)),c(t.delayError)):(clearTimeout(u),c=null,z?Qe(r.errors,_,z):Mt(r.errors,_)),(z?!ba(te,z):te)||!Er(le)||ee){const ye={...le,...ee&&as(R)?{isValid:R}:{},errors:r.errors,name:_};r={...r,...ye},f.state.next(ye)}},S=async _=>{b(_,!0);const R=await t.resolver(i,t.context,TR(_||o.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return b(_),R},A=async _=>{const{errors:R}=await S(_);if(_)for(const z of _){const le=ne(R,z);le?Qe(r.errors,z,le):Mt(r.errors,z)}else r.errors=R;return R},P=async(_,R,z={valid:!0})=>{for(const le in _){const te=_[le];if(te){const{_f:ee,...ye}=te;if(ee){const He=o.array.has(ee.name),nt=te._f&&DR(te._f);nt&&d.validatingFields&&b([le],!0);const xn=await Wx(te,o.disabled,i,h,t.shouldUseNativeValidation&&!R,He);if(nt&&d.validatingFields&&b([le]),xn[ee.name]&&(z.valid=!1,R))break;!R&&(ne(xn,ee.name)?He?E4(r.errors,xn,ee.name):Qe(r.errors,ee.name,xn[ee.name]):Mt(r.errors,ee.name))}!Er(ye)&&await P(ye,R,z)}}return z.valid},C=()=>{for(const _ of o.unMount){const R=ne(n,_);R&&(R._f.refs?R._f.refs.every(z=>!zp(z)):!zp(R._f.ref))&&Dt(_)}o.unMount=new Set},D=(_,R)=>!t.disabled&&(_&&R&&Qe(i,_,R),!ba(H(),a)),E=(_,R,z)=>PR(_,o,{...l.mount?i:pt(R)?a:us(_)?{[_]:R}:R},z,R),L=_=>rh(ne(l.mount?i:a,_,t.shouldUnregister?ne(a,_,[]):[])),U=(_,R,z={})=>{const le=ne(n,_);let te=R;if(le){const ee=le._f;ee&&(!ee.disabled&&Qe(i,_,C4(R,ee)),te=_m(ee.ref)&&Tr(R)?"":R,N4(ee.ref)?[...ee.ref.options].forEach(ye=>ye.selected=te.includes(ye.value)):ee.refs?Tu(ee.ref)?ee.refs.forEach(ye=>{(!ye.defaultChecked||!ye.disabled)&&(Array.isArray(te)?ye.checked=!!te.find(He=>He===ye.value):ye.checked=te===ye.value||!!te)}):ee.refs.forEach(ye=>ye.checked=ye.value===te):rv(ee.ref)?ee.ref.value="":(ee.ref.value=te,ee.ref.type||f.state.next({name:_,values:ht(i)})))}(z.shouldDirty||z.shouldTouch)&&N(_,te,z.shouldTouch,z.shouldDirty,!0),z.shouldValidate&&V(_)},I=(_,R,z)=>{for(const le in R){if(!R.hasOwnProperty(le))return;const te=R[le],ee=_+"."+le,ye=ne(n,ee);(o.array.has(_)||Rt(te)||ye&&!ye._f)&&!Si(te)?I(ee,te,z):U(ee,te,z)}},q=(_,R,z={})=>{const le=ne(n,_),te=o.array.has(_),ee=ht(R);Qe(i,_,ee),te?(f.array.next({name:_,values:ht(i)}),(d.isDirty||d.dirtyFields||m.isDirty||m.dirtyFields)&&z.shouldDirty&&f.state.next({name:_,dirtyFields:oc(a,i),isDirty:D(_,ee)})):le&&!le._f&&!Tr(ee)?I(_,ee,z):U(_,ee,z),Hx(_,o)&&f.state.next({...r,name:_}),f.state.next({name:l.mount?_:void 0,values:ht(i)})},T=async _=>{l.mount=!0;const R=_.target;let z=R.name,le=!0;const te=ne(n,z),ee=nt=>{le=Number.isNaN(nt)||Si(nt)&&isNaN(nt.getTime())||ba(nt,ne(i,z,nt))},ye=Dl(t.mode),He=Dl(t.reValidateMode);if(te){let nt,xn;const Zu=R.type?nN(te._f):wR(_),oa=_.type===Zw.BLUR||_.type===Zw.FOCUS_OUT,eT=!MR(te._f)&&!t.resolver&&!ne(r.errors,z)&&!te._f.deps||FR(oa,ne(r.touchedFields,z),r.isSubmitted,He,ye),ip=Hx(z,o,oa);Qe(i,z,Zu),oa?(!R||!R.readOnly)&&(te._f.onBlur&&te._f.onBlur(_),c&&c(0)):te._f.onChange&&te._f.onChange(_);const lp=N(z,Zu,oa),tT=!Er(lp)||ip;if(!oa&&f.state.next({name:z,type:_.type,values:ht(i)}),eT)return(d.isValid||m.isValid)&&(t.mode==="onBlur"?oa&&y():oa||y()),tT&&f.state.next({name:z,...ip?{}:lp});if(!oa&&ip&&f.state.next({...r}),t.resolver){const{errors:ij}=await S([z]);if(ee(Zu),le){const rT=aN(r.errors,n,z),lj=aN(ij,n,rT.name||z);nt=lj.error,z=lj.name,xn=Er(ij)}}else b([z],!0),nt=(await Wx(te,o.disabled,i,h,t.shouldUseNativeValidation))[z],b([z]),ee(Zu),le&&(nt?xn=!1:(d.isValid||m.isValid)&&(xn=await P(n,!0)));le&&(te._f.deps&&V(te._f.deps),k(z,xn,nt,lp))}},M=(_,R)=>{if(ne(r.errors,R)&&_.focus)return _.focus(),1},V=async(_,R={})=>{let z,le;const te=Vr(_);if(t.resolver){const ee=await A(pt(_)?_:te);z=Er(ee),le=_?!te.some(ye=>ne(ee,ye)):z}else _?(le=(await Promise.all(te.map(async ee=>{const ye=ne(n,ee);return await P(ye&&ye._f?{[ee]:ye}:ye)}))).every(Boolean),!(!le&&!r.isValid)&&y()):le=z=await P(n);return f.state.next({...!us(_)||(d.isValid||m.isValid)&&z!==r.isValid?{}:{name:_},...t.resolver||!_?{isValid:z}:{},errors:r.errors}),R.shouldFocus&&!le&&ql(n,M,_?te:o.mount),le},H=_=>{const R={...l.mount?i:a};return pt(_)?R:us(_)?ne(R,_):_.map(z=>ne(R,z))},se=(_,R)=>({invalid:!!ne((R||r).errors,_),isDirty:!!ne((R||r).dirtyFields,_),error:ne((R||r).errors,_),isValidating:!!ne(r.validatingFields,_),isTouched:!!ne((R||r).touchedFields,_)}),Y=_=>{_&&Vr(_).forEach(R=>Mt(r.errors,R)),f.state.next({errors:_?r.errors:{}})},xe=(_,R,z)=>{const le=(ne(n,_,{_f:{}})._f||{}).ref,te=ne(r.errors,_)||{},{ref:ee,message:ye,type:He,...nt}=te;Qe(r.errors,_,{...nt,...R,ref:le}),f.state.next({name:_,errors:r.errors,isValid:!1}),z&&z.shouldFocus&&le&&le.focus&&le.focus()},fe=(_,R)=>Wn(_)?f.state.subscribe({next:z=>"values"in z&&_(E(void 0,R),z)}):E(_,R,!0),we=_=>f.state.subscribe({next:R=>{RR(_.name,R.name,_.exact)&&IR(R,_.formState||d,ws,_.reRenderRoot)&&_.callback({values:{...i},...r,...R,defaultValues:a})}}).unsubscribe,rt=_=>(l.mount=!0,m={...m,..._.formState},we({..._,formState:m})),Dt=(_,R={})=>{for(const z of _?Vr(_):o.mount)o.mount.delete(z),o.array.delete(z),R.keepValue||(Mt(n,z),Mt(i,z)),!R.keepError&&Mt(r.errors,z),!R.keepDirty&&Mt(r.dirtyFields,z),!R.keepTouched&&Mt(r.touchedFields,z),!R.keepIsValidating&&Mt(r.validatingFields,z),!t.shouldUnregister&&!R.keepDefaultValue&&Mt(a,z);f.state.next({values:ht(i)}),f.state.next({...r,...R.keepDirty?{isDirty:D()}:{}}),!R.keepIsValid&&y()},K=({disabled:_,name:R})=>{(as(_)&&l.mount||_||o.disabled.has(R))&&(_?o.disabled.add(R):o.disabled.delete(R))},G=(_,R={})=>{let z=ne(n,_);const le=as(R.disabled)||as(t.disabled);return Qe(n,_,{...z||{},_f:{...z&&z._f?z._f:{ref:{name:_}},name:_,mount:!0,...R}}),o.mount.add(_),z?K({disabled:as(R.disabled)?R.disabled:t.disabled,name:_}):w(_,!0,R.value),{...le?{disabled:R.disabled||t.disabled}:{},...t.progressive?{required:!!R.required,min:cc(R.min),max:cc(R.max),minLength:cc(R.minLength),maxLength:cc(R.maxLength),pattern:cc(R.pattern)}:{},name:_,onChange:T,onBlur:T,ref:te=>{if(te){G(_,R),z=ne(n,_);const ee=pt(te.value)&&te.querySelectorAll&&te.querySelectorAll("input,select,textarea")[0]||te,ye=ER(ee),He=z._f.refs||[];if(ye?He.find(nt=>nt===ee):ee===z._f.ref)return;Qe(n,_,{_f:{...z._f,...ye?{refs:[...He.filter(zp),ee,...Array.isArray(ne(a,_))?[{}]:[]],ref:{type:ee.type,name:_}}:{ref:ee}}}),w(_,!1,void 0,ee)}else z=ne(n,_,{}),z._f&&(z._f.mount=!1),(t.shouldUnregister||R.shouldUnregister)&&!(kR(o.array,_)&&l.action)&&o.unMount.add(_)}}},je=()=>t.shouldFocusError&&ql(n,M,o.mount),Ae=_=>{as(_)&&(f.state.next({disabled:_}),ql(n,(R,z)=>{const le=ne(n,z);le&&(R.disabled=le._f.disabled||_,Array.isArray(le._f.refs)&&le._f.refs.forEach(te=>{te.disabled=le._f.disabled||_}))},0,!1))},W=(_,R)=>async z=>{let le;z&&(z.preventDefault&&z.preventDefault(),z.persist&&z.persist());let te=ht(i);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:ee,values:ye}=await S();r.errors=ee,te=ht(ye)}else await P(n);if(o.disabled.size)for(const ee of o.disabled)Mt(te,ee);if(Mt(r.errors,"root"),Er(r.errors)){f.state.next({errors:{}});try{await _(te,z)}catch(ee){le=ee}}else R&&await R({...r.errors},z),je(),setTimeout(je);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Er(r.errors)&&!le,submitCount:r.submitCount+1,errors:r.errors}),le)throw le},pr=(_,R={})=>{ne(n,_)&&(pt(R.defaultValue)?q(_,ht(ne(a,_))):(q(_,R.defaultValue),Qe(a,_,ht(R.defaultValue))),R.keepTouched||Mt(r.touchedFields,_),R.keepDirty||(Mt(r.dirtyFields,_),r.isDirty=R.defaultValue?D(_,ht(ne(a,_))):D()),R.keepError||(Mt(r.errors,_),d.isValid&&y()),f.state.next({...r}))},Ke=(_,R={})=>{const z=_?ht(_):a,le=ht(z),te=Er(_),ee=te?a:le;if(R.keepDefaultValues||(a=z),!R.keepValues){if(R.keepDirtyValues){const ye=new Set([...o.mount,...Object.keys(oc(a,i))]);for(const He of Array.from(ye))ne(r.dirtyFields,He)?Qe(ee,He,ne(i,He)):q(He,ne(ee,He))}else{if(ev&&pt(_))for(const ye of o.mount){const He=ne(n,ye);if(He&&He._f){const nt=Array.isArray(He._f.refs)?He._f.refs[0]:He._f.ref;if(_m(nt)){const xn=nt.closest("form");if(xn){xn.reset();break}}}}if(R.keepFieldsRef)for(const ye of o.mount)q(ye,ne(ee,ye));else n={}}i=t.shouldUnregister?R.keepDefaultValues?ht(a):{}:ht(ee),f.array.next({values:{...ee}}),f.state.next({values:{...ee}})}o={mount:R.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!d.isValid||!!R.keepIsValid||!!R.keepDirtyValues,l.watch=!!t.shouldUnregister,f.state.next({submitCount:R.keepSubmitCount?r.submitCount:0,isDirty:te?!1:R.keepDirty?r.isDirty:!!(R.keepDefaultValues&&!ba(_,a)),isSubmitted:R.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:te?{}:R.keepDirtyValues?R.keepDefaultValues&&i?oc(a,i):r.dirtyFields:R.keepDefaultValues&&_?oc(a,_):R.keepDirty?r.dirtyFields:{},touchedFields:R.keepTouched?r.touchedFields:{},errors:R.keepErrors?r.errors:{},isSubmitSuccessful:R.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},xr=(_,R)=>Ke(Wn(_)?_(i):_,R),Ar=(_,R={})=>{const z=ne(n,_),le=z&&z._f;if(le){const te=le.refs?le.refs[0]:le.ref;te.focus&&(te.focus(),R.shouldSelect&&Wn(te.select)&&te.select())}},ws=_=>{r={...r,..._}},aj={control:{register:G,unregister:Dt,getFieldState:se,handleSubmit:W,setError:xe,_subscribe:we,_runSchema:S,_focusError:je,_getWatch:E,_getDirty:D,_setValid:y,_setFieldArray:v,_setDisabledField:K,_setErrors:x,_getFieldArray:L,_reset:Ke,_resetDefaultValues:()=>Wn(t.defaultValues)&&t.defaultValues().then(_=>{xr(_,t.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:C,_disableForm:Ae,_subjects:f,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return l},set _state(_){l=_},get _defaultValues(){return a},get _names(){return o},set _names(_){o=_},get _formState(){return r},get _options(){return t},set _options(_){t={...t,..._}}},subscribe:rt,trigger:V,register:G,handleSubmit:W,watch:fe,setValue:q,getValues:H,reset:xr,resetField:pr,clearErrors:Y,unregister:Dt,setError:xe,setFocus:Ar,getFieldState:se};return{...aj,formControl:aj}}var ua=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const r=(Math.random()*16+e)%16|0;return(t=="x"?r:r&3|8).toString(16)})},Up=(e,t,r={})=>r.shouldFocus||pt(r.shouldFocus)?r.focusName||`${e}.${pt(r.focusIndex)?t:r.focusIndex}.`:"",qp=(e,t)=>[...e,...Vr(t)],Vp=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Kp(e,t,r){return[...e.slice(0,t),...Vr(r),...e.slice(t)]}var Hp=(e,t,r)=>Array.isArray(e)?(pt(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[],Wp=(e,t)=>[...Vr(t),...Vr(e)];function zR(e,t){let r=0;const n=[...e];for(const a of t)n.splice(a-r,1),r++;return rh(n).length?n:[]}var Qp=(e,t)=>pt(t)?[]:zR(e,Vr(t).sort((r,n)=>r-n)),Gp=(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]},lN=(e,t,r)=>(e[t]=r,e);function Ja(e){const t=AR(),{control:r=t.control,name:n,keyName:a="id",shouldUnregister:i,rules:l}=e,[o,c]=Ee.useState(r._getFieldArray(n)),u=Ee.useRef(r._getFieldArray(n).map(ua)),d=Ee.useRef(o),m=Ee.useRef(!1);d.current=o,r._names.array.add(n),Ee.useMemo(()=>l&&r.register(n,l),[r,l,n]),j4(()=>r._subjects.array.subscribe({next:({values:N,name:k})=>{if(k===n||!k){const S=ne(N,n);Array.isArray(S)&&(c(S),u.current=S.map(ua))}}}).unsubscribe,[r,n]);const f=Ee.useCallback(N=>{m.current=!0,r._setFieldArray(n,N)},[r,n]),h=(N,k)=>{const S=Vr(ht(N)),A=qp(r._getFieldArray(n),S);r._names.focus=Up(n,A.length-1,k),u.current=qp(u.current,S.map(ua)),f(A),c(A),r._setFieldArray(n,A,qp,{argA:Vp(N)})},p=(N,k)=>{const S=Vr(ht(N)),A=Wp(r._getFieldArray(n),S);r._names.focus=Up(n,0,k),u.current=Wp(u.current,S.map(ua)),f(A),c(A),r._setFieldArray(n,A,Wp,{argA:Vp(N)})},y=N=>{const k=Qp(r._getFieldArray(n),N);u.current=Qp(u.current,N),f(k),c(k),!Array.isArray(ne(r._fields,n))&&Qe(r._fields,n,void 0),r._setFieldArray(n,k,Qp,{argA:N})},b=(N,k,S)=>{const A=Vr(ht(k)),P=Kp(r._getFieldArray(n),N,A);r._names.focus=Up(n,N,S),u.current=Kp(u.current,N,A.map(ua)),f(P),c(P),r._setFieldArray(n,P,Kp,{argA:N,argB:Vp(k)})},v=(N,k)=>{const S=r._getFieldArray(n);Gp(S,N,k),Gp(u.current,N,k),f(S),c(S),r._setFieldArray(n,S,Gp,{argA:N,argB:k},!1)},g=(N,k)=>{const S=r._getFieldArray(n);Hp(S,N,k),Hp(u.current,N,k),f(S),c(S),r._setFieldArray(n,S,Hp,{argA:N,argB:k},!1)},x=(N,k)=>{const S=ht(k),A=lN(r._getFieldArray(n),N,S);u.current=[...A].map((P,C)=>!P||C===N?ua():u.current[C]),f(A),c([...A]),r._setFieldArray(n,A,lN,{argA:N,argB:S},!0,!1)},w=N=>{const k=Vr(ht(N));u.current=k.map(ua),f([...k]),c([...k]),r._setFieldArray(n,[...k],S=>S,{},!0,!1)};return Ee.useEffect(()=>{if(r._state.action=!1,Hx(n,r._names)&&r._subjects.state.next({...r._formState}),m.current&&(!Dl(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!Dl(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([n]).then(N=>{const k=ne(N.errors,n),S=ne(r._formState.errors,n);(S?!k&&S.type||k&&(S.type!==k.type||S.message!==k.message):k&&k.type)&&(k?Qe(r._formState.errors,n,k):Mt(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))});else{const N=ne(r._fields,n);N&&N._f&&!(Dl(r._options.reValidateMode).isOnSubmit&&Dl(r._options.mode).isOnSubmit)&&Wx(N,r._names.disabled,r._formValues,r._options.criteriaMode===An.all,r._options.shouldUseNativeValidation,!0).then(k=>!Er(k)&&r._subjects.state.next({errors:E4(r._formState.errors,k,n)}))}r._subjects.state.next({name:n,values:ht(r._formValues)}),r._names.focus&&ql(r._fields,(N,k)=>{if(r._names.focus&&k.startsWith(r._names.focus)&&N.focus)return N.focus(),1}),r._names.focus="",r._setValid(),m.current=!1},[o,n,r]),Ee.useEffect(()=>(!ne(r._formValues,n)&&r._setFieldArray(n),()=>{const N=(k,S)=>{const A=ne(r._fields,k);A&&A._f&&(A._f.mount=S)};r._options.shouldUnregister||i?r.unregister(n):N(n,!1)}),[n,r,a,i]),{swap:Ee.useCallback(v,[f,n,r]),move:Ee.useCallback(g,[f,n,r]),prepend:Ee.useCallback(p,[f,n,r]),append:Ee.useCallback(h,[f,n,r]),remove:Ee.useCallback(y,[f,n,r]),insert:Ee.useCallback(b,[f,n,r]),update:Ee.useCallback(x,[f,n,r]),replace:Ee.useCallback(w,[f,n,r]),fields:Ee.useMemo(()=>o.map((N,k)=>({...N,[a]:u.current[k]||ua()})),[o,a])}}function gt(e={}){const t=Ee.useRef(void 0),r=Ee.useRef(void 0),[n,a]=Ee.useState({isDirty:!1,isValidating:!1,isLoading:Wn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Wn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Wn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:l,...o}=BR(e);t.current={...o,formState:n}}const i=t.current.control;return i._options=e,j4(()=>{const l=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(o=>({...o,isReady:!0})),i._formState.isReady=!0,l},[i]),Ee.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),Ee.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),Ee.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),Ee.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),Ee.useEffect(()=>{if(i._proxyFormState.isDirty){const l=i._getDirty();l!==n.isDirty&&i._subjects.state.next({isDirty:l})}},[i,n.isDirty]),Ee.useEffect(()=>{e.values&&!ba(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,a(l=>({...l}))):i._resetDefaultValues()},[i,e.values]),Ee.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=CR(n,i),t.current}const oN=(e,t,r)=>{if(e&&"reportValidity"in e){const n=ne(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},O4=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?oN(n.ref,r,e):n.refs&&n.refs.forEach(a=>oN(a,r,e))}},UR=(e,t)=>{t.shouldUseNativeValidation&&O4(e,t);const r={};for(const n in e){const a=ne(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(qR(t.names||Object.keys(e),n)){const l=Object.assign({},ne(r,n));Qe(l,"root",i),Qe(r,n,l)}else Qe(r,n,i)}return r},qR=(e,t)=>e.some(r=>r.startsWith(t+"."));var VR=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,l=n.path.join(".");if(!r[l])if("unionErrors"in n){var o=n.unionErrors[0].errors[0];r[l]={message:o.message,type:o.code}}else r[l]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(m){return e.push(m)})}),t){var c=r[l].types,u=c&&c[n.code];r[l]=w4(l,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},vt=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(l,o){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&O4({},i),{errors:{},values:r.raw?n:u}})}catch(u){return o(u)}return c&&c.then?c.then(void 0,o):c}(0,function(l){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(l))return{values:{},errors:UR(VR(l.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw l}))}catch(l){return Promise.reject(l)}}},Le;(function(e){e.assertEqual=a=>{};function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const l of a)i[l]=l;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(o=>typeof a[a[o]]!="number"),l={};for(const o of i)l[o]=a[o];return e.objectValues(l)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const l in a)Object.prototype.hasOwnProperty.call(a,l)&&i.push(l);return i},e.find=(a,i)=>{for(const l of a)if(i(l))return l},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(l=>typeof l=="string"?`'${l}'`:l).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Le||(Le={}));var cN;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(cN||(cN={}));const me=Le.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),xa=e=>{switch(typeof e){case"undefined":return me.undefined;case"string":return me.string;case"number":return Number.isNaN(e)?me.nan:me.number;case"boolean":return me.boolean;case"function":return me.function;case"bigint":return me.bigint;case"symbol":return me.symbol;case"object":return Array.isArray(e)?me.array:e===null?me.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?me.promise:typeof Map<"u"&&e instanceof Map?me.map:typeof Set<"u"&&e instanceof Set?me.set:typeof Date<"u"&&e instanceof Date?me.date:me.object;default:return me.unknown}},Z=Le.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Qs extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const l of i.issues)if(l.code==="invalid_union")l.unionErrors.map(a);else if(l.code==="invalid_return_type")a(l.returnTypeError);else if(l.code==="invalid_arguments")a(l.argumentsError);else if(l.path.length===0)n._errors.push(r(l));else{let o=n,c=0;for(;c<l.path.length;){const u=l.path[c];c===l.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(r(l))):o[u]=o[u]||{_errors:[]},o=o[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof Qs))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Le.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)if(a.path.length>0){const i=a.path[0];r[i]=r[i]||[],r[i].push(t(a))}else n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Qs.create=e=>new Qs(e);const Qx=(e,t)=>{let r;switch(e.code){case Z.invalid_type:e.received===me.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Z.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Le.jsonStringifyReplacer)}`;break;case Z.unrecognized_keys:r=`Unrecognized key(s) in object: ${Le.joinValues(e.keys,", ")}`;break;case Z.invalid_union:r="Invalid input";break;case Z.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Le.joinValues(e.options)}`;break;case Z.invalid_enum_value:r=`Invalid enum value. Expected ${Le.joinValues(e.options)}, received '${e.received}'`;break;case Z.invalid_arguments:r="Invalid function arguments";break;case Z.invalid_return_type:r="Invalid function return type";break;case Z.invalid_date:r="Invalid date";break;case Z.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Le.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Z.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Z.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Z.custom:r="Invalid input";break;case Z.invalid_intersection_types:r="Intersection results could not be merged";break;case Z.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Z.not_finite:r="Number must be finite";break;default:r=t.defaultError,Le.assertNever(e)}return{message:r}};let KR=Qx;function HR(){return KR}const WR=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],l={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let o="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)o=u(l,{data:t,defaultError:o}).message;return{...a,path:i,message:o}};function ie(e,t){const r=HR(),n=WR({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Qx?void 0:Qx].filter(a=>!!a)});e.common.issues.push(n)}class un{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return ke;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,l=await a.value;n.push({key:i,value:l})}return un.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:l}=a;if(i.status==="aborted"||l.status==="aborted")return ke;i.status==="dirty"&&t.dirty(),l.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof l.value<"u"||a.alwaysSet)&&(n[i.value]=l.value)}return{status:t.value,value:n}}}const ke=Object.freeze({status:"aborted"}),Nc=e=>({status:"dirty",value:e}),Rn=e=>({status:"valid",value:e}),uN=e=>e.status==="aborted",dN=e=>e.status==="dirty",go=e=>e.status==="valid",Mm=e=>typeof Promise<"u"&&e instanceof Promise;var he;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(he||(he={}));class ei{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const mN=(e,t)=>{if(go(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Qs(e.common.issues);return this._error=r,this._error}}};function Oe(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(l,o)=>{const{message:c}=e;return l.code==="invalid_enum_value"?{message:c??o.defaultError}:typeof o.data>"u"?{message:c??n??o.defaultError}:l.code!=="invalid_type"?{message:o.defaultError}:{message:c??r??o.defaultError}},description:a}}class Fe{get description(){return this._def.description}_getType(t){return xa(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:xa(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new un,ctx:{common:t.parent.common,data:t.data,parsedType:xa(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Mm(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:xa(t)},a=this._parseSync({data:t,path:n.path,parent:n});return mN(n,a)}"~validate"(t){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:xa(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return go(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>go(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:xa(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(Mm(a)?a:Promise.resolve(a));return mN(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const l=t(a),o=()=>i.addIssue({code:Z.custom,...n(a)});return typeof Promise<"u"&&l instanceof Promise?l.then(c=>c?!0:(o(),!1)):l?!0:(o(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new jo({schema:this,typeName:Se.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Ha.create(this,this._def)}nullable(){return wo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return hs.create(this)}promise(){return Lm.create(this,this._def)}or(t){return Rm.create([this,t],this._def)}and(t){return Fm.create(this,t,this._def)}transform(t){return new jo({...Oe(this._def),schema:this,typeName:Se.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Zx({...Oe(this._def),innerType:this,defaultValue:r,typeName:Se.ZodDefault})}brand(){return new xF({typeName:Se.ZodBranded,type:this,...Oe(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Jx({...Oe(this._def),innerType:this,catchValue:r,typeName:Se.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return sv.create(this,t)}readonly(){return ey.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const QR=/^c[^\s-]{8,}$/i,GR=/^[0-9a-z]+$/,YR=/^[0-9A-HJKMNP-TV-Z]{26}$/i,XR=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,ZR=/^[a-z0-9_-]{21}$/i,JR=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,eF=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,tF=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,rF="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Yp;const nF=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,sF=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,aF=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,iF=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,lF=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,oF=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,_4="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",cF=new RegExp(`^${_4}$`);function T4(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function uF(e){return new RegExp(`^${T4(e)}$`)}function dF(e){let t=`${_4}T${T4(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function mF(e,t){return!!((t==="v4"||!t)&&nF.test(e)||(t==="v6"||!t)&&aF.test(e))}function fF(e,t){if(!JR.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&a.alg!==t)}catch{return!1}}function hF(e,t){return!!((t==="v4"||!t)&&sF.test(e)||(t==="v6"||!t)&&iF.test(e))}class Ma extends Fe{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==me.string){const i=this._getOrReturnCtx(t);return ie(i,{code:Z.invalid_type,expected:me.string,received:i.parsedType}),ke}const n=new un;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),ie(a,{code:Z.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),ie(a,{code:Z.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const l=t.data.length>i.value,o=t.data.length<i.value;(l||o)&&(a=this._getOrReturnCtx(t,a),l?ie(a,{code:Z.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&ie(a,{code:Z.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")tF.test(t.data)||(a=this._getOrReturnCtx(t,a),ie(a,{validation:"email",code:Z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Yp||(Yp=new RegExp(rF,"u")),Yp.test(t.data)||(a=this._getOrReturnCtx(t,a),ie(a,{validation:"emoji",code:Z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")XR.test(t.data)||(a=this._getOrReturnCtx(t,a),ie(a,{validation:"uuid",code:Z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")ZR.test(t.data)||(a=this._getOrReturnCtx(t,a),ie(a,{validation:"nanoid",code:Z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")QR.test(t.data)||(a=this._getOrReturnCtx(t,a),ie(a,{validation:"cuid",code:Z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")GR.test(t.data)||(a=this._getOrReturnCtx(t,a),ie(a,{validation:"cuid2",code:Z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")YR.test(t.data)||(a=this._getOrReturnCtx(t,a),ie(a,{validation:"ulid",code:Z.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),ie(a,{validation:"url",code:Z.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),ie(a,{validation:"regex",code:Z.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),ie(a,{code:Z.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),ie(a,{code:Z.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),ie(a,{code:Z.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?dF(i).test(t.data)||(a=this._getOrReturnCtx(t,a),ie(a,{code:Z.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?cF.test(t.data)||(a=this._getOrReturnCtx(t,a),ie(a,{code:Z.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?uF(i).test(t.data)||(a=this._getOrReturnCtx(t,a),ie(a,{code:Z.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?eF.test(t.data)||(a=this._getOrReturnCtx(t,a),ie(a,{validation:"duration",code:Z.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?mF(t.data,i.version)||(a=this._getOrReturnCtx(t,a),ie(a,{validation:"ip",code:Z.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?fF(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),ie(a,{validation:"jwt",code:Z.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?hF(t.data,i.version)||(a=this._getOrReturnCtx(t,a),ie(a,{validation:"cidr",code:Z.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?lF.test(t.data)||(a=this._getOrReturnCtx(t,a),ie(a,{validation:"base64",code:Z.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?oF.test(t.data)||(a=this._getOrReturnCtx(t,a),ie(a,{validation:"base64url",code:Z.invalid_string,message:i.message}),n.dirty()):Le.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:Z.invalid_string,...he.errToObj(n)})}_addCheck(t){return new Ma({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...he.errToObj(t)})}url(t){return this._addCheck({kind:"url",...he.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...he.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...he.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...he.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...he.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...he.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...he.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...he.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...he.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...he.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...he.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...he.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...he.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...he.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...he.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...he.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...he.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...he.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...he.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...he.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...he.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...he.errToObj(r)})}nonempty(t){return this.min(1,he.errToObj(t))}trim(){return new Ma({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ma({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ma({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ma.create=e=>new Ma({checks:[],typeName:Se.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Oe(e)});function pF(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(e.toFixed(a).replace(".","")),l=Number.parseInt(t.toFixed(a).replace(".",""));return i%l/10**a}class vo extends Fe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==me.number){const i=this._getOrReturnCtx(t);return ie(i,{code:Z.invalid_type,expected:me.number,received:i.parsedType}),ke}let n;const a=new un;for(const i of this._def.checks)i.kind==="int"?Le.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),ie(n,{code:Z.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),ie(n,{code:Z.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),ie(n,{code:Z.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?pF(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),ie(n,{code:Z.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),ie(n,{code:Z.not_finite,message:i.message}),a.dirty()):Le.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,he.toString(r))}gt(t,r){return this.setLimit("min",t,!1,he.toString(r))}lte(t,r){return this.setLimit("max",t,!0,he.toString(r))}lt(t,r){return this.setLimit("max",t,!1,he.toString(r))}setLimit(t,r,n,a){return new vo({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:he.toString(a)}]})}_addCheck(t){return new vo({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:he.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:he.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:he.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:he.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:he.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:he.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:he.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:he.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:he.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Le.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}vo.create=e=>new vo({checks:[],typeName:Se.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Oe(e)});class iu extends Fe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==me.bigint)return this._getInvalidInput(t);let n;const a=new un;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),ie(n,{code:Z.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),ie(n,{code:Z.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),ie(n,{code:Z.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Le.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return ie(r,{code:Z.invalid_type,expected:me.bigint,received:r.parsedType}),ke}gte(t,r){return this.setLimit("min",t,!0,he.toString(r))}gt(t,r){return this.setLimit("min",t,!1,he.toString(r))}lte(t,r){return this.setLimit("max",t,!0,he.toString(r))}lt(t,r){return this.setLimit("max",t,!1,he.toString(r))}setLimit(t,r,n,a){return new iu({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:he.toString(a)}]})}_addCheck(t){return new iu({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:he.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:he.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:he.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:he.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:he.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}iu.create=e=>new iu({checks:[],typeName:Se.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Oe(e)});class Gx extends Fe{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==me.boolean){const n=this._getOrReturnCtx(t);return ie(n,{code:Z.invalid_type,expected:me.boolean,received:n.parsedType}),ke}return Rn(t.data)}}Gx.create=e=>new Gx({typeName:Se.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Oe(e)});class Im extends Fe{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==me.date){const i=this._getOrReturnCtx(t);return ie(i,{code:Z.invalid_type,expected:me.date,received:i.parsedType}),ke}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return ie(i,{code:Z.invalid_date}),ke}const n=new un;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),ie(a,{code:Z.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),ie(a,{code:Z.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Le.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Im({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:he.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:he.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Im.create=e=>new Im({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Se.ZodDate,...Oe(e)});class fN extends Fe{_parse(t){if(this._getType(t)!==me.symbol){const n=this._getOrReturnCtx(t);return ie(n,{code:Z.invalid_type,expected:me.symbol,received:n.parsedType}),ke}return Rn(t.data)}}fN.create=e=>new fN({typeName:Se.ZodSymbol,...Oe(e)});class hN extends Fe{_parse(t){if(this._getType(t)!==me.undefined){const n=this._getOrReturnCtx(t);return ie(n,{code:Z.invalid_type,expected:me.undefined,received:n.parsedType}),ke}return Rn(t.data)}}hN.create=e=>new hN({typeName:Se.ZodUndefined,...Oe(e)});class pN extends Fe{_parse(t){if(this._getType(t)!==me.null){const n=this._getOrReturnCtx(t);return ie(n,{code:Z.invalid_type,expected:me.null,received:n.parsedType}),ke}return Rn(t.data)}}pN.create=e=>new pN({typeName:Se.ZodNull,...Oe(e)});class xN extends Fe{constructor(){super(...arguments),this._any=!0}_parse(t){return Rn(t.data)}}xN.create=e=>new xN({typeName:Se.ZodAny,...Oe(e)});class yN extends Fe{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Rn(t.data)}}yN.create=e=>new yN({typeName:Se.ZodUnknown,...Oe(e)});class ti extends Fe{_parse(t){const r=this._getOrReturnCtx(t);return ie(r,{code:Z.invalid_type,expected:me.never,received:r.parsedType}),ke}}ti.create=e=>new ti({typeName:Se.ZodNever,...Oe(e)});class gN extends Fe{_parse(t){if(this._getType(t)!==me.undefined){const n=this._getOrReturnCtx(t);return ie(n,{code:Z.invalid_type,expected:me.void,received:n.parsedType}),ke}return Rn(t.data)}}gN.create=e=>new gN({typeName:Se.ZodVoid,...Oe(e)});class hs extends Fe{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==me.array)return ie(r,{code:Z.invalid_type,expected:me.array,received:r.parsedType}),ke;if(a.exactLength!==null){const l=r.data.length>a.exactLength.value,o=r.data.length<a.exactLength.value;(l||o)&&(ie(r,{code:l?Z.too_big:Z.too_small,minimum:o?a.exactLength.value:void 0,maximum:l?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(ie(r,{code:Z.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(ie(r,{code:Z.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((l,o)=>a.type._parseAsync(new ei(r,l,r.path,o)))).then(l=>un.mergeArray(n,l));const i=[...r.data].map((l,o)=>a.type._parseSync(new ei(r,l,r.path,o)));return un.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new hs({...this._def,minLength:{value:t,message:he.toString(r)}})}max(t,r){return new hs({...this._def,maxLength:{value:t,message:he.toString(r)}})}length(t,r){return new hs({...this._def,exactLength:{value:t,message:he.toString(r)}})}nonempty(t){return this.min(1,t)}}hs.create=(e,t)=>new hs({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Se.ZodArray,...Oe(t)});function bl(e){if(e instanceof Bt){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Ha.create(bl(n))}return new Bt({...e._def,shape:()=>t})}else return e instanceof hs?new hs({...e._def,type:bl(e.element)}):e instanceof Ha?Ha.create(bl(e.unwrap())):e instanceof wo?wo.create(bl(e.unwrap())):e instanceof rl?rl.create(e.items.map(t=>bl(t))):e}class Bt extends Fe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Le.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==me.object){const u=this._getOrReturnCtx(t);return ie(u,{code:Z.invalid_type,expected:me.object,received:u.parsedType}),ke}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:l}=this._getCached(),o=[];if(!(this._def.catchall instanceof ti&&this._def.unknownKeys==="strip"))for(const u in a.data)l.includes(u)||o.push(u);const c=[];for(const u of l){const d=i[u],m=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new ei(a,m,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof ti){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of o)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")o.length>0&&(ie(a,{code:Z.unrecognized_keys,keys:o}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of o){const m=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new ei(a,m,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const m=await d.key,f=await d.value;u.push({key:m,value:f,alwaysSet:d.alwaysSet})}return u}).then(u=>un.mergeObjectSync(n,u)):un.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return he.errToObj,new Bt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,l;const a=((l=(i=this._def).errorMap)==null?void 0:l.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:he.errToObj(t).message??a}:{message:a}}}:{}})}strip(){return new Bt({...this._def,unknownKeys:"strip"})}passthrough(){return new Bt({...this._def,unknownKeys:"passthrough"})}extend(t){return new Bt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Bt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Se.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Bt({...this._def,catchall:t})}pick(t){const r={};for(const n of Le.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Bt({...this._def,shape:()=>r})}omit(t){const r={};for(const n of Le.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Bt({...this._def,shape:()=>r})}deepPartial(){return bl(this)}partial(t){const r={};for(const n of Le.objectKeys(this.shape)){const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}return new Bt({...this._def,shape:()=>r})}required(t){const r={};for(const n of Le.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Ha;)i=i._def.innerType;r[n]=i}return new Bt({...this._def,shape:()=>r})}keyof(){return D4(Le.objectKeys(this.shape))}}Bt.create=(e,t)=>new Bt({shape:()=>e,unknownKeys:"strip",catchall:ti.create(),typeName:Se.ZodObject,...Oe(t)});Bt.strictCreate=(e,t)=>new Bt({shape:()=>e,unknownKeys:"strict",catchall:ti.create(),typeName:Se.ZodObject,...Oe(t)});Bt.lazycreate=(e,t)=>new Bt({shape:e,unknownKeys:"strip",catchall:ti.create(),typeName:Se.ZodObject,...Oe(t)});class Rm extends Fe{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const o of i)if(o.result.status==="valid")return o.result;for(const o of i)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;const l=i.map(o=>new Qs(o.ctx.common.issues));return ie(r,{code:Z.invalid_union,unionErrors:l}),ke}if(r.common.async)return Promise.all(n.map(async i=>{const l={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:l}),ctx:l}})).then(a);{let i;const l=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&l.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const o=l.map(c=>new Qs(c));return ie(r,{code:Z.invalid_union,unionErrors:o}),ke}}get options(){return this._def.options}}Rm.create=(e,t)=>new Rm({options:e,typeName:Se.ZodUnion,...Oe(t)});function Yx(e,t){const r=xa(e),n=xa(t);if(e===t)return{valid:!0,data:e};if(r===me.object&&n===me.object){const a=Le.objectKeys(t),i=Le.objectKeys(e).filter(o=>a.indexOf(o)!==-1),l={...e,...t};for(const o of i){const c=Yx(e[o],t[o]);if(!c.valid)return{valid:!1};l[o]=c.data}return{valid:!0,data:l}}else if(r===me.array&&n===me.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const l=e[i],o=t[i],c=Yx(l,o);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===me.date&&n===me.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Fm extends Fe{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,l)=>{if(uN(i)||uN(l))return ke;const o=Yx(i.value,l.value);return o.valid?((dN(i)||dN(l))&&r.dirty(),{status:r.value,value:o.data}):(ie(n,{code:Z.invalid_intersection_types}),ke)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,l])=>a(i,l)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Fm.create=(e,t,r)=>new Fm({left:e,right:t,typeName:Se.ZodIntersection,...Oe(r)});class rl extends Fe{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==me.array)return ie(n,{code:Z.invalid_type,expected:me.array,received:n.parsedType}),ke;if(n.data.length<this._def.items.length)return ie(n,{code:Z.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ke;!this._def.rest&&n.data.length>this._def.items.length&&(ie(n,{code:Z.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((l,o)=>{const c=this._def.items[o]||this._def.rest;return c?c._parse(new ei(n,l,n.path,o)):null}).filter(l=>!!l);return n.common.async?Promise.all(i).then(l=>un.mergeArray(r,l)):un.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new rl({...this._def,rest:t})}}rl.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new rl({items:e,typeName:Se.ZodTuple,rest:null,...Oe(t)})};class vN extends Fe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==me.map)return ie(n,{code:Z.invalid_type,expected:me.map,received:n.parsedType}),ke;const a=this._def.keyType,i=this._def.valueType,l=[...n.data.entries()].map(([o,c],u)=>({key:a._parse(new ei(n,o,n.path,[u,"key"])),value:i._parse(new ei(n,c,n.path,[u,"value"]))}));if(n.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const c of l){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return ke;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(u.value,d.value)}return{status:r.value,value:o}})}else{const o=new Map;for(const c of l){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return ke;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),o.set(u.value,d.value)}return{status:r.value,value:o}}}}vN.create=(e,t,r)=>new vN({valueType:t,keyType:e,typeName:Se.ZodMap,...Oe(r)});class lu extends Fe{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==me.set)return ie(n,{code:Z.invalid_type,expected:me.set,received:n.parsedType}),ke;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(ie(n,{code:Z.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(ie(n,{code:Z.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function l(c){const u=new Set;for(const d of c){if(d.status==="aborted")return ke;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const o=[...n.data.values()].map((c,u)=>i._parse(new ei(n,c,n.path,u)));return n.common.async?Promise.all(o).then(c=>l(c)):l(o)}min(t,r){return new lu({...this._def,minSize:{value:t,message:he.toString(r)}})}max(t,r){return new lu({...this._def,maxSize:{value:t,message:he.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}lu.create=(e,t)=>new lu({valueType:e,minSize:null,maxSize:null,typeName:Se.ZodSet,...Oe(t)});class bN extends Fe{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}bN.create=(e,t)=>new bN({getter:e,typeName:Se.ZodLazy,...Oe(t)});class Xx extends Fe{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return ie(r,{received:r.data,code:Z.invalid_literal,expected:this._def.value}),ke}return{status:"valid",value:t.data}}get value(){return this._def.value}}Xx.create=(e,t)=>new Xx({value:e,typeName:Se.ZodLiteral,...Oe(t)});function D4(e,t){return new bo({values:e,typeName:Se.ZodEnum,...Oe(t)})}class bo extends Fe{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return ie(r,{expected:Le.joinValues(n),received:r.parsedType,code:Z.invalid_type}),ke}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return ie(r,{received:r.data,code:Z.invalid_enum_value,options:n}),ke}return Rn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return bo.create(t,{...this._def,...r})}exclude(t,r=this._def){return bo.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}bo.create=D4;class jN extends Fe{_parse(t){const r=Le.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==me.string&&n.parsedType!==me.number){const a=Le.objectValues(r);return ie(n,{expected:Le.joinValues(a),received:n.parsedType,code:Z.invalid_type}),ke}if(this._cache||(this._cache=new Set(Le.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const a=Le.objectValues(r);return ie(n,{received:n.data,code:Z.invalid_enum_value,options:a}),ke}return Rn(t.data)}get enum(){return this._def.values}}jN.create=(e,t)=>new jN({values:e,typeName:Se.ZodNativeEnum,...Oe(t)});class Lm extends Fe{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==me.promise&&r.common.async===!1)return ie(r,{code:Z.invalid_type,expected:me.promise,received:r.parsedType}),ke;const n=r.parsedType===me.promise?r.data:Promise.resolve(r.data);return Rn(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Lm.create=(e,t)=>new Lm({type:e,typeName:Se.ZodPromise,...Oe(t)});class jo extends Fe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Se.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:l=>{ie(n,l),l.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const l=a.transform(n.data,i);if(n.common.async)return Promise.resolve(l).then(async o=>{if(r.value==="aborted")return ke;const c=await this._def.schema._parseAsync({data:o,path:n.path,parent:n});return c.status==="aborted"?ke:c.status==="dirty"||r.value==="dirty"?Nc(c.value):c});{if(r.value==="aborted")return ke;const o=this._def.schema._parseSync({data:l,path:n.path,parent:n});return o.status==="aborted"?ke:o.status==="dirty"||r.value==="dirty"?Nc(o.value):o}}if(a.type==="refinement"){const l=o=>{const c=a.refinement(o,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?ke:(o.status==="dirty"&&r.dirty(),l(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>o.status==="aborted"?ke:(o.status==="dirty"&&r.dirty(),l(o.value).then(()=>({status:r.value,value:o.value}))))}if(a.type==="transform")if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!go(l))return ke;const o=a.transform(l.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>go(l)?Promise.resolve(a.transform(l.value,i)).then(o=>({status:r.value,value:o})):ke);Le.assertNever(a)}}jo.create=(e,t,r)=>new jo({schema:e,typeName:Se.ZodEffects,effect:t,...Oe(r)});jo.createWithPreprocess=(e,t,r)=>new jo({schema:t,effect:{type:"preprocess",transform:e},typeName:Se.ZodEffects,...Oe(r)});class Ha extends Fe{_parse(t){return this._getType(t)===me.undefined?Rn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ha.create=(e,t)=>new Ha({innerType:e,typeName:Se.ZodOptional,...Oe(t)});class wo extends Fe{_parse(t){return this._getType(t)===me.null?Rn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}wo.create=(e,t)=>new wo({innerType:e,typeName:Se.ZodNullable,...Oe(t)});class Zx extends Fe{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===me.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Zx.create=(e,t)=>new Zx({innerType:e,typeName:Se.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Oe(t)});class Jx extends Fe{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Mm(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Qs(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Qs(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Jx.create=(e,t)=>new Jx({innerType:e,typeName:Se.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Oe(t)});class wN extends Fe{_parse(t){if(this._getType(t)!==me.nan){const n=this._getOrReturnCtx(t);return ie(n,{code:Z.invalid_type,expected:me.nan,received:n.parsedType}),ke}return{status:"valid",value:t.data}}}wN.create=e=>new wN({typeName:Se.ZodNaN,...Oe(e)});class xF extends Fe{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class sv extends Fe{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?ke:i.status==="dirty"?(r.dirty(),Nc(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?ke:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new sv({in:t,out:r,typeName:Se.ZodPipeline})}}class ey extends Fe{_parse(t){const r=this._def.innerType._parse(t),n=a=>(go(a)&&(a.value=Object.freeze(a.value)),a);return Mm(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}ey.create=(e,t)=>new ey({innerType:e,typeName:Se.ZodReadonly,...Oe(t)});var Se;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Se||(Se={}));const B=Ma.create,J=vo.create,Xd=Gx.create;ti.create;const ri=hs.create,ze=Bt.create;Rm.create;Fm.create;rl.create;const nl=Xx.create,fr=bo.create;Lm.create;Ha.create;wo.create;const yF=ze({email:B().email("Email invalide"),password:B().min(1,"Mot de passe requis")}),gF=()=>{var h,p;const[e,t]=j.useState(!1),[r,n]=j.useState(!1),[a,i]=j.useState(""),{login:l,isAuthenticated:o}=Ze(),c=oi(),{register:u,handleSubmit:d,formState:{errors:m}}=gt({resolver:vt(yF)});if(o){const y=((p=(h=c.state)==null?void 0:h.from)==null?void 0:p.pathname)||"/dashboard";return s.jsx(km,{to:y,replace:!0})}const f=async y=>{n(!0),i("");try{await l(y.email,y.password)}catch(b){i(b.message||"Erreur de connexion")}finally{n(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"max-w-md w-full",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[s.jsxs("div",{className:"px-8 pt-8 pb-6",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"mx-auto w-20 h-20 mb-4",children:s.jsx("img",{src:"/parrabellum.jpg",alt:"Parabellum Groups",className:"w-full h-full object-contain rounded-full"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Parabellum Groups"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Solution technique innovante"})]}),s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Connexion à votre espace"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Entrez vos identifiants pour au tableau de bord"})]}),s.jsxs("form",{onSubmit:d(f),className:"space-y-5",children:[a&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:a}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse e-mail"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(zo,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{...u("email"),type:"email",autoComplete:"email",placeholder:"email@exemple.com",className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]}),m.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.email.message})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Mot de passe"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(f4,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{...u("password"),type:e?"text":"password",autoComplete:"current-password",placeholder:"Mot de passe",className:"block w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"}),s.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>t(!e),children:e?s.jsx(nR,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):s.jsx(kt,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),m.password&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.password.message})]}),s.jsx("button",{type:"submit",disabled:r,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r?s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Connexion..."]}):"Se connecter"})]})]}),s.jsx("div",{className:"bg-gray-50 px-8 py-6 border-t border-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Comptes de démonstration :"}),s.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs text-gray-600",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:"DG:"}),s.jsx("span",{children:"dg@parabellum.com / password123"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:"Admin:"}),s.jsx("span",{children:"admin@parabellum.com / password123"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:"Commercial:"}),s.jsx("span",{children:"commercial@parabellum.com / password123"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:"Comptable:"}),s.jsx("span",{children:"comptable@parabellum.com / password123"})]})]})]})})]})})})};function M4(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=M4(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Re(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=M4(e))&&(n&&(n+=" "),n+=t);return n}var nh={},I4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(I4);var av={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(av);var iv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(iv);var sh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],a=r.length;if(a===0)return n;let i=0,l="",o="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),i++);i<a;){const u=r[i];o?u==="\\"&&i+1<a?(i++,l+=r[i]):u===o?o="":l+=u:c?u==='"'||u==="'"?o=u:u==="]"?(c=!1,n.push(l),l=""):l+=u:u==="["?(c=!0,l&&(n.push(l),l="")):u==="."?l&&(n.push(l),l=""):l+=u,i++}return l&&n.push(l),n}e.toPath=t})(sh);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I4,r=av,n=iv,a=sh;function i(o,c,u){if(o==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?r.isDeepKey(c)?i(o,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=o[c];return d===void 0?u:d}default:{if(Array.isArray(c))return l(o,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?u:d}}}function l(o,c,u){if(c.length===0)return u;let d=o;for(let m=0;m<c.length;m++){if(d==null||t.isUnsafeProperty(c[m]))return u;d=d[c[m]]}return d===void 0?u:d}e.get=i})(nh);var vF=nh.get;const ni=bs(vF);var R4={exports:{}},tt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv=Symbol.for("react.transitional.element"),ov=Symbol.for("react.portal"),ah=Symbol.for("react.fragment"),ih=Symbol.for("react.strict_mode"),lh=Symbol.for("react.profiler"),oh=Symbol.for("react.consumer"),ch=Symbol.for("react.context"),uh=Symbol.for("react.forward_ref"),dh=Symbol.for("react.suspense"),mh=Symbol.for("react.suspense_list"),fh=Symbol.for("react.memo"),hh=Symbol.for("react.lazy"),bF=Symbol.for("react.view_transition"),jF=Symbol.for("react.client.reference");function Fn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case lv:switch(e=e.type,e){case ah:case lh:case ih:case dh:case mh:case bF:return e;default:switch(e=e&&e.$$typeof,e){case ch:case uh:case hh:case fh:return e;case oh:return e;default:return t}}case ov:return t}}}tt.ContextConsumer=oh;tt.ContextProvider=ch;tt.Element=lv;tt.ForwardRef=uh;tt.Fragment=ah;tt.Lazy=hh;tt.Memo=fh;tt.Portal=ov;tt.Profiler=lh;tt.StrictMode=ih;tt.Suspense=dh;tt.SuspenseList=mh;tt.isContextConsumer=function(e){return Fn(e)===oh};tt.isContextProvider=function(e){return Fn(e)===ch};tt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===lv};tt.isForwardRef=function(e){return Fn(e)===uh};tt.isFragment=function(e){return Fn(e)===ah};tt.isLazy=function(e){return Fn(e)===hh};tt.isMemo=function(e){return Fn(e)===fh};tt.isPortal=function(e){return Fn(e)===ov};tt.isProfiler=function(e){return Fn(e)===lh};tt.isStrictMode=function(e){return Fn(e)===ih};tt.isSuspense=function(e){return Fn(e)===dh};tt.isSuspenseList=function(e){return Fn(e)===mh};tt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ah||e===lh||e===ih||e===dh||e===mh||typeof e=="object"&&e!==null&&(e.$$typeof===hh||e.$$typeof===fh||e.$$typeof===ch||e.$$typeof===oh||e.$$typeof===uh||e.$$typeof===jF||e.getModuleId!==void 0)};tt.typeOf=Fn;R4.exports=tt;var wF=R4.exports,nr=e=>e===0?0:e>0?1:-1,Zr=e=>typeof e=="number"&&e!=+e,Ai=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,re=e=>(typeof e=="number"||e instanceof Number)&&!Zr(e),xs=e=>re(e)||typeof e=="string",NF=0,ou=e=>{var t=++NF;return"".concat(e||"").concat(t)},Ir=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!re(t)&&typeof t!="string")return n;var i;if(Ai(t)){if(r==null)return n;var l=t.indexOf("%");i=r*parseFloat(t.slice(0,l))/100}else i=+t;return Zr(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},F4=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},NN=(e,t)=>re(e)&&re(t)?r=>e+r*(t-e):()=>t;function cr(e,t,r){return re(e)&&re(t)?e+r*(t-e):t}function L4(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):ni(n,t))===r)}var lt=e=>e===null||typeof e>"u",Du=e=>lt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),kF=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function cv(e){if(typeof e!="string")return!1;var t=kF;return t.includes(e)}var SF=["viewBox","children"],kN=["points","pathLength"],Xp={svg:SF,polygon:kN,polyline:kN},uv=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{cv(a)&&(n[a]=i=>r[a](r,i))}),n},AF=(e,t,r)=>n=>(e(t,r,n),null),ph=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];cv(a)&&typeof i=="function"&&(n||(n={}),n[a]=AF(i,t,r))}),n},CF=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function $4(e){if(typeof e!="string")return!1;var t=CF;return t.includes(e)}function es(e){var t=Object.entries(e).filter(r=>{var[n]=r;return $4(n)});return Object.fromEntries(t)}var SN=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",AN=null,Zp=null,B4=e=>{if(e===AN&&Array.isArray(Zp))return Zp;var t=[];return j.Children.forEach(e,r=>{lt(r)||(wF.isFragment(r)?t=t.concat(B4(r.props.children)):t.push(r))}),Zp=t,AN=e,t};function Mu(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>SN(a)):n=[SN(t)],B4(e).forEach(a=>{var i=ni(a,"type.displayName")||ni(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}var xh=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,PF=(e,t,r,n)=>{var a;if(typeof t=="symbol"||typeof t=="number")return!0;var i=(a=n&&(Xp==null?void 0:Xp[n]))!==null&&a!==void 0?a:[],l=t.startsWith("data-"),o=typeof e!="function"&&(!!n&&i.includes(t)||$4(t)),c=!!r&&cv(t);return l||o||c},it=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(j.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(i=>{var l;PF((l=n)===null||l===void 0?void 0:l[i],i,t,r)&&(a[i]=n[i])}),a},EF=["children","width","height","viewBox","className","style","title","desc"];function ty(){return ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ty.apply(null,arguments)}function OF(e,t){if(e==null)return{};var r,n,a=_F(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _F(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var z4=j.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:l,style:o,title:c,desc:u}=e,d=OF(e,EF),m=i||{width:n,height:a,x:0,y:0},f=Re("recharts-surface",l);return j.createElement("svg",ty({},it(d,!0,"svg"),{className:f,width:n,height:a,style:o,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),j.createElement("title",null,c),j.createElement("desc",null,u),r)}),TF=["children","className"];function ry(){return ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ry.apply(null,arguments)}function DF(e,t){if(e==null)return{};var r,n,a=MF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function MF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ft=j.forwardRef((e,t)=>{var{children:r,className:n}=e,a=DF(e,TF),i=Re("recharts-layer",n);return j.createElement("g",ry({className:i},it(a,!0),{ref:t}),r)}),IF=j.createContext(null);function st(e){return function(){return e}}const U4=Math.cos,$m=Math.sin,ts=Math.sqrt,Bm=Math.PI,yh=2*Bm,ny=Math.PI,sy=2*ny,gi=1e-6,RF=sy-gi;function q4(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function FF(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return q4;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class LF{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?q4:FF(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,l){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+l}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,o=this._y1,c=n-t,u=a-r,d=l-t,m=o-r,f=d*d+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(f>gi)if(!(Math.abs(m*c-u*d)>gi)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-l,p=a-o,y=c*c+u*u,b=h*h+p*p,v=Math.sqrt(y),g=Math.sqrt(f),x=i*Math.tan((ny-Math.acos((y+f-b)/(2*v*g)))/2),w=x/g,N=x/v;Math.abs(w-1)>gi&&this._append`L${t+w*d},${r+w*m}`,this._append`A${i},${i},0,0,${+(m*h>d*p)},${this._x1=t+N*c},${this._y1=r+N*u}`}}arc(t,r,n,a,i,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),c=n*Math.sin(a),u=t+o,d=r+c,m=1^l,f=l?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>gi||Math.abs(this._y1-d)>gi)&&this._append`L${u},${d}`,n&&(f<0&&(f=f%sy+sy),f>RF?this._append`A${n},${n},0,1,${m},${t-o},${r-c}A${n},${n},0,1,${m},${this._x1=u},${this._y1=d}`:f>gi&&this._append`A${n},${n},0,${+(f>=ny)},${m},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function dv(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new LF(t)}function mv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function V4(e){this._context=e}V4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function gh(e){return new V4(e)}function K4(e){return e[0]}function H4(e){return e[1]}function W4(e,t){var r=st(!0),n=null,a=gh,i=null,l=dv(o);e=typeof e=="function"?e:e===void 0?K4:st(e),t=typeof t=="function"?t:t===void 0?H4:st(t);function o(c){var u,d=(c=mv(c)).length,m,f=!1,h;for(n==null&&(i=a(h=l())),u=0;u<=d;++u)!(u<d&&r(m=c[u],u,c))===f&&((f=!f)?i.lineStart():i.lineEnd()),f&&i.point(+e(m,u,c),+t(m,u,c));if(h)return i=null,h+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:st(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:st(+c),o):t},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:st(!!c),o):r},o.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),o):a},o.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),o):n},o}function gd(e,t,r){var n=null,a=st(!0),i=null,l=gh,o=null,c=dv(u);e=typeof e=="function"?e:e===void 0?K4:st(+e),t=typeof t=="function"?t:st(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?H4:st(+r);function u(m){var f,h,p,y=(m=mv(m)).length,b,v=!1,g,x=new Array(y),w=new Array(y);for(i==null&&(o=l(g=c())),f=0;f<=y;++f){if(!(f<y&&a(b=m[f],f,m))===v)if(v=!v)h=f,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=f-1;p>=h;--p)o.point(x[p],w[p]);o.lineEnd(),o.areaEnd()}v&&(x[f]=+e(b,f,m),w[f]=+t(b,f,m),o.point(n?+n(b,f,m):x[f],r?+r(b,f,m):w[f]))}if(g)return o=null,g+""||null}function d(){return W4().defined(a).curve(l).context(i)}return u.x=function(m){return arguments.length?(e=typeof m=="function"?m:st(+m),n=null,u):e},u.x0=function(m){return arguments.length?(e=typeof m=="function"?m:st(+m),u):e},u.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:st(+m),u):n},u.y=function(m){return arguments.length?(t=typeof m=="function"?m:st(+m),r=null,u):t},u.y0=function(m){return arguments.length?(t=typeof m=="function"?m:st(+m),u):t},u.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:st(+m),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(m){return arguments.length?(a=typeof m=="function"?m:st(!!m),u):a},u.curve=function(m){return arguments.length?(l=m,i!=null&&(o=l(i)),u):l},u.context=function(m){return arguments.length?(m==null?i=o=null:o=l(i=m),u):i},u}class Q4{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function $F(e){return new Q4(e,!0)}function BF(e){return new Q4(e,!1)}const fv={draw(e,t){const r=ts(t/Bm);e.moveTo(r,0),e.arc(0,0,r,0,yh)}},zF={draw(e,t){const r=ts(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},G4=ts(1/3),UF=G4*2,qF={draw(e,t){const r=ts(t/UF),n=r*G4;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},VF={draw(e,t){const r=ts(t),n=-r/2;e.rect(n,n,r,r)}},KF=.8908130915292852,Y4=$m(Bm/10)/$m(7*Bm/10),HF=$m(yh/10)*Y4,WF=-U4(yh/10)*Y4,QF={draw(e,t){const r=ts(t*KF),n=HF*r,a=WF*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const l=yh*i/5,o=U4(l),c=$m(l);e.lineTo(c*r,-o*r),e.lineTo(o*n-c*a,c*n+o*a)}e.closePath()}},Jp=ts(3),GF={draw(e,t){const r=-ts(t/(Jp*3));e.moveTo(0,r*2),e.lineTo(-Jp*r,-r),e.lineTo(Jp*r,-r),e.closePath()}},yn=-.5,gn=ts(3)/2,ay=1/ts(12),YF=(ay/2+1)*3,XF={draw(e,t){const r=ts(t/YF),n=r/2,a=r*ay,i=n,l=r*ay+r,o=-i,c=l;e.moveTo(n,a),e.lineTo(i,l),e.lineTo(o,c),e.lineTo(yn*n-gn*a,gn*n+yn*a),e.lineTo(yn*i-gn*l,gn*i+yn*l),e.lineTo(yn*o-gn*c,gn*o+yn*c),e.lineTo(yn*n+gn*a,yn*a-gn*n),e.lineTo(yn*i+gn*l,yn*l-gn*i),e.lineTo(yn*o+gn*c,yn*c-gn*o),e.closePath()}};function ZF(e,t){let r=null,n=dv(a);e=typeof e=="function"?e:st(e||fv),t=typeof t=="function"?t:st(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:st(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:st(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function zm(){}function Um(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function X4(e){this._context=e}X4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Um(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Um(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function JF(e){return new X4(e)}function Z4(e){this._context=e}Z4.prototype={areaStart:zm,areaEnd:zm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Um(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function eL(e){return new Z4(e)}function J4(e){this._context=e}J4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Um(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function tL(e){return new J4(e)}function eP(e){this._context=e}eP.prototype={areaStart:zm,areaEnd:zm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function rL(e){return new eP(e)}function CN(e){return e<0?-1:1}function PN(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),l=(r-e._y1)/(a||n<0&&-0),o=(i*a+l*n)/(n+a);return(CN(i)+CN(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(o))||0}function EN(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function e0(e,t,r){var n=e._x0,a=e._y0,i=e._x1,l=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,l-o*r,i,l)}function qm(e){this._context=e}qm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:e0(this,this._t0,EN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,e0(this,EN(this,r=PN(this,e,t)),r);break;default:e0(this,this._t0,r=PN(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function tP(e){this._context=new rP(e)}(tP.prototype=Object.create(qm.prototype)).point=function(e,t){qm.prototype.point.call(this,t,e)};function rP(e){this._context=e}rP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function nL(e){return new qm(e)}function sL(e){return new tP(e)}function nP(e){this._context=e}nP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=ON(e),a=ON(t),i=0,l=1;l<r;++i,++l)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function ON(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),l=new Array(r);for(a[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,l[t]-=n*l[t-1];for(a[r-1]=l[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(l[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function aL(e){return new nP(e)}function vh(e,t){this._context=e,this._t=t}vh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function iL(e){return new vh(e,.5)}function lL(e){return new vh(e,0)}function oL(e){return new vh(e,1)}function No(e,t){if((l=e.length)>1)for(var r=1,n,a,i=e[t[0]],l,o=i.length;r<l;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function iy(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function cL(e,t){return e[t]}function uL(e){const t=[];return t.key=e,t}function dL(){var e=st([]),t=iy,r=No,n=cL;function a(i){var l=Array.from(e.apply(this,arguments),uL),o,c=l.length,u=-1,d;for(const m of i)for(o=0,++u;o<c;++o)(l[o][u]=[0,+n(m,l[o].key,u,i)]).data=m;for(o=0,d=mv(t(l));o<c;++o)l[d[o]].index=o;return r(l,d),l}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:st(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:st(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?iy:typeof i=="function"?i:st(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??No,a):r},a}function mL(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,l;a<i;++a){for(l=r=0;r<n;++r)l+=e[r][a][1]||0;if(l)for(r=0;r<n;++r)e[r][a][1]/=l}No(e,t)}}function fL(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var l=0,o=0;l<a;++l)o+=e[l][r][1]||0;n[r][1]+=n[r][0]=-o/2}No(e,t)}}function hL(e,t){if(!(!((l=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,l;n<i;++n){for(var o=0,c=0,u=0;o<l;++o){for(var d=e[t[o]],m=d[n][1]||0,f=d[n-1][1]||0,h=(m-f)/2,p=0;p<o;++p){var y=e[t[p]],b=y[n][1]||0,v=y[n-1][1]||0;h+=b-v}c+=m,u+=h*m}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,No(e,t)}}var pL=["type","size","sizeType"];function ly(){return ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ly.apply(null,arguments)}function _N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_N(Object(r),!0).forEach(function(n){xL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_N(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xL(e,t,r){return(t=yL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yL(e){var t=gL(e,"string");return typeof t=="symbol"?t:t+""}function gL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vL(e,t){if(e==null)return{};var r,n,a=bL(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bL(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var sP={symbolCircle:fv,symbolCross:zF,symbolDiamond:qF,symbolSquare:VF,symbolStar:QF,symbolTriangle:GF,symbolWye:XF},jL=Math.PI/180,wL=e=>{var t="symbol".concat(Du(e));return sP[t]||fv},NL=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*jL;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},kL=(e,t)=>{sP["symbol".concat(Du(e))]=t},aP=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=vL(e,pL),i=TN(TN({},a),{},{type:t,size:r,sizeType:n}),l=()=>{var m=wL(t),f=ZF().type(m).size(NL(r,n,t));return f()},{className:o,cx:c,cy:u}=i,d=it(i,!0);return c===+c&&u===+u&&r===+r?j.createElement("path",ly({},d,{className:Re("recharts-symbols",o),transform:"translate(".concat(c,", ").concat(u,")"),d:l()})):null};aP.registerSymbol=kL;var iP={},lP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const l=r[i],o=n(l);a.has(o)||a.set(o,l)}return Array.from(a.values())}e.uniqBy=t})(lP);var hv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(hv);var oP={},bh={},cP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(cP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cP;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(bh);var uP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(uP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bh,r=uP;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(oP);var dP={},mP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nh;function r(n){return function(a){return t.get(a,n)}}e.property=r})(mP);var fP={},t0={},r0={},pv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(pv);var xv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(xv);var jh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(jh);var DN;function SL(){return DN||(DN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yv(),r=pv,n=xv,a=jh;function i(m,f,h){return typeof h!="function"?t.isMatch(m,f):l(m,f,function p(y,b,v,g,x,w){const N=h(y,b,v,g,x,w);return N!==void 0?!!N:l(y,b,p,w)},new Map)}function l(m,f,h,p){if(f===m)return!0;switch(typeof f){case"object":return o(m,f,h,p);case"function":return Object.keys(f).length>0?l(m,{...f},h,p):a.eq(m,f);default:return r.isObject(m)?typeof f=="string"?f==="":!0:a.eq(m,f)}}function o(m,f,h,p){if(f==null)return!0;if(Array.isArray(f))return u(m,f,h,p);if(f instanceof Map)return c(m,f,h,p);if(f instanceof Set)return d(m,f,h,p);const y=Object.keys(f);if(m==null)return y.length===0;if(y.length===0)return!0;if(p&&p.has(f))return p.get(f)===m;p&&p.set(f,m);try{for(let b=0;b<y.length;b++){const v=y[b];if(!n.isPrimitive(m)&&!(v in m)||f[v]===void 0&&m[v]!==void 0||f[v]===null&&m[v]!==null||!h(m[v],f[v],v,m,f,p))return!1}return!0}finally{p&&p.delete(f)}}function c(m,f,h,p){if(f.size===0)return!0;if(!(m instanceof Map))return!1;for(const[y,b]of f.entries()){const v=m.get(y);if(h(v,b,y,m,f,p)===!1)return!1}return!0}function u(m,f,h,p){if(f.length===0)return!0;if(!Array.isArray(m))return!1;const y=new Set;for(let b=0;b<f.length;b++){const v=f[b];let g=!1;for(let x=0;x<m.length;x++){if(y.has(x))continue;const w=m[x];let N=!1;if(h(w,v,b,m,f,p)&&(N=!0),N){y.add(x),g=!0;break}}if(!g)return!1}return!0}function d(m,f,h,p){return f.size===0?!0:m instanceof Set?u([...m],[...f],h,p):!1}e.isMatchWith=i,e.isSetMatch=d}(r0)),r0}var MN;function yv(){return MN||(MN=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SL();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r}(t0)),t0}var hP={},gv={},vv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(vv);var wh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(wh);var Nh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",l="[object Symbol]",o="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",m="[object Function]",f="[object ArrayBuffer]",h="[object Object]",p="[object Error]",y="[object DataView]",b="[object Uint8Array]",v="[object Uint8ClampedArray]",g="[object Uint16Array]",x="[object Uint32Array]",w="[object BigUint64Array]",N="[object Int8Array]",k="[object Int16Array]",S="[object Int32Array]",A="[object BigInt64Array]",P="[object Float32Array]",C="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=f,e.arrayTag=d,e.bigInt64ArrayTag=A,e.bigUint64ArrayTag=w,e.booleanTag=a,e.dataViewTag=y,e.dateTag=o,e.errorTag=p,e.float32ArrayTag=P,e.float64ArrayTag=C,e.functionTag=m,e.int16ArrayTag=k,e.int32ArrayTag=S,e.int8ArrayTag=N,e.mapTag=c,e.numberTag=n,e.objectTag=h,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=g,e.uint32ArrayTag=x,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=v})(Nh);var pP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(pP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vv,r=wh,n=Nh,a=xv,i=pP;function l(d,m){return o(d,void 0,d,new Map,m)}function o(d,m,f,h=new Map,p=void 0){const y=p==null?void 0:p(d,m,f,h);if(y!==void 0)return y;if(a.isPrimitive(d))return d;if(h.has(d))return h.get(d);if(Array.isArray(d)){const b=new Array(d.length);h.set(d,b);for(let v=0;v<d.length;v++)b[v]=o(d[v],v,f,h,p);return Object.hasOwn(d,"index")&&(b.index=d.index),Object.hasOwn(d,"input")&&(b.input=d.input),b}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const b=new RegExp(d.source,d.flags);return b.lastIndex=d.lastIndex,b}if(d instanceof Map){const b=new Map;h.set(d,b);for(const[v,g]of d)b.set(v,o(g,v,f,h,p));return b}if(d instanceof Set){const b=new Set;h.set(d,b);for(const v of d)b.add(o(v,void 0,f,h,p));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const b=new(Object.getPrototypeOf(d)).constructor(d.length);h.set(d,b);for(let v=0;v<d.length;v++)b[v]=o(d[v],v,f,h,p);return b}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const b=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return h.set(d,b),c(b,d,f,h,p),b}if(typeof File<"u"&&d instanceof File){const b=new File([d],d.name,{type:d.type});return h.set(d,b),c(b,d,f,h,p),b}if(d instanceof Blob){const b=new Blob([d],{type:d.type});return h.set(d,b),c(b,d,f,h,p),b}if(d instanceof Error){const b=new d.constructor;return h.set(d,b),b.message=d.message,b.name=d.name,b.stack=d.stack,b.cause=d.cause,c(b,d,f,h,p),b}if(typeof d=="object"&&u(d)){const b=Object.create(Object.getPrototypeOf(d));return h.set(d,b),c(b,d,f,h,p),b}return d}function c(d,m,f=d,h,p){const y=[...Object.keys(m),...t.getSymbols(m)];for(let b=0;b<y.length;b++){const v=y[b],g=Object.getOwnPropertyDescriptor(d,v);(g==null||g.writable)&&(d[v]=o(m[v],v,f,h,p))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=o,e.copyProperties=c})(gv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gv;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(hP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yv(),r=hP;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(fP);var xP={},yP={},gP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gv,r=Nh;function n(a,i){return t.cloneDeepWith(a,(l,o,c,u)=>{const d=i==null?void 0:i(l,o,c,u);if(d!==void 0)return d;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(m,a),m}case r.argumentsTag:{const m={};return t.copyProperties(m,a),m.length=a.length,m[Symbol.iterator]=a[Symbol.iterator],m}default:return}})}e.cloneDeepWith=n})(gP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gP;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(yP);var vP={},bv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(bv);var bP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wh;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(bP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=av,r=bv,n=bP,a=sh;function i(l,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&t.isDeepKey(o)&&(l==null?void 0:l[o])==null?c=a.toPath(o):c=[o],c.length===0)return!1;let u=l;for(let d=0;d<c.length;d++){const m=c[d];if((u==null||!Object.hasOwn(u,m))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(m)&&m<u.length))return!1;u=u[m]}return!0}e.has=i})(vP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yv(),r=iv,n=yP,a=nh,i=vP;function l(o,c){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return c=n.cloneDeep(c),function(u){const d=a.get(u,o);return d===void 0?i.has(u,o):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=l})(xP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hv,r=mP,n=fP,a=xP;function i(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=i})(dP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lP,r=hv,n=oP,a=dP;function i(l,o=r.identity){return n.isArrayLikeObject(l)?t.uniqBy(Array.from(l),a.iteratee(o)):[]}e.uniqBy=i})(iP);var AL=iP.uniqBy;const IN=bs(AL);function CL(e,t,r){return t===!0?IN(e,r):typeof t=="function"?IN(e,t):e}var jP={exports:{}},wP={},NP={exports:{}},kP={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ko=j;function PL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var EL=typeof Object.is=="function"?Object.is:PL,OL=ko.useState,_L=ko.useEffect,TL=ko.useLayoutEffect,DL=ko.useDebugValue;function ML(e,t){var r=t(),n=OL({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return TL(function(){a.value=r,a.getSnapshot=t,n0(a)&&i({inst:a})},[e,r,t]),_L(function(){return n0(a)&&i({inst:a}),e(function(){n0(a)&&i({inst:a})})},[e]),DL(r),r}function n0(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!EL(e,r)}catch{return!0}}function IL(e,t){return t()}var RL=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?IL:ML;kP.useSyncExternalStore=ko.useSyncExternalStore!==void 0?ko.useSyncExternalStore:RL;NP.exports=kP;var FL=NP.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kh=j,LL=FL;function $L(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var BL=typeof Object.is=="function"?Object.is:$L,zL=LL.useSyncExternalStore,UL=kh.useRef,qL=kh.useEffect,VL=kh.useMemo,KL=kh.useDebugValue;wP.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=UL(null);if(i.current===null){var l={hasValue:!1,value:null};i.current=l}else l=i.current;i=VL(function(){function c(h){if(!u){if(u=!0,d=h,h=n(h),a!==void 0&&l.hasValue){var p=l.value;if(a(p,h))return m=p}return m=h}if(p=m,BL(d,h))return p;var y=n(h);return a!==void 0&&a(p,y)?(d=h,p):(d=h,m=y)}var u=!1,d,m,f=r===void 0?null:r;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,r,n,a]);var o=zL(e,i[0],i[1]);return qL(function(){l.hasValue=!0,l.value=o},[o]),KL(o),o};jP.exports=wP;var HL=jP.exports,jv=j.createContext(null),WL=e=>e,Lt=()=>{var e=j.useContext(jv);return e?e.store.dispatch:WL},Zd=()=>{},QL=()=>Zd,GL=(e,t)=>e===t;function pe(e){var t=j.useContext(jv);return HL.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:QL,t?t.store.getState:Zd,t?t.store.getState:Zd,t?e:Zd,GL)}function YL(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function XL(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function ZL(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var RN=e=>Array.isArray(e)?e:[e];function JL(e){const t=Array.isArray(e[0])?e[0]:e;return ZL(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function e$(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var t$=class{constructor(e){this.value=e}deref(){return this.value}},r$=typeof WeakRef<"u"?WeakRef:t$,n$=0,FN=1;function vd(){return{s:n$,v:void 0,o:null,p:null}}function SP(e,t={}){let r=vd();const{resultEqualityCheck:n}=t;let a,i=0;function l(){var m;let o=r;const{length:c}=arguments;for(let f=0,h=c;f<h;f++){const p=arguments[f];if(typeof p=="function"||typeof p=="object"&&p!==null){let y=o.o;y===null&&(o.o=y=new WeakMap);const b=y.get(p);b===void 0?(o=vd(),y.set(p,o)):o=b}else{let y=o.p;y===null&&(o.p=y=new Map);const b=y.get(p);b===void 0?(o=vd(),y.set(p,o)):o=b}}const u=o;let d;if(o.s===FN)d=o.v;else if(d=e.apply(null,arguments),i++,n){const f=((m=a==null?void 0:a.deref)==null?void 0:m.call(a))??a;f!=null&&n(f,d)&&(d=f,i!==0&&i--),a=typeof d=="object"&&d!==null||typeof d=="function"?new r$(d):d}return u.s=FN,u.v=d,d}return l.clearCache=()=>{r=vd(),l.resetResultsCount()},l.resultsCount=()=>i,l.resetResultsCount=()=>{i=0},l}function s$(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,l=0,o,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),YL(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:m,memoizeOptions:f=[],argsMemoize:h=SP,argsMemoizeOptions:p=[]}=d,y=RN(f),b=RN(p),v=JL(a),g=m(function(){return i++,u.apply(null,arguments)},...y),x=h(function(){l++;const N=e$(v,arguments);return o=g.apply(null,N),o},...b);return Object.assign(x,{resultFunc:u,memoizedResultFunc:g,dependencies:v,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:m,argsMemoize:h})};return Object.assign(n,{withTypes:()=>n}),n}var F=s$(SP),a$=Object.assign((e,t=F)=>{XL(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((l,o,c)=>(l[r[c]]=o,l),{}))},{withTypes:()=>a$}),AP={},CP={},PP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const l=t(n),o=t(a);if(l===o&&l===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?o-l:l-o}return 0};e.compareValues=r})(PP);var EP={},wv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(wv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wv,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,l){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||l!=null&&Object.hasOwn(l,i)}e.isKey=a})(EP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PP,r=EP,n=sh;function a(i,l,o,c){if(i==null)return[];o=c?void 0:o,Array.isArray(i)||(i=Object.values(i)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(h=>String(h));const u=(h,p)=>{let y=h;for(let b=0;b<p.length&&y!=null;++b)y=y[p[b]];return y},d=(h,p)=>p==null||h==null?p:typeof h=="object"&&"key"in h?Object.hasOwn(p,h.key)?p[h.key]:u(p,h.path):typeof h=="function"?h(p):Array.isArray(h)?u(p,h):typeof p=="object"?p[h]:p,m=l.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||r.isKey(h)?h:{key:h,path:n.toPath(h)}));return i.map(h=>({original:h,criteria:m.map(p=>d(p,h))})).slice().sort((h,p)=>{for(let y=0;y<m.length;y++){const b=t.compareValues(h.criteria[y],p.criteria[y],o[y]);if(b!==0)return b}return 0}).map(h=>h.original)}e.orderBy=a})(CP);var OP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),l=(o,c)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&c<i?l(d,c+1):a.push(d)}};return l(r,0),a}e.flatten=t})(OP);var Nv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bv,r=bh,n=pv,a=jh;function i(l,o,c){return n.isObject(c)&&(typeof o=="number"&&r.isArrayLike(c)&&t.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?a.eq(c[o],l):!1}e.isIterateeCall=i})(Nv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CP,r=OP,n=Nv;function a(i,...l){const o=l.length;return o>1&&n.isIterateeCall(i,l[0],l[1])?l=[]:o>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(i,r.flatten(l),["asc"])}e.sortBy=a})(AP);var i$=AP.sortBy;const Sh=bs(i$);var _P=e=>e.legend.settings,l$=e=>e.legend.size,o$=e=>e.legend.payload;F([o$,_P],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Sh(n,r):n});var bd=1;function c$(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=j.useState({height:0,left:0,top:0,width:0}),n=j.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),l={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(l.height-t.height)>bd||Math.abs(l.left-t.left)>bd||Math.abs(l.top-t.top)>bd||Math.abs(l.width-t.width)>bd)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function ir(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var u$=typeof Symbol=="function"&&Symbol.observable||"@@observable",LN=u$,s0=()=>Math.random().toString(36).substring(7).split("").join("."),d$={INIT:`@@redux/INIT${s0()}`,REPLACE:`@@redux/REPLACE${s0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${s0()}`},Vm=d$;function kv(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function TP(e,t,r){if(typeof e!="function")throw new Error(ir(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ir(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ir(1));return r(TP)(e,t)}let n=e,a=t,i=new Map,l=i,o=0,c=!1;function u(){l===i&&(l=new Map,i.forEach((b,v)=>{l.set(v,b)}))}function d(){if(c)throw new Error(ir(3));return a}function m(b){if(typeof b!="function")throw new Error(ir(4));if(c)throw new Error(ir(5));let v=!0;u();const g=o++;return l.set(g,b),function(){if(v){if(c)throw new Error(ir(6));v=!1,u(),l.delete(g),i=null}}}function f(b){if(!kv(b))throw new Error(ir(7));if(typeof b.type>"u")throw new Error(ir(8));if(typeof b.type!="string")throw new Error(ir(17));if(c)throw new Error(ir(9));try{c=!0,a=n(a,b)}finally{c=!1}return(i=l).forEach(g=>{g()}),b}function h(b){if(typeof b!="function")throw new Error(ir(10));n=b,f({type:Vm.REPLACE})}function p(){const b=m;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(ir(11));function g(){const w=v;w.next&&w.next(d())}return g(),{unsubscribe:b(g)}},[LN](){return this}}}return f({type:Vm.INIT}),{dispatch:f,subscribe:m,getState:d,replaceReducer:h,[LN]:p}}function m$(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Vm.INIT})>"u")throw new Error(ir(12));if(typeof r(void 0,{type:Vm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ir(13))})}function DP(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const l=t[i];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let a;try{m$(r)}catch(i){a=i}return function(l={},o){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const m=n[d],f=r[m],h=l[m],p=f(h,o);if(typeof p>"u")throw o&&o.type,new Error(ir(14));u[m]=p,c=c||p!==h}return c=c||n.length!==Object.keys(l).length,c?u:l}}function Km(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function f$(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(ir(15))};const l={getState:a.getState,dispatch:(c,...u)=>i(c,...u)},o=e.map(c=>c(l));return i=Km(...o)(a.dispatch),{...a,dispatch:i}}}function MP(e){return kv(e)&&"type"in e&&typeof e.type=="string"}var IP=Symbol.for("immer-nothing"),$N=Symbol.for("immer-draftable"),dn=Symbol.for("immer-state");function Qn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var So=Object.getPrototypeOf;function sl(e){return!!e&&!!e[dn]}function Gs(e){var t;return e?RP(e)||Array.isArray(e)||!!e[$N]||!!((t=e.constructor)!=null&&t[$N])||Ch(e)||Ph(e):!1}var h$=Object.prototype.constructor.toString();function RP(e){if(!e||typeof e!="object")return!1;const t=So(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===h$}function Hm(e,t){Ah(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Ah(e){const t=e[dn];return t?t.type_:Array.isArray(e)?1:Ch(e)?2:Ph(e)?3:0}function oy(e,t){return Ah(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function FP(e,t,r){const n=Ah(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function p$(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ch(e){return e instanceof Map}function Ph(e){return e instanceof Set}function vi(e){return e.copy_||e.base_}function cy(e,t){if(Ch(e))return new Map(e);if(Ph(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=RP(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[dn];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const l=a[i],o=n[l];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[l]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[l]})}return Object.create(So(e),n)}else{const n=So(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function Sv(e,t=!1){return Eh(e)||sl(e)||!Gs(e)||(Ah(e)>1&&(e.set=e.add=e.clear=e.delete=x$),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>Sv(n,!0))),e}function x$(){Qn(2)}function Eh(e){return Object.isFrozen(e)}var y$={};function al(e){const t=y$[e];return t||Qn(0,e),t}var cu;function LP(){return cu}function g$(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function BN(e,t){t&&(al("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function uy(e){dy(e),e.drafts_.forEach(v$),e.drafts_=null}function dy(e){e===cu&&(cu=e.parent_)}function zN(e){return cu=g$(cu,e)}function v$(e){const t=e[dn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function UN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[dn].modified_&&(uy(t),Qn(4)),Gs(e)&&(e=Wm(t,e),t.parent_||Qm(t,e)),t.patches_&&al("Patches").generateReplacementPatches_(r[dn].base_,e,t.patches_,t.inversePatches_)):e=Wm(t,r,[]),uy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==IP?e:void 0}function Wm(e,t,r){if(Eh(t))return t;const n=t[dn];if(!n)return Hm(t,(a,i)=>qN(e,n,t,a,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Qm(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let i=a,l=!1;n.type_===3&&(i=new Set(a),a.clear(),l=!0),Hm(i,(o,c)=>qN(e,n,a,o,c,r,l)),Qm(e,a,!1),r&&e.patches_&&al("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function qN(e,t,r,n,a,i,l){if(sl(a)){const o=i&&t&&t.type_!==3&&!oy(t.assigned_,n)?i.concat(n):void 0,c=Wm(e,a,o);if(FP(r,n,c),sl(c))e.canAutoFreeze_=!1;else return}else l&&r.add(a);if(Gs(a)&&!Eh(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Wm(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Qm(e,a)}}function Qm(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Sv(t,r)}function b$(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:LP(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=Av;r&&(a=[n],i=uu);const{revoke:l,proxy:o}=Proxy.revocable(a,i);return n.draft_=o,n.revoke_=l,o}var Av={get(e,t){if(t===dn)return e;const r=vi(e);if(!oy(r,t))return j$(e,r,t);const n=r[t];return e.finalized_||!Gs(n)?n:n===a0(e.base_,t)?(i0(e),e.copy_[t]=fy(n,e)):n},has(e,t){return t in vi(e)},ownKeys(e){return Reflect.ownKeys(vi(e))},set(e,t,r){const n=$P(vi(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=a0(vi(e),t),i=a==null?void 0:a[dn];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(p$(r,a)&&(r!==void 0||oy(e.base_,t)))return!0;i0(e),my(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return a0(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,i0(e),my(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=vi(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Qn(11)},getPrototypeOf(e){return So(e.base_)},setPrototypeOf(){Qn(12)}},uu={};Hm(Av,(e,t)=>{uu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});uu.deleteProperty=function(e,t){return uu.set.call(this,e,t,void 0)};uu.set=function(e,t,r){return Av.set.call(this,e[0],t,r,e[0])};function a0(e,t){const r=e[dn];return(r?vi(r):e)[t]}function j$(e,t,r){var a;const n=$P(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function $P(e,t){if(!(t in e))return;let r=So(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=So(r)}}function my(e){e.modified_||(e.modified_=!0,e.parent_&&my(e.parent_))}function i0(e){e.copy_||(e.copy_=cy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var w$=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const l=this;return function(c=i,...u){return l.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&Qn(6),n!==void 0&&typeof n!="function"&&Qn(7);let a;if(Gs(t)){const i=zN(this),l=fy(t,void 0);let o=!0;try{a=r(l),o=!1}finally{o?uy(i):dy(i)}return BN(i,n),UN(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===IP&&(a=void 0),this.autoFreeze_&&Sv(a,!0),n){const i=[],l=[];al("Patches").generateReplacementPatches_(t,a,i,l),n(i,l)}return a}else Qn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...o)=>this.produceWithPatches(l,c=>t(c,...o));let n,a;return[this.produce(t,r,(l,o)=>{n=l,a=o}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Gs(e)||Qn(8),sl(e)&&(e=Fs(e));const t=zN(this),r=fy(e,void 0);return r[dn].isManual_=!0,dy(t),r}finishDraft(e,t){const r=e&&e[dn];(!r||!r.isManual_)&&Qn(9);const{scope_:n}=r;return BN(n,t),UN(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=al("Patches").applyPatches_;return sl(e)?n(e,t):this.produce(e,a=>n(a,t))}};function fy(e,t){const r=Ch(e)?al("MapSet").proxyMap_(e,t):Ph(e)?al("MapSet").proxySet_(e,t):b$(e,t);return(t?t.scope_:LP()).drafts_.push(r),r}function Fs(e){return sl(e)||Qn(10,e),BP(e)}function BP(e){if(!Gs(e)||Eh(e))return e;const t=e[dn];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=cy(e,t.scope_.immer_.useStrictShallowCopy_)}else r=cy(e,!0);return Hm(r,(n,a)=>{FP(r,n,BP(a))}),t&&(t.finalized_=!1),r}var mn=new w$,zP=mn.produce;mn.produceWithPatches.bind(mn);mn.setAutoFreeze.bind(mn);mn.setUseStrictShallowCopy.bind(mn);mn.applyPatches.bind(mn);mn.createDraft.bind(mn);mn.finishDraft.bind(mn);function UP(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var N$=UP(),k$=UP,S$=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Km:Km.apply(null,arguments)};function Mn(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(on(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>MP(n)&&n.type===e,r}var qP=class kc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,kc.prototype)}static get[Symbol.species](){return kc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new kc(...t[0].concat(this)):new kc(...t.concat(this))}};function VN(e){return Gs(e)?zP(e,()=>{}):e}function jd(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function A$(e){return typeof e=="boolean"}var C$=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let l=new qP;return r&&(A$(r)?l.push(N$):l.push(k$(r.extraArgument))),l},P$="RTK_autoBatch",KN=e=>t=>{setTimeout(t,e)},E$=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,l=!1;const o=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:KN(10):e.type==="callback"?e.queueNotification:KN(e.timeout),u=()=>{l=!1,i&&(i=!1,o.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const m=()=>a&&d(),f=n.subscribe(m);return o.add(d),()=>{f(),o.delete(d)}},dispatch(d){var m;try{return a=!((m=d==null?void 0:d.meta)!=null&&m[P$]),i=!a,i&&(l||(l=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},O$=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new qP(e);return n&&a.push(E$(typeof n=="object"?n:void 0)),a};function _$(e){const t=C$(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:l=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(kv(r))o=DP(r);else throw new Error(on(1));let c;typeof n=="function"?c=n(t):c=t();let u=Km;a&&(u=S$({trace:!1,...typeof a=="object"&&a}));const d=f$(...c),m=O$(d);let f=typeof l=="function"?l(m):m();const h=u(...f);return TP(o,i,h)}function VP(e){const t={},r=[];let n;const a={addCase(i,l){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(on(28));if(o in t)throw new Error(on(29));return t[o]=l,a},addMatcher(i,l){return r.push({matcher:i,reducer:l}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function T$(e){return typeof e=="function"}function D$(e,t){let[r,n,a]=VP(t),i;if(T$(e))i=()=>VN(e());else{const o=VN(e);i=()=>o}function l(o=i(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,m)=>{if(m)if(sl(d)){const h=m(d,c);return h===void 0?d:h}else{if(Gs(d))return zP(d,f=>m(f,c));{const f=m(d,c);if(f===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return d},o)}return l.getInitialState=i,l}var M$="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",I$=(e=21)=>{let t="",r=e;for(;r--;)t+=M$[Math.random()*64|0];return t},R$=Symbol.for("rtk-slice-createasyncthunk");function F$(e,t){return`${e}/${t}`}function L$({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[R$];return function(a){const{name:i,reducerPath:l=i}=a;if(!i)throw new Error(on(11));const o=(typeof a.reducers=="function"?a.reducers(B$()):a.reducers)||{},c=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(w,N){const k=typeof w=="string"?w:w.type;if(!k)throw new Error(on(12));if(k in u.sliceCaseReducersByType)throw new Error(on(13));return u.sliceCaseReducersByType[k]=N,d},addMatcher(w,N){return u.sliceMatchers.push({matcher:w,reducer:N}),d},exposeAction(w,N){return u.actionCreators[w]=N,d},exposeCaseReducer(w,N){return u.sliceCaseReducersByName[w]=N,d}};c.forEach(w=>{const N=o[w],k={reducerName:w,type:F$(i,w),createNotation:typeof a.reducers=="function"};U$(N)?V$(k,N,d,t):z$(k,N,d)});function m(){const[w={},N=[],k=void 0]=typeof a.extraReducers=="function"?VP(a.extraReducers):[a.extraReducers],S={...w,...u.sliceCaseReducersByType};return D$(a.initialState,A=>{for(let P in S)A.addCase(P,S[P]);for(let P of u.sliceMatchers)A.addMatcher(P.matcher,P.reducer);for(let P of N)A.addMatcher(P.matcher,P.reducer);k&&A.addDefaultCase(k)})}const f=w=>w,h=new Map,p=new WeakMap;let y;function b(w,N){return y||(y=m()),y(w,N)}function v(){return y||(y=m()),y.getInitialState()}function g(w,N=!1){function k(A){let P=A[w];return typeof P>"u"&&N&&(P=jd(p,k,v)),P}function S(A=f){const P=jd(h,N,()=>new WeakMap);return jd(P,A,()=>{const C={};for(const[D,E]of Object.entries(a.selectors??{}))C[D]=$$(E,A,()=>jd(p,A,v),N);return C})}return{reducerPath:w,getSelectors:S,get selectors(){return S(k)},selectSlice:k}}const x={name:i,reducer:b,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:v,...g(l),injectInto(w,{reducerPath:N,...k}={}){const S=N??l;return w.inject({reducerPath:S,reducer:b},k),{...x,...g(S,!0)}}};return x}}function $$(e,t,r,n){function a(i,...l){let o=t(i);return typeof o>"u"&&n&&(o=r()),e(o,...l)}return a.unwrapped=e,a}var pn=L$();function B$(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function z$({type:e,reducerName:t,createNotation:r},n,a){let i,l;if("reducer"in n){if(r&&!q$(n))throw new Error(on(17));i=n.reducer,l=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,l?Mn(e,l):Mn(e))}function U$(e){return e._reducerDefinitionType==="asyncThunk"}function q$(e){return e._reducerDefinitionType==="reducerWithPrepare"}function V$({type:e,reducerName:t},r,n,a){if(!a)throw new Error(on(18));const{payloadCreator:i,fulfilled:l,pending:o,rejected:c,settled:u,options:d}=r,m=a(e,i,d);n.exposeAction(t,m),l&&n.addCase(m.fulfilled,l),o&&n.addCase(m.pending,o),c&&n.addCase(m.rejected,c),u&&n.addMatcher(m.settled,u),n.exposeCaseReducer(t,{fulfilled:l||wd,pending:o||wd,rejected:c||wd,settled:u||wd})}function wd(){}var K$="task",KP="listener",HP="completed",Cv="cancelled",H$=`task-${Cv}`,W$=`task-${HP}`,hy=`${KP}-${Cv}`,Q$=`${KP}-${HP}`,Oh=class{constructor(e){Zo(this,"name","TaskAbortError");Zo(this,"message");this.code=e,this.message=`${K$} ${Cv} (reason: ${e})`}},Pv=(e,t)=>{if(typeof e!="function")throw new TypeError(on(32))},Gm=()=>{},WP=(e,t=Gm)=>(e.catch(t),e),QP=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Vi=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ki=e=>{if(e.aborted){const{reason:t}=e;throw new Oh(t)}};function GP(e,t){let r=Gm;return new Promise((n,a)=>{const i=()=>a(new Oh(e.reason));if(e.aborted){i();return}r=QP(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Gm})}var G$=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Oh?"cancelled":"rejected",error:r}}finally{t==null||t()}},Ym=e=>t=>WP(GP(e,t).then(r=>(Ki(e),r))),YP=e=>{const t=Ym(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Vl}=Object,HN={},_h="listenerMiddleware",Y$=(e,t)=>{const r=n=>QP(e,()=>Vi(n,e.reason));return(n,a)=>{Pv(n);const i=new AbortController;r(i);const l=G$(async()=>{Ki(e),Ki(i.signal);const o=await n({pause:Ym(i.signal),delay:YP(i.signal),signal:i.signal});return Ki(i.signal),o},()=>Vi(i,W$));return a!=null&&a.autoJoin&&t.push(l.catch(Gm)),{result:Ym(e)(l),cancel(){Vi(i,H$)}}}},X$=(e,t)=>{const r=async(n,a)=>{Ki(t);let i=()=>{};const o=[new Promise((c,u)=>{let d=e({predicate:n,effect:(m,f)=>{f.unsubscribe(),c([m,f.getState(),f.getOriginalState()])}});i=()=>{d(),u()}})];a!=null&&o.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await GP(t,Promise.race(o));return Ki(t),c}finally{i()}};return(n,a)=>WP(r(n,a))},XP=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=Mn(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(on(21));return Pv(i),{predicate:a,type:t,effect:i}},ZP=Vl(e=>{const{type:t,predicate:r,effect:n}=XP(e);return{id:I$(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(on(22))}}},{withTypes:()=>ZP}),WN=(e,t)=>{const{type:r,effect:n,predicate:a}=XP(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},py=e=>{e.pending.forEach(t=>{Vi(t,hy)})},Z$=e=>()=>{e.forEach(py),e.clear()},QN=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},JP=Vl(Mn(`${_h}/add`),{withTypes:()=>JP}),J$=Mn(`${_h}/removeAll`),eE=Vl(Mn(`${_h}/remove`),{withTypes:()=>eE}),e8=(...e)=>{console.error(`${_h}/error`,...e)},Iu=(e={})=>{const t=new Map,{extra:r,onError:n=e8}=e;Pv(n);const a=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),m=>{d.unsubscribe(),m!=null&&m.cancelActive&&py(d)}),i=d=>{const m=WN(t,d)??ZP(d);return a(m)};Vl(i,{withTypes:()=>i});const l=d=>{const m=WN(t,d);return m&&(m.unsubscribe(),d.cancelActive&&py(m)),!!m};Vl(l,{withTypes:()=>l});const o=async(d,m,f,h)=>{const p=new AbortController,y=X$(i,p.signal),b=[];try{d.pending.add(p),await Promise.resolve(d.effect(m,Vl({},f,{getOriginalState:h,condition:(v,g)=>y(v,g).then(Boolean),take:y,delay:YP(p.signal),pause:Ym(p.signal),extra:r,signal:p.signal,fork:Y$(p.signal,b),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((v,g,x)=>{v!==p&&(Vi(v,hy),x.delete(v))})},cancel:()=>{Vi(p,hy),d.pending.delete(p)},throwIfCancelled:()=>{Ki(p.signal)}})))}catch(v){v instanceof Oh||QN(n,v,{raisedBy:"effect"})}finally{await Promise.all(b),Vi(p,Q$),d.pending.delete(p)}},c=Z$(t);return{middleware:d=>m=>f=>{if(!MP(f))return m(f);if(JP.match(f))return i(f.payload);if(J$.match(f)){c();return}if(eE.match(f))return l(f.payload);let h=d.getState();const p=()=>{if(h===HN)throw new Error(on(23));return h};let y;try{if(y=m(f),t.size>0){const b=d.getState(),v=Array.from(t.values());for(const g of v){let x=!1;try{x=g.predicate(f,b,h)}catch(w){x=!1,QN(n,w,{raisedBy:"predicate"})}x&&o(g,f,d,p)}}}finally{h=HN}return y},startListening:i,stopListening:l,clearListeners:c}};function on(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var t8={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},tE=pn({name:"chartLayout",initialState:t8,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:r8,setLayout:n8,setChartSize:s8,setScale:a8}=tE.actions,i8=tE.reducer;function GN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GN(Object(r),!0).forEach(function(n){l8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l8(e,t,r){return(t=o8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o8(e){var t=c8(e,"string");return typeof t=="symbol"?t:t+""}function c8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xm=Math.PI/180,u8=e=>e*180/Math.PI,Ut=(e,t,r,n)=>({x:e+Math.cos(-Xm*n)*r,y:t+Math.sin(-Xm*n)*r}),rE=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},d8=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},m8=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,l=d8({x:r,y:n},{x:a,y:i});if(l<=0)return{radius:l,angle:0};var o=(r-a)/l,c=Math.acos(o);return n>i&&(c=2*Math.PI-c),{radius:l,angle:u8(c),angleInRadian:c}},f8=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},h8=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),l=Math.min(a,i);return e+l*360},p8=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:i}=m8({x:r,y:n},t),{innerRadius:l,outerRadius:o}=t;if(a<l||a>o||a===0)return null;var{startAngle:c,endAngle:u}=f8(t),d=i,m;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;m=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;m=d>=u&&d<=c}return m?YN(YN({},t),{},{radius:a,angle:h8(d,t)}):null};function nE(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function XN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XN(Object(r),!0).forEach(function(n){x8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x8(e,t,r){return(t=y8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y8(e){var t=g8(e,"string");return typeof t=="symbol"?t:t+""}function g8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ye(e,t,r){return lt(e)||lt(t)?r:xs(t)?ni(e,t,r):typeof t=="function"?t(e):r}var v8=(e,t,r,n,a)=>{var i,l=-1,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<o;c++){var u=c>0?r[c-1].coordinate:r[o-1].coordinate,d=r[c].coordinate,m=c>=o-1?r[0].coordinate:r[c+1].coordinate,f=void 0;if(nr(d-u)!==nr(m-d)){var h=[];if(nr(m-d)===nr(a[1]-a[0])){f=m;var p=d+a[1]-a[0];h[0]=Math.min(p,(p+u)/2),h[1]=Math.max(p,(p+u)/2)}else{f=u;var y=m+a[1]-a[0];h[0]=Math.min(d,(y+d)/2),h[1]=Math.max(d,(y+d)/2)}var b=[Math.min(d,(f+d)/2),Math.max(d,(f+d)/2)];if(e>b[0]&&e<=b[1]||e>=h[0]&&e<=h[1]){({index:l}=r[c]);break}}else{var v=Math.min(u,m),g=Math.max(u,m);if(e>(v+d)/2&&e<=(g+d)/2){({index:l}=r[c]);break}}}else if(t){for(var x=0;x<o;x++)if(x===0&&e<=(t[x].coordinate+t[x+1].coordinate)/2||x>0&&x<o-1&&e>(t[x].coordinate+t[x-1].coordinate)/2&&e<=(t[x].coordinate+t[x+1].coordinate)/2||x===o-1&&e>(t[x].coordinate+t[x-1].coordinate)/2){({index:l}=t[x]);break}}return l},b8=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:l,layout:o}=t;if((o==="vertical"||o==="horizontal"&&l==="middle")&&i!=="center"&&re(e[i]))return kn(kn({},e),{},{[i]:e[i]+(n||0)});if((o==="horizontal"||o==="vertical"&&i==="center")&&l!=="middle"&&re(e[l]))return kn(kn({},e),{},{[l]:e[l]+(a||0)})}return e},js=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",sE=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var a,i,l=e.map(o=>(o.coordinate===t&&(a=!0),o.coordinate===r&&(i=!0),o.coordinate));return a||l.push(t),i||l.push(r),l},aE=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:l,realScaleType:o,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:m,niceTicks:f,axisType:h}=e;if(!l)return null;var p=o==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,y=a==="category"&&l.bandwidth?l.bandwidth()/p:0;if(y=h==="angleAxis"&&i&&i.length>=2?nr(i[0]-i[1])*2*y:y,m||f){var b=(m||f||[]).map((v,g)=>{var x=n?n.indexOf(v):v;return{coordinate:l(x)+y,value:v,offset:y,index:g}});return b.filter(v=>!Zr(v.coordinate))}return c&&u?u.map((v,g)=>({coordinate:l(v)+y,value:v,index:g,offset:y})):l.ticks&&d!=null?l.ticks(d).map((v,g)=>({coordinate:l(v)+y,value:v,offset:y,index:g})):l.domain().map((v,g)=>({coordinate:l(v)+y,value:n?n[v]:v,index:g,offset:y}))},ZN=1e-4,j8=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-ZN,i=Math.max(n[0],n[1])+ZN,l=e(t[0]),o=e(t[r-1]);(l<a||l>i||o<a||o>i)&&e.domain([t[0],t[r-1]])}},w8=(e,t)=>{if(!t||t.length!==2||!re(t[0])||!re(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!re(e[0])||e[0]<r)&&(a[0]=r),(!re(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},N8=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,l=0;l<t;++l){var o=Zr(e[l][r][1])?e[l][r][0]:e[l][r][1];o>=0?(e[l][r][0]=a,e[l][r][1]=a+o,a=e[l][r][1]):(e[l][r][0]=i,e[l][r][1]=i+o,i=e[l][r][1])}},k8=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var l=Zr(e[i][r][1])?e[i][r][0]:e[i][r][1];l>=0?(e[i][r][0]=a,e[i][r][1]=a+l,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},S8={sign:N8,expand:mL,none:No,silhouette:fL,wiggle:hL,positive:k8},A8=(e,t,r)=>{var n=S8[r],a=dL().keys(t).value((i,l)=>+Ye(i,l,0)).order(iy).offset(n);return a(e)};function iE(e){return e==null?void 0:String(e)}function Zm(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!lt(a[t.dataKey])){var o=L4(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Ye(a,lt(l)?t.dataKey:l);return lt(c)?null:t.scale(c)}var JN=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:l}=e;if(t.type==="category")return r[l]?r[l].coordinate+n:null;var o=Ye(i,t.dataKey,t.scale.domain()[l]);return lt(o)?null:t.scale(o)-a/2+n},C8=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},P8=e=>{var t=e.flat(2).filter(re);return[Math.min(...t),Math.max(...t)]},E8=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],O8=(e,t,r)=>{if(e!=null)return E8(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:l}=i,o=l.reduce((c,u)=>{var d=nE(u,t,r),m=P8(d);return[Math.min(c[0],m[0]),Math.max(c[1],m[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},e1=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,t1=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,il=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Sh(t,d=>d.coordinate),i=1/0,l=1,o=a.length;l<o;l++){var c=a[l],u=a[l-1];i=Math.min((c.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function r1(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return kn(kn({},t),{},{dataKey:r,payload:n,value:a,name:i})}function ci(e,t){if(e)return String(e);if(typeof t=="string")return t}function _8(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return n?p8({x:e,y:t},n):null}var T8=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:l}=n;return kn(kn(kn({},n),Ut(n.cx,n.cy,l,i)),{},{angle:i,radius:l})}var o=a.coordinate,{angle:c}=n;return kn(kn(kn({},n),Ut(n.cx,n.cy,o,c)),{},{angle:c,radius:o})}return{x:0,y:0}},D8=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,na=e=>e.layout.width,sa=e=>e.layout.height,M8=e=>e.layout.scale,lE=e=>e.layout.margin,Ev=F(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Ov=F(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),oE="data-recharts-item-index",cE="data-recharts-item-data-key",Th=60;function n1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function da(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n1(Object(r),!0).forEach(function(n){I8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I8(e,t,r){return(t=R8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R8(e){var t=F8(e,"string");return typeof t=="symbol"?t:t+""}function F8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L8=e=>e.brush.height,Yt=F([na,sa,lE,L8,Ev,Ov,_P,l$],(e,t,r,n,a,i,l,o)=>{var c=i.reduce((p,y)=>{var{orientation:b}=y;if(!y.mirror&&!y.hide){var v=typeof y.width=="number"?y.width:Th;return da(da({},p),{},{[b]:p[b]+v})}return p},{left:r.left||0,right:r.right||0}),u=a.reduce((p,y)=>{var{orientation:b}=y;return!y.mirror&&!y.hide?da(da({},p),{},{[b]:ni(p,"".concat(b))+y.height}):p},{top:r.top||0,bottom:r.bottom||0}),d=da(da({},u),c),m=d.bottom;d.bottom+=n,d=b8(d,l,o);var f=e-d.left-d.right,h=t-d.top-d.bottom;return da(da({brushBottom:m},d),{},{width:Math.max(f,0),height:Math.max(h,0)})}),$8=F(Yt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),uE=F(na,sa,(e,t)=>({x:0,y:0,width:e,height:t})),B8=j.createContext(null),Sr=()=>j.useContext(B8)!=null,Dh=e=>e.brush,Mh=F([Dh,Yt,lE],(e,t,r)=>({height:e.height,x:re(e.x)?e.x:t.left,y:re(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:re(e.width)?e.width:t.width})),_v=()=>{var e,t=Sr(),r=pe($8),n=pe(Mh),a=(e=pe(Dh))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},z8={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},dE=()=>{var e;return(e=pe(Yt))!==null&&e!==void 0?e:z8},mE=()=>pe(na),fE=()=>pe(sa),De=e=>e.layout.layoutType,Ru=()=>pe(De),U8={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},hE=pn({name:"legend",initialState:U8,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=Fs(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:mee,setLegendSettings:fee,addLegendPayload:pE,removeLegendPayload:xE}=hE.actions,q8=hE.reducer;function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xy.apply(null,arguments)}function s1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function l0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s1(Object(r),!0).forEach(function(n){V8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V8(e,t,r){return(t=K8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K8(e){var t=H8(e,"string");return typeof t=="symbol"?t:t+""}function H8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W8(e){return Array.isArray(e)&&xs(e[0])&&xs(e[1])?e.join(" ~ "):e}var Q8=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:l,itemSorter:o,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:m,accessibilityLayer:f=!1}=e,h=()=>{if(i&&i.length){var N={padding:0,margin:0},k=(o?Sh(i,o):i).map((S,A)=>{if(S.type==="none")return null;var P=S.formatter||l||W8,{value:C,name:D}=S,E=C,L=D;if(P){var U=P(C,D,S,A,i);if(Array.isArray(U))[E,L]=U;else if(U!=null)E=U;else return null}var I=l0({display:"block",paddingTop:4,paddingBottom:4,color:S.color||"#000"},n);return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(A),style:I},xs(L)?j.createElement("span",{className:"recharts-tooltip-item-name"},L):null,xs(L)?j.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,j.createElement("span",{className:"recharts-tooltip-item-value"},E),j.createElement("span",{className:"recharts-tooltip-item-unit"},S.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:N},k)}return null},p=l0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),y=l0({margin:0},a),b=!lt(d),v=b?d:"",g=Re("recharts-default-tooltip",c),x=Re("recharts-tooltip-label",u);b&&m&&i!==void 0&&i!==null&&(v=m(d,i));var w=f?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",xy({className:g,style:p},w),j.createElement("p",{className:x,style:y},j.isValidElement(v)?v:"".concat(v)),h())},uc="recharts-tooltip-wrapper",G8={visibility:"hidden"};function Y8(e){var{coordinate:t,translateX:r,translateY:n}=e;return Re(uc,{["".concat(uc,"-right")]:re(r)&&t&&re(t.x)&&r>=t.x,["".concat(uc,"-left")]:re(r)&&t&&re(t.x)&&r<t.x,["".concat(uc,"-bottom")]:re(n)&&t&&re(t.y)&&n>=t.y,["".concat(uc,"-top")]:re(n)&&t&&re(t.y)&&n<t.y})}function a1(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:l,tooltipDimension:o,viewBox:c,viewBoxDimension:u}=e;if(i&&re(i[n]))return i[n];var d=r[n]-o-(a>0?a:0),m=r[n]+a;if(t[n])return l[n]?d:m;var f=c[n];if(f==null)return 0;if(l[n]){var h=d,p=f;return h<p?Math.max(m,f):Math.max(d,f)}if(u==null)return 0;var y=m+o,b=f+u;return y>b?Math.max(d,f):Math.max(m,f)}function X8(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Z8(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:l,useTranslate3d:o,viewBox:c}=e,u,d,m;return l.height>0&&l.width>0&&r?(d=a1({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:l.width,viewBox:c,viewBoxDimension:c.width}),m=a1({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:l.height,viewBox:c,viewBoxDimension:c.height}),u=X8({translateX:d,translateY:m,useTranslate3d:o})):u=G8,{cssProperties:u,cssClasses:Y8({translateX:d,translateY:m,coordinate:r})}}function i1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i1(Object(r),!0).forEach(function(n){yy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yy(e,t,r){return(t=J8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J8(e){var t=e7(e,"string");return typeof t=="symbol"?t:t+""}function e7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class t7 extends j.PureComponent{constructor(){super(...arguments),yy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),yy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:l,hasPayload:o,isAnimationActive:c,offset:u,position:d,reverseDirection:m,useTranslate3d:f,viewBox:h,wrapperStyle:p,lastBoundingBox:y,innerRef:b,hasPortalFromProps:v}=this.props,{cssClasses:g,cssProperties:x}=Z8({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:u,position:d,reverseDirection:m,tooltipBox:{height:y.height,width:y.width},useTranslate3d:f,viewBox:h}),w=v?{}:Nd(Nd({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),N=Nd(Nd({},w),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},p);return j.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:g,style:N,ref:b},i)}}var r7=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ui={isSsr:r7()},yE=()=>pe(e=>e.rootProps.accessibilityLayer);function hr(e){return Number.isFinite(e)}function Ao(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function gy(){return gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gy.apply(null,arguments)}function l1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function o1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l1(Object(r),!0).forEach(function(n){n7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n7(e,t,r){return(t=s7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s7(e){var t=a7(e,"string");return typeof t=="symbol"?t:t+""}function a7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var c1={curveBasisClosed:eL,curveBasisOpen:tL,curveBasis:JF,curveBumpX:$F,curveBumpY:BF,curveLinearClosed:rL,curveLinear:gh,curveMonotoneX:nL,curveMonotoneY:sL,curveNatural:aL,curveStep:iL,curveStepAfter:oL,curveStepBefore:lL},kd=e=>hr(e.x)&&hr(e.y),dc=e=>e.x,mc=e=>e.y,i7=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Du(e));return(r==="curveMonotone"||r==="curveBump")&&t?c1["".concat(r).concat(t==="vertical"?"Y":"X")]:c1[r]||gh},l7=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,l=i7(t,a),o=i?r.filter(kd):r,c;if(Array.isArray(n)){var u=i?n.filter(m=>kd(m)):n,d=o.map((m,f)=>o1(o1({},m),{},{base:u[f]}));return a==="vertical"?c=gd().y(mc).x1(dc).x0(m=>m.base.x):c=gd().x(dc).y1(mc).y0(m=>m.base.y),c.defined(kd).curve(l),c(d)}return a==="vertical"&&re(n)?c=gd().y(mc).x1(dc).x0(n):re(n)?c=gd().x(dc).y1(mc).y0(n):c=W4().x(dc).y(mc),c.defined(kd).curve(l),c(o)},Kl=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?l7(e):n;return j.createElement("path",gy({},es(e),uv(e),{className:Re("recharts-curve",t),d:i===null?void 0:i,ref:a}))},o7=["x","y","top","left","width","height","className"];function vy(){return vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vy.apply(null,arguments)}function u1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function c7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u1(Object(r),!0).forEach(function(n){u7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u7(e,t,r){return(t=d7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d7(e){var t=m7(e,"string");return typeof t=="symbol"?t:t+""}function m7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f7(e,t){if(e==null)return{};var r,n,a=h7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function h7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var p7=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),x7=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:l=0,className:o}=e,c=f7(e,o7),u=c7({x:t,y:r,top:n,left:a,width:i,height:l},c);return!re(t)||!re(r)||!re(i)||!re(l)||!re(n)||!re(a)?null:j.createElement("path",vy({},it(u,!0),{className:Re("recharts-cross",o),d:p7(t,r,i,l,n,a)}))};function y7(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function d1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function g7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d1(Object(r),!0).forEach(function(n){v7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v7(e,t,r){return(t=b7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b7(e){var t=j7(e,"string");return typeof t=="symbol"?t:t+""}function j7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lr(e,t){var r=g7({},e),n=t,a=Object.keys(t),i=a.reduce((l,o)=>(l[o]===void 0&&n[o]!==void 0&&(l[o]=n[o]),l),r);return i}var gE={},vE={},bE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t})(bE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bE,r=vv,n=wh,a=Nh,i=jh;function l(u,d,m){return o(u,d,void 0,void 0,void 0,void 0,m)}function o(u,d,m,f,h,p,y){const b=y(u,d,m,f,h,p);if(b!==void 0)return b;if(typeof u==typeof d)switch(typeof u){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return u===d;case"number":return u===d||Object.is(u,d);case"function":return u===d;case"object":return c(u,d,p,y)}return c(u,d,p,y)}function c(u,d,m,f){if(Object.is(u,d))return!0;let h=n.getTag(u),p=n.getTag(d);if(h===a.argumentsTag&&(h=a.objectTag),p===a.argumentsTag&&(p=a.objectTag),h!==p)return!1;switch(h){case a.stringTag:return u.toString()===d.toString();case a.numberTag:{const v=u.valueOf(),g=d.valueOf();return i.eq(v,g)}case a.booleanTag:case a.dateTag:case a.symbolTag:return Object.is(u.valueOf(),d.valueOf());case a.regexpTag:return u.source===d.source&&u.flags===d.flags;case a.functionTag:return u===d}m=m??new Map;const y=m.get(u),b=m.get(d);if(y!=null&&b!=null)return y===d;m.set(u,d),m.set(d,u);try{switch(h){case a.mapTag:{if(u.size!==d.size)return!1;for(const[v,g]of u.entries())if(!d.has(v)||!o(g,d.get(v),v,u,d,m,f))return!1;return!0}case a.setTag:{if(u.size!==d.size)return!1;const v=Array.from(u.values()),g=Array.from(d.values());for(let x=0;x<v.length;x++){const w=v[x],N=g.findIndex(k=>o(w,k,void 0,u,d,m,f));if(N===-1)return!1;g.splice(N,1)}return!0}case a.arrayTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:case a.bigUint64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.bigInt64ArrayTag:case a.float32ArrayTag:case a.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(u)!==Buffer.isBuffer(d)||u.length!==d.length)return!1;for(let v=0;v<u.length;v++)if(!o(u[v],d[v],v,u,d,m,f))return!1;return!0}case a.arrayBufferTag:return u.byteLength!==d.byteLength?!1:c(new Uint8Array(u),new Uint8Array(d),m,f);case a.dataViewTag:return u.byteLength!==d.byteLength||u.byteOffset!==d.byteOffset?!1:c(new Uint8Array(u),new Uint8Array(d),m,f);case a.errorTag:return u.name===d.name&&u.message===d.message;case a.objectTag:{if(!(c(u.constructor,d.constructor,m,f)||t.isPlainObject(u)&&t.isPlainObject(d)))return!1;const g=[...Object.keys(u),...r.getSymbols(u)],x=[...Object.keys(d),...r.getSymbols(d)];if(g.length!==x.length)return!1;for(let w=0;w<g.length;w++){const N=g[w],k=u[N];if(!Object.hasOwn(d,N))return!1;const S=d[N];if(!o(k,S,N,u,d,m,f))return!1}return!0}default:return!1}}finally{m.delete(u),m.delete(d)}}e.isEqualWith=l})(vE);var jE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t})(jE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vE,r=jE;function n(a,i){return t.isEqualWith(a,i,r.noop)}e.isEqual=n})(gE);var w7=gE.isEqual;const N7=bs(w7);var Jm=1e-4,wE=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],NE=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),m1=(e,t)=>r=>{var n=wE(e,t);return NE(n,r)},k7=(e,t)=>r=>{var n=wE(e,t),a=[...n.map((i,l)=>i*l).slice(1),0];return NE(a,r)},f1=function(){for(var t,r,n,a,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];if(l.length===1)switch(l[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var c=l[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,a]=c[1].split(")")[0].split(",").map(p=>parseFloat(p)))}}else l.length===4&&([t,n,r,a]=l);var u=m1(t,r),d=m1(n,a),m=k7(t,r),f=p=>p>1?1:p<0?0:p,h=p=>{for(var y=p>1?1:p,b=y,v=0;v<8;++v){var g=u(b)-y,x=m(b);if(Math.abs(g-y)<Jm||x<Jm)return d(b);b=f(b-g/x)}return d(b)};return h.isStepper=!1,h},S7=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(l,o,c)=>{var u=-(l-o)*r,d=c*n,m=c+(u-d)*a/1e3,f=c*a/1e3+l;return Math.abs(f-o)<Jm&&Math.abs(m)<Jm?[o,0]:[f,m]};return i.isStepper=!0,i.dt=a,i},kE=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return f1(e);case"spring":return S7();default:if(e.split("(")[0]==="cubic-bezier")return f1(e)}return typeof e=="function"?e:null};function h1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function p1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h1(Object(r),!0).forEach(function(n){A7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A7(e,t,r){return(t=C7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C7(e){var t=P7(e,"string");return typeof t=="symbol"?t:t+""}function P7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E7=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),O7=(e,t,r)=>e.map(n=>"".concat(E7(n)," ").concat(t,"ms ").concat(r)).join(","),_7=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),du=(e,t)=>Object.keys(t).reduce((r,n)=>p1(p1({},r),{},{[n]:e(n,t[n])}),{});function x1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x1(Object(r),!0).forEach(function(n){T7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T7(e,t,r){return(t=D7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D7(e){var t=M7(e,"string");return typeof t=="symbol"?t:t+""}function M7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ef=(e,t,r)=>e+(t-e)*r,by=e=>{var{from:t,to:r}=e;return t!==r},SE=(e,t,r)=>{var n=du((a,i)=>{if(by(i)){var[l,o]=e(i.from,i.to,i.velocity);return or(or({},i),{},{from:l,velocity:o})}return i},t);return r<1?du((a,i)=>by(i)?or(or({},i),{},{velocity:ef(i.velocity,n[a].velocity,r),from:ef(i.from,n[a].from,r)}):i,t):SE(e,n,r-1)};function I7(e,t,r,n,a,i){var l,o=n.reduce((f,h)=>or(or({},f),{},{[h]:{from:e[h],velocity:0,to:t[h]}}),{}),c=()=>du((f,h)=>h.from,o),u=()=>!Object.values(o).filter(by).length,d=null,m=f=>{l||(l=f);var h=f-l,p=h/r.dt;o=SE(r,o,p),a(or(or(or({},e),t),c())),l=f,u()||(d=i.setTimeout(m))};return()=>(d=i.setTimeout(m),()=>{d()})}function R7(e,t,r,n,a,i,l){var o=null,c=a.reduce((m,f)=>or(or({},m),{},{[f]:[e[f],t[f]]}),{}),u,d=m=>{u||(u=m);var f=(m-u)/n,h=du((y,b)=>ef(...b,r(f)),c);if(i(or(or(or({},e),t),h)),f<1)o=l.setTimeout(d);else{var p=du((y,b)=>ef(...b,r(1)),c);i(or(or(or({},e),t),p))}};return()=>(o=l.setTimeout(d),()=>{o()})}const AE=(e,t,r,n,a,i)=>{var l=_7(e,t);return r.isStepper===!0?I7(e,t,r,l,a,i):R7(e,t,r,n,l,a,i)};function F7(e){var t,r=()=>null,n=!1,a=null,i=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var o=l,[c,...u]=o;if(typeof c=="number"){a=e.setTimeout(i.bind(null,u),c);return}i(c),a=e.setTimeout(i.bind(null,u));return}typeof l=="string"&&(t=l,r(t)),typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,a&&(a(),a=null),i(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}class L7{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}function $7(){return F7(new L7)}var B7=j.createContext($7);function CE(e,t){var r=j.useContext(B7);return j.useMemo(()=>t??r(e),[e,t,r])}var z7=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function jy(){return jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jy.apply(null,arguments)}function U7(e,t){if(e==null)return{};var r,n,a=q7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function q7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function y1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ma(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y1(Object(r),!0).forEach(function(n){Ci(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ci(e,t,r){return(t=V7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V7(e){var t=K7(e,"string");return typeof t=="symbol"?t:t+""}function K7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Tv extends j.PureComponent{constructor(t,r){super(t,r),Ci(this,"mounted",!1),Ci(this,"manager",void 0),Ci(this,"stopJSAnimation",null),Ci(this,"unSubscribe",null);var{isActive:n,attributeName:a,from:i,to:l,children:o,duration:c,animationManager:u}=this.props;if(this.manager=u,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||c<=0){this.state={style:{}},typeof o=="function"&&(this.state={style:l});return}if(i){if(typeof o=="function"){this.state={style:i};return}this.state={style:a?{[a]:i}:i}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:n,attributeName:a,shouldReAnimate:i,to:l,from:o}=this.props,{style:c}=this.state;if(n){if(!r){var u={style:a?{[a]:l}:l};this.state&&c&&(a&&c[a]!==l||!a&&c!==l)&&this.setState(u);return}if(!(N7(t.to,l)&&t.canBegin&&t.isActive)){var d=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=d||i?o:t.to;if(this.state&&c){var f={style:a?{[a]:m}:m};(a&&c[a]!==m||!a&&c!==m)&&this.setState(f)}this.runAnimation(ma(ma({},this.props),{},{from:m,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:n,duration:a,easing:i,begin:l,onAnimationEnd:o,onAnimationStart:c}=t,u=AE(r,n,kE(i),a,this.changeStyle,this.manager.getTimeoutController()),d=()=>{this.stopJSAnimation=u()};this.manager.start([c,l,d,a,o])}runAnimation(t){var{begin:r,duration:n,attributeName:a,to:i,easing:l,onAnimationStart:o,onAnimationEnd:c,children:u}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof l=="function"||typeof u=="function"||l==="spring"){this.runJSAnimation(t);return}var d=a?{[a]:i}:i,m=O7(Object.keys(d),n,l);this.manager.start([o,r,ma(ma({},d),{},{transition:m}),n,c])}render(){var t=this.props,{children:r,begin:n,duration:a,attributeName:i,easing:l,isActive:o,from:c,to:u,canBegin:d,onAnimationEnd:m,shouldReAnimate:f,onAnimationReStart:h,animationManager:p}=t,y=U7(t,z7),b=j.Children.count(r),v=this.state.style;if(typeof r=="function")return r(v);if(!o||b===0||a<=0)return r;var g=x=>{var{style:w={},className:N}=x.props,k=j.cloneElement(x,ma(ma({},y),{},{style:ma(ma({},w),v),className:N}));return k};return b===1?g(j.Children.only(r)):j.createElement("div",null,j.Children.map(r,x=>g(x)))}}Ci(Tv,"displayName","Animate");Ci(Tv,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function tf(e){var t,r=CE((t=e.attributeName)!==null&&t!==void 0?t:Object.keys(e.to).join(","),e.animationManager);return j.createElement(Tv,jy({},e,{animationManager:r}))}function rf(){return rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rf.apply(null,arguments)}var g1=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),l=n>=0?1:-1,o=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(i>0&&a instanceof Array){for(var d=[0,0,0,0],m=0,f=4;m<f;m++)d[m]=a[m]>i?i:a[m];u="M".concat(e,",").concat(t+l*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+o*d[0],",").concat(t)),u+="L ".concat(e+r-o*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+l*d[1])),u+="L ".concat(e+r,",").concat(t+n-l*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-o*d[2],",").concat(t+n)),u+="L ".concat(e+o*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-l*d[3])),u+="Z"}else if(i>0&&a===+a&&a>0){var h=Math.min(i,a);u="M ".concat(e,",").concat(t+l*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+o*h,",").concat(t,`
            L `).concat(e+r-o*h,",").concat(t,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r,",").concat(t+l*h,`
            L `).concat(e+r,",").concat(t+n-l*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r-o*h,",").concat(t+n,`
            L `).concat(e+o*h,",").concat(t+n,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+n-l*h," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},H7={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},PE=e=>{var t=Lr(e,H7),r=j.useRef(null),[n,a]=j.useState(-1);j.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var v=r.current.getTotalLength();v&&a(v)}catch{}},[]);var{x:i,y:l,width:o,height:c,radius:u,className:d}=t,{animationEasing:m,animationDuration:f,animationBegin:h,isAnimationActive:p,isUpdateAnimationActive:y}=t;if(i!==+i||l!==+l||o!==+o||c!==+c||o===0||c===0)return null;var b=Re("recharts-rectangle",d);return y?j.createElement(tf,{canBegin:n>0,from:{width:o,height:c,x:i,y:l},to:{width:o,height:c,x:i,y:l},duration:f,animationEasing:m,isActive:y},v=>{var{width:g,height:x,x:w,y:N}=v;return j.createElement(tf,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:f,isActive:p,easing:m},j.createElement("path",rf({},it(t,!0),{className:b,d:g1(w,N,g,x,u),ref:r})))}):j.createElement("path",rf({},it(t,!0),{className:b,d:g1(i,l,o,c,u)}))};function EE(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,l=Ut(t,r,n,a),o=Ut(t,r,n,i);return{points:[l,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function wy(){return wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wy.apply(null,arguments)}var W7=(e,t)=>{var r=nr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Sd=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:l,cornerRadius:o,cornerIsExternal:c}=e,u=o*(l?1:-1)+n,d=Math.asin(o/u)/Xm,m=c?a:a+i*d,f=Ut(t,r,u,m),h=Ut(t,r,n,m),p=c?a-i*d:a,y=Ut(t,r,u*Math.cos(d*Xm),p);return{center:f,circleTangency:h,lineTangency:y,theta:d}},OE=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:l}=e,o=W7(i,l),c=i+o,u=Ut(t,r,a,i),d=Ut(t,r,a,c),m="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(i>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var f=Ut(t,r,n,i),h=Ut(t,r,n,c);m+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(i<=c),`,
            `).concat(f.x,",").concat(f.y," Z")}else m+="L ".concat(t,",").concat(r," Z");return m},Q7=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:o,startAngle:c,endAngle:u}=e,d=nr(u-c),{circleTangency:m,lineTangency:f,theta:h}=Sd({cx:t,cy:r,radius:a,angle:c,sign:d,cornerRadius:i,cornerIsExternal:o}),{circleTangency:p,lineTangency:y,theta:b}=Sd({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:o}),v=o?Math.abs(c-u):Math.abs(c-u)-h-b;if(v<0)return l?"M ".concat(f.x,",").concat(f.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):OE({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var g="M ".concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(v>180),",").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
  `);if(n>0){var{circleTangency:x,lineTangency:w,theta:N}=Sd({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:k,lineTangency:S,theta:A}=Sd({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),P=o?Math.abs(c-u):Math.abs(c-u)-N-A;if(P<0&&i===0)return"".concat(g,"L").concat(t,",").concat(r,"Z");g+="L".concat(S.x,",").concat(S.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(P>180),",").concat(+(d>0),",").concat(x.x,",").concat(x.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(w.x,",").concat(w.y,"Z")}else g+="L".concat(t,",").concat(r,"Z");return g},G7={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},_E=e=>{var t=Lr(e,G7),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:l,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d,className:m}=t;if(i<a||u===d)return null;var f=Re("recharts-sector",m),h=i-a,p=Ir(l,h,0,!0),y;return p>0&&Math.abs(u-d)<360?y=Q7({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(p,h/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d}):y=OE({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),j.createElement("path",wy({},it(t,!0),{className:f,d:y}))};function Y7(e,t,r){var n,a,i,l;if(e==="horizontal")n=t.x,i=n,a=r.top,l=r.top+r.height;else if(e==="vertical")a=t.y,l=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:o,cy:c,innerRadius:u,outerRadius:d,angle:m}=t,f=Ut(o,c,u,m),h=Ut(o,c,d,m);n=f.x,a=f.y,i=h.x,l=h.y}else return EE(t);return[{x:n,y:a},{x:i,y:l}]}var TE={},DE={},ME={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wv;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(ME);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ME;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(DE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nv,r=DE;function n(a,i,l){l&&typeof l!="number"&&t.isIterateeCall(a,i,l)&&(i=l=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),l=l===void 0?a<i?1:-1:r.toFinite(l);const o=Math.max(Math.ceil((i-a)/(l||1)),0),c=new Array(o);for(let u=0;u<o;u++)c[u]=a,a+=l;return c}e.range=n})(TE);var X7=TE.range;const IE=bs(X7);function Wa(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Z7(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Dv(e){let t,r,n;e.length!==2?(t=Wa,r=(o,c)=>Wa(e(o),c),n=(o,c)=>e(o)-c):(t=e===Wa||e===Z7?e:J7,r=e,n=e);function a(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const m=u+d>>>1;r(o[m],c)<0?u=m+1:d=m}while(u<d)}return u}function i(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const m=u+d>>>1;r(o[m],c)<=0?u=m+1:d=m}while(u<d)}return u}function l(o,c,u=0,d=o.length){const m=a(o,c,u,d-1);return m>u&&n(o[m-1],c)>-n(o[m],c)?m-1:m}return{left:a,center:l,right:i}}function J7(){return 0}function RE(e){return e===null?NaN:+e}function*e9(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const t9=Dv(Wa),Fu=t9.right;Dv(RE).center;class v1 extends Map{constructor(t,r=s9){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(b1(this,t))}has(t){return super.has(b1(this,t))}set(t,r){return super.set(r9(this,t),r)}delete(t){return super.delete(n9(this,t))}}function b1({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function r9({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function n9({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function s9(e){return e!==null&&typeof e=="object"?e.valueOf():e}function a9(e=Wa){if(e===Wa)return FE;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function FE(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const i9=Math.sqrt(50),l9=Math.sqrt(10),o9=Math.sqrt(2);function nf(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),l=i>=i9?10:i>=l9?5:i>=o9?2:1;let o,c,u;return a<0?(u=Math.pow(10,-a)/l,o=Math.round(e*u),c=Math.round(t*u),o/u<e&&++o,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*l,o=Math.round(e/u),c=Math.round(t/u),o*u<e&&++o,c*u>t&&--c),c<o&&.5<=r&&r<2?nf(e,t,r*2):[o,c,u]}function Ny(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,l]=n?nf(t,e,r):nf(e,t,r);if(!(i>=a))return[];const o=i-a+1,c=new Array(o);if(n)if(l<0)for(let u=0;u<o;++u)c[u]=(i-u)/-l;else for(let u=0;u<o;++u)c[u]=(i-u)*l;else if(l<0)for(let u=0;u<o;++u)c[u]=(a+u)/-l;else for(let u=0;u<o;++u)c[u]=(a+u)*l;return c}function ky(e,t,r){return t=+t,e=+e,r=+r,nf(e,t,r)[2]}function Sy(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?ky(t,e,r):ky(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function j1(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function w1(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function LE(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?FE:a9(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),m=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*m*(c-m)/c)*(u-c/2<0?-1:1),h=Math.max(r,Math.floor(t-u*m/c+f)),p=Math.min(n,Math.floor(t+(c-u)*m/c+f));LE(e,t,h,p,a)}const i=e[t];let l=r,o=n;for(fc(e,r,t),a(e[n],i)>0&&fc(e,r,n);l<o;){for(fc(e,l,o),++l,--o;a(e[l],i)<0;)++l;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?fc(e,r,o):(++o,fc(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function fc(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function c9(e,t,r){if(e=Float64Array.from(e9(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return w1(e);if(t>=1)return j1(e);var n,a=(n-1)*t,i=Math.floor(a),l=j1(LE(e,i).subarray(0,i+1)),o=w1(e.subarray(i+1));return l+(o-l)*(a-i)}}function u9(e,t,r=RE){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),l=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return l+(o-l)*(a-i)}}function d9(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Ln(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function aa(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ay=Symbol("implicit");function Mv(){var e=new v1,t=[],r=[],n=Ay;function a(i){let l=e.get(i);if(l===void 0){if(n!==Ay)return n;e.set(i,l=t.push(i)-1)}return r[l%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new v1;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Mv(t,r).unknown(n)},Ln.apply(a,arguments),a}function Iv(){var e=Mv().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,l,o=!1,c=0,u=0,d=.5;delete e.unknown;function m(){var f=t().length,h=a<n,p=h?a:n,y=h?n:a;i=(y-p)/Math.max(1,f-c+u*2),o&&(i=Math.floor(i)),p+=(y-p-i*(f-c))*d,l=i*(1-c),o&&(p=Math.round(p),l=Math.round(l));var b=d9(f).map(function(v){return p+i*v});return r(h?b.reverse():b)}return e.domain=function(f){return arguments.length?(t(f),m()):t()},e.range=function(f){return arguments.length?([n,a]=f,n=+n,a=+a,m()):[n,a]},e.rangeRound=function(f){return[n,a]=f,n=+n,a=+a,o=!0,m()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(f){return arguments.length?(o=!!f,m()):o},e.padding=function(f){return arguments.length?(c=Math.min(1,u=+f),m()):c},e.paddingInner=function(f){return arguments.length?(c=Math.min(1,f),m()):c},e.paddingOuter=function(f){return arguments.length?(u=+f,m()):u},e.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),m()):d},e.copy=function(){return Iv(t(),[n,a]).round(o).paddingInner(c).paddingOuter(u).align(d)},Ln.apply(m(),arguments)}function $E(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return $E(t())},e}function m9(){return $E(Iv.apply(null,arguments).paddingInner(1))}function Rv(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function BE(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Lu(){}var mu=.7,sf=1/mu,Hl="\\s*([+-]?\\d+)\\s*",fu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ps="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",f9=/^#([0-9a-f]{3,8})$/,h9=new RegExp(`^rgb\\(${Hl},${Hl},${Hl}\\)$`),p9=new RegExp(`^rgb\\(${ps},${ps},${ps}\\)$`),x9=new RegExp(`^rgba\\(${Hl},${Hl},${Hl},${fu}\\)$`),y9=new RegExp(`^rgba\\(${ps},${ps},${ps},${fu}\\)$`),g9=new RegExp(`^hsl\\(${fu},${ps},${ps}\\)$`),v9=new RegExp(`^hsla\\(${fu},${ps},${ps},${fu}\\)$`),N1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Rv(Lu,hu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:k1,formatHex:k1,formatHex8:b9,formatHsl:j9,formatRgb:S1,toString:S1});function k1(){return this.rgb().formatHex()}function b9(){return this.rgb().formatHex8()}function j9(){return zE(this).formatHsl()}function S1(){return this.rgb().formatRgb()}function hu(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=f9.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?A1(t):r===3?new Kr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Ad(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Ad(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=h9.exec(e))?new Kr(t[1],t[2],t[3],1):(t=p9.exec(e))?new Kr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=x9.exec(e))?Ad(t[1],t[2],t[3],t[4]):(t=y9.exec(e))?Ad(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=g9.exec(e))?E1(t[1],t[2]/100,t[3]/100,1):(t=v9.exec(e))?E1(t[1],t[2]/100,t[3]/100,t[4]):N1.hasOwnProperty(e)?A1(N1[e]):e==="transparent"?new Kr(NaN,NaN,NaN,0):null}function A1(e){return new Kr(e>>16&255,e>>8&255,e&255,1)}function Ad(e,t,r,n){return n<=0&&(e=t=r=NaN),new Kr(e,t,r,n)}function w9(e){return e instanceof Lu||(e=hu(e)),e?(e=e.rgb(),new Kr(e.r,e.g,e.b,e.opacity)):new Kr}function Cy(e,t,r,n){return arguments.length===1?w9(e):new Kr(e,t,r,n??1)}function Kr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Rv(Kr,Cy,BE(Lu,{brighter(e){return e=e==null?sf:Math.pow(sf,e),new Kr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?mu:Math.pow(mu,e),new Kr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Kr(Hi(this.r),Hi(this.g),Hi(this.b),af(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:C1,formatHex:C1,formatHex8:N9,formatRgb:P1,toString:P1}));function C1(){return`#${Pi(this.r)}${Pi(this.g)}${Pi(this.b)}`}function N9(){return`#${Pi(this.r)}${Pi(this.g)}${Pi(this.b)}${Pi((isNaN(this.opacity)?1:this.opacity)*255)}`}function P1(){const e=af(this.opacity);return`${e===1?"rgb(":"rgba("}${Hi(this.r)}, ${Hi(this.g)}, ${Hi(this.b)}${e===1?")":`, ${e})`}`}function af(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Hi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Pi(e){return e=Hi(e),(e<16?"0":"")+e.toString(16)}function E1(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Gn(e,t,r,n)}function zE(e){if(e instanceof Gn)return new Gn(e.h,e.s,e.l,e.opacity);if(e instanceof Lu||(e=hu(e)),!e)return new Gn;if(e instanceof Gn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),l=NaN,o=i-a,c=(i+a)/2;return o?(t===i?l=(r-n)/o+(r<n)*6:r===i?l=(n-t)/o+2:l=(t-r)/o+4,o/=c<.5?i+a:2-i-a,l*=60):o=c>0&&c<1?0:l,new Gn(l,o,c,e.opacity)}function k9(e,t,r,n){return arguments.length===1?zE(e):new Gn(e,t,r,n??1)}function Gn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Rv(Gn,k9,BE(Lu,{brighter(e){return e=e==null?sf:Math.pow(sf,e),new Gn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?mu:Math.pow(mu,e),new Gn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Kr(o0(e>=240?e-240:e+120,a,n),o0(e,a,n),o0(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Gn(O1(this.h),Cd(this.s),Cd(this.l),af(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=af(this.opacity);return`${e===1?"hsl(":"hsla("}${O1(this.h)}, ${Cd(this.s)*100}%, ${Cd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function O1(e){return e=(e||0)%360,e<0?e+360:e}function Cd(e){return Math.max(0,Math.min(1,e||0))}function o0(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Fv=e=>()=>e;function S9(e,t){return function(r){return e+r*t}}function A9(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function C9(e){return(e=+e)==1?UE:function(t,r){return r-t?A9(t,r,e):Fv(isNaN(t)?r:t)}}function UE(e,t){var r=t-e;return r?S9(e,r):Fv(isNaN(e)?t:e)}const _1=function e(t){var r=C9(t);function n(a,i){var l=r((a=Cy(a)).r,(i=Cy(i)).r),o=r(a.g,i.g),c=r(a.b,i.b),u=UE(a.opacity,i.opacity);return function(d){return a.r=l(d),a.g=o(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function P9(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function E9(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function O9(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),l;for(l=0;l<n;++l)a[l]=Uo(e[l],t[l]);for(;l<r;++l)i[l]=t[l];return function(o){for(l=0;l<n;++l)i[l]=a[l](o);return i}}function _9(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function lf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function T9(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Uo(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Py=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,c0=new RegExp(Py.source,"g");function D9(e){return function(){return e}}function M9(e){return function(t){return e(t)+""}}function I9(e,t){var r=Py.lastIndex=c0.lastIndex=0,n,a,i,l=-1,o=[],c=[];for(e=e+"",t=t+"";(n=Py.exec(e))&&(a=c0.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[l]?o[l]+=i:o[++l]=i),(n=n[0])===(a=a[0])?o[l]?o[l]+=a:o[++l]=a:(o[++l]=null,c.push({i:l,x:lf(n,a)})),r=c0.lastIndex;return r<t.length&&(i=t.slice(r),o[l]?o[l]+=i:o[++l]=i),o.length<2?c[0]?M9(c[0].x):D9(t):(t=c.length,function(u){for(var d=0,m;d<t;++d)o[(m=c[d]).i]=m.x(u);return o.join("")})}function Uo(e,t){var r=typeof t,n;return t==null||r==="boolean"?Fv(t):(r==="number"?lf:r==="string"?(n=hu(t))?(t=n,_1):I9:t instanceof hu?_1:t instanceof Date?_9:E9(t)?P9:Array.isArray(t)?O9:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?T9:lf)(e,t)}function Lv(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function R9(e,t){t===void 0&&(t=e,e=Uo);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(l){var o=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return i[o](l-o)}}function F9(e){return function(){return e}}function of(e){return+e}var T1=[0,1];function Dr(e){return e}function Ey(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:F9(isNaN(t)?NaN:.5)}function L9(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function $9(e,t,r){var n=e[0],a=e[1],i=t[0],l=t[1];return a<n?(n=Ey(a,n),i=r(l,i)):(n=Ey(n,a),i=r(i,l)),function(o){return i(n(o))}}function B9(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)a[l]=Ey(e[l],e[l+1]),i[l]=r(t[l],t[l+1]);return function(o){var c=Fu(e,o,1,n)-1;return i[c](a[c](o))}}function $u(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ih(){var e=T1,t=T1,r=Uo,n,a,i,l=Dr,o,c,u;function d(){var f=Math.min(e.length,t.length);return l!==Dr&&(l=L9(e[0],e[f-1])),o=f>2?B9:$9,c=u=null,m}function m(f){return f==null||isNaN(f=+f)?i:(c||(c=o(e.map(n),t,r)))(n(l(f)))}return m.invert=function(f){return l(a((u||(u=o(t,e.map(n),lf)))(f)))},m.domain=function(f){return arguments.length?(e=Array.from(f,of),d()):e.slice()},m.range=function(f){return arguments.length?(t=Array.from(f),d()):t.slice()},m.rangeRound=function(f){return t=Array.from(f),r=Lv,d()},m.clamp=function(f){return arguments.length?(l=f?!0:Dr,d()):l!==Dr},m.interpolate=function(f){return arguments.length?(r=f,d()):r},m.unknown=function(f){return arguments.length?(i=f,m):i},function(f,h){return n=f,a=h,d()}}function $v(){return Ih()(Dr,Dr)}function z9(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function cf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Co(e){return e=cf(Math.abs(e)),e?e[1]:NaN}function U9(e,t){return function(r,n){for(var a=r.length,i=[],l=0,o=e[0],c=0;a>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),i.push(r.substring(a-=o,a+o)),!((c+=o+1)>n));)o=e[l=(l+1)%e.length];return i.reverse().join(t)}}function q9(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var V9=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pu(e){if(!(t=V9.exec(e)))throw new Error("invalid format: "+e);var t;return new Bv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}pu.prototype=Bv.prototype;function Bv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Bv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function K9(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var qE;function H9(e,t){var r=cf(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(qE=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return i===l?n:i>l?n+new Array(i-l+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+cf(e,Math.max(0,t+i-1))[0]}function D1(e,t){var r=cf(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const M1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:z9,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>D1(e*100,t),r:D1,s:H9,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function I1(e){return e}var R1=Array.prototype.map,F1=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function W9(e){var t=e.grouping===void 0||e.thousands===void 0?I1:U9(R1.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?I1:q9(R1.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(m){m=pu(m);var f=m.fill,h=m.align,p=m.sign,y=m.symbol,b=m.zero,v=m.width,g=m.comma,x=m.precision,w=m.trim,N=m.type;N==="n"?(g=!0,N="g"):M1[N]||(x===void 0&&(x=12),w=!0,N="g"),(b||f==="0"&&h==="=")&&(b=!0,f="0",h="=");var k=y==="$"?r:y==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",S=y==="$"?n:/[%p]/.test(N)?l:"",A=M1[N],P=/[defgprs%]/.test(N);x=x===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function C(D){var E=k,L=S,U,I,q;if(N==="c")L=A(D)+L,D="";else{D=+D;var T=D<0||1/D<0;if(D=isNaN(D)?c:A(Math.abs(D),x),w&&(D=K9(D)),T&&+D==0&&p!=="+"&&(T=!1),E=(T?p==="("?p:o:p==="-"||p==="("?"":p)+E,L=(N==="s"?F1[8+qE/3]:"")+L+(T&&p==="("?")":""),P){for(U=-1,I=D.length;++U<I;)if(q=D.charCodeAt(U),48>q||q>57){L=(q===46?a+D.slice(U+1):D.slice(U))+L,D=D.slice(0,U);break}}}g&&!b&&(D=t(D,1/0));var M=E.length+D.length+L.length,V=M<v?new Array(v-M+1).join(f):"";switch(g&&b&&(D=t(V+D,V.length?v-L.length:1/0),V=""),h){case"<":D=E+D+L+V;break;case"=":D=E+V+D+L;break;case"^":D=V.slice(0,M=V.length>>1)+E+D+L+V.slice(M);break;default:D=V+E+D+L;break}return i(D)}return C.toString=function(){return m+""},C}function d(m,f){var h=u((m=pu(m),m.type="f",m)),p=Math.max(-8,Math.min(8,Math.floor(Co(f)/3)))*3,y=Math.pow(10,-p),b=F1[8+p/3];return function(v){return h(y*v)+b}}return{format:u,formatPrefix:d}}var Pd,zv,VE;Q9({thousands:",",grouping:[3],currency:["$",""]});function Q9(e){return Pd=W9(e),zv=Pd.format,VE=Pd.formatPrefix,Pd}function G9(e){return Math.max(0,-Co(Math.abs(e)))}function Y9(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Co(t)/3)))*3-Co(Math.abs(e)))}function X9(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Co(t)-Co(e))+1}function KE(e,t,r,n){var a=Sy(e,t,r),i;switch(n=pu(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=Y9(a,l))&&(n.precision=i),VE(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=X9(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=G9(a))&&(n.precision=i-(n.type==="%")*2);break}}return zv(n)}function di(e){var t=e.domain;return e.ticks=function(r){var n=t();return Ny(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return KE(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,l=n[a],o=n[i],c,u,d=10;for(o<l&&(u=l,l=o,o=u,u=a,a=i,i=u);d-- >0;){if(u=ky(l,o,r),u===c)return n[a]=l,n[i]=o,t(n);if(u>0)l=Math.floor(l/u)*u,o=Math.ceil(o/u)*u;else if(u<0)l=Math.ceil(l*u)/u,o=Math.floor(o*u)/u;else break;c=u}return e},e}function HE(){var e=$v();return e.copy=function(){return $u(e,HE())},Ln.apply(e,arguments),di(e)}function WE(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,of),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return WE(e).unknown(t)},e=arguments.length?Array.from(e,of):[0,1],di(r)}function QE(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],l;return i<a&&(l=r,r=n,n=l,l=a,a=i,i=l),e[r]=t.floor(a),e[n]=t.ceil(i),e}function L1(e){return Math.log(e)}function $1(e){return Math.exp(e)}function Z9(e){return-Math.log(-e)}function J9(e){return-Math.exp(-e)}function eB(e){return isFinite(e)?+("1e"+e):e<0?0:e}function tB(e){return e===10?eB:e===Math.E?Math.exp:t=>Math.pow(e,t)}function rB(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function B1(e){return(t,r)=>-e(-t,r)}function Uv(e){const t=e(L1,$1),r=t.domain;let n=10,a,i;function l(){return a=rB(n),i=tB(n),r()[0]<0?(a=B1(a),i=B1(i),e(Z9,J9)):e(L1,$1),t}return t.base=function(o){return arguments.length?(n=+o,l()):n},t.domain=function(o){return arguments.length?(r(o),l()):r()},t.ticks=o=>{const c=r();let u=c[0],d=c[c.length-1];const m=d<u;m&&([u,d]=[d,u]);let f=a(u),h=a(d),p,y;const b=o==null?10:+o;let v=[];if(!(n%1)&&h-f<b){if(f=Math.floor(f),h=Math.ceil(h),u>0){for(;f<=h;++f)for(p=1;p<n;++p)if(y=f<0?p/i(-f):p*i(f),!(y<u)){if(y>d)break;v.push(y)}}else for(;f<=h;++f)for(p=n-1;p>=1;--p)if(y=f>0?p/i(-f):p*i(f),!(y<u)){if(y>d)break;v.push(y)}v.length*2<b&&(v=Ny(u,d,b))}else v=Ny(f,h,Math.min(h-f,b)).map(i);return m?v.reverse():v},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=pu(c)).precision==null&&(c.trim=!0),c=zv(c)),o===1/0)return c;const u=Math.max(1,n*o/t.ticks().length);return d=>{let m=d/i(Math.round(a(d)));return m*n<n-.5&&(m*=n),m<=u?c(d):""}},t.nice=()=>r(QE(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function GE(){const e=Uv(Ih()).domain([1,10]);return e.copy=()=>$u(e,GE()).base(e.base()),Ln.apply(e,arguments),e}function z1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function U1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function qv(e){var t=1,r=e(z1(t),U1(t));return r.constant=function(n){return arguments.length?e(z1(t=+n),U1(t)):t},di(r)}function YE(){var e=qv(Ih());return e.copy=function(){return $u(e,YE()).constant(e.constant())},Ln.apply(e,arguments)}function q1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function nB(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function sB(e){return e<0?-e*e:e*e}function Vv(e){var t=e(Dr,Dr),r=1;function n(){return r===1?e(Dr,Dr):r===.5?e(nB,sB):e(q1(r),q1(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},di(t)}function Kv(){var e=Vv(Ih());return e.copy=function(){return $u(e,Kv()).exponent(e.exponent())},Ln.apply(e,arguments),e}function aB(){return Kv.apply(null,arguments).exponent(.5)}function V1(e){return Math.sign(e)*e*e}function iB(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function XE(){var e=$v(),t=[0,1],r=!1,n;function a(i){var l=iB(e(i));return isNaN(l)?n:r?Math.round(l):l}return a.invert=function(i){return e.invert(V1(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,of)).map(V1)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return XE(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ln.apply(a,arguments),di(a)}function ZE(){var e=[],t=[],r=[],n;function a(){var l=0,o=Math.max(1,t.length);for(r=new Array(o-1);++l<o;)r[l-1]=u9(e,l/o);return i}function i(l){return l==null||isNaN(l=+l)?n:t[Fu(r,l)]}return i.invertExtent=function(l){var o=t.indexOf(l);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let o of l)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Wa),a()},i.range=function(l){return arguments.length?(t=Array.from(l),a()):t.slice()},i.unknown=function(l){return arguments.length?(n=l,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return ZE().domain(e).range(t).unknown(n)},Ln.apply(i,arguments)}function JE(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function l(c){return c!=null&&c<=c?a[Fu(n,c,0,r)]:i}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return l}return l.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},l.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,o()):a.slice()},l.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},l.unknown=function(c){return arguments.length&&(i=c),l},l.thresholds=function(){return n.slice()},l.copy=function(){return JE().domain([e,t]).range(a).unknown(i)},Ln.apply(di(l),arguments)}function eO(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Fu(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return eO().domain(e).range(t).unknown(r)},Ln.apply(a,arguments)}const u0=new Date,d0=new Date;function Xt(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const l=a(i),o=a.ceil(i);return i-l<o-i?l:o},a.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),a.range=(i,l,o)=>{const c=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<l)||!(o>0))return c;let u;do c.push(u=new Date(+i)),t(i,o),e(i);while(u<i&&i<l);return c},a.filter=i=>Xt(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,o)=>{if(l>=l)if(o<0)for(;++o<=0;)for(;t(l,-1),!i(l););else for(;--o>=0;)for(;t(l,1),!i(l););}),r&&(a.count=(i,l)=>(u0.setTime(+i),d0.setTime(+l),e(u0),e(d0),Math.floor(r(u0,d0))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?l=>n(l)%i===0:l=>a.count(0,l)%i===0):a)),a}const uf=Xt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);uf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Xt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):uf);uf.range;const Ms=1e3,En=Ms*60,Is=En*60,Ys=Is*24,Hv=Ys*7,K1=Ys*30,m0=Ys*365,Ei=Xt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ms)},(e,t)=>(t-e)/Ms,e=>e.getUTCSeconds());Ei.range;const Wv=Xt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ms)},(e,t)=>{e.setTime(+e+t*En)},(e,t)=>(t-e)/En,e=>e.getMinutes());Wv.range;const Qv=Xt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*En)},(e,t)=>(t-e)/En,e=>e.getUTCMinutes());Qv.range;const Gv=Xt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ms-e.getMinutes()*En)},(e,t)=>{e.setTime(+e+t*Is)},(e,t)=>(t-e)/Is,e=>e.getHours());Gv.range;const Yv=Xt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Is)},(e,t)=>(t-e)/Is,e=>e.getUTCHours());Yv.range;const Bu=Xt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*En)/Ys,e=>e.getDate()-1);Bu.range;const Rh=Xt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ys,e=>e.getUTCDate()-1);Rh.range;const tO=Xt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ys,e=>Math.floor(e/Ys));tO.range;function hl(e){return Xt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*En)/Hv)}const Fh=hl(0),df=hl(1),lB=hl(2),oB=hl(3),Po=hl(4),cB=hl(5),uB=hl(6);Fh.range;df.range;lB.range;oB.range;Po.range;cB.range;uB.range;function pl(e){return Xt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Hv)}const Lh=pl(0),mf=pl(1),dB=pl(2),mB=pl(3),Eo=pl(4),fB=pl(5),hB=pl(6);Lh.range;mf.range;dB.range;mB.range;Eo.range;fB.range;hB.range;const Xv=Xt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Xv.range;const Zv=Xt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Zv.range;const Xs=Xt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Xs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Xt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Xs.range;const Zs=Xt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Zs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Xt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Zs.range;function rO(e,t,r,n,a,i){const l=[[Ei,1,Ms],[Ei,5,5*Ms],[Ei,15,15*Ms],[Ei,30,30*Ms],[i,1,En],[i,5,5*En],[i,15,15*En],[i,30,30*En],[a,1,Is],[a,3,3*Is],[a,6,6*Is],[a,12,12*Is],[n,1,Ys],[n,2,2*Ys],[r,1,Hv],[t,1,K1],[t,3,3*K1],[e,1,m0]];function o(u,d,m){const f=d<u;f&&([u,d]=[d,u]);const h=m&&typeof m.range=="function"?m:c(u,d,m),p=h?h.range(u,+d+1):[];return f?p.reverse():p}function c(u,d,m){const f=Math.abs(d-u)/m,h=Dv(([,,b])=>b).right(l,f);if(h===l.length)return e.every(Sy(u/m0,d/m0,m));if(h===0)return uf.every(Math.max(Sy(u,d,m),1));const[p,y]=l[f/l[h-1][2]<l[h][2]/f?h-1:h];return p.every(y)}return[o,c]}const[pB,xB]=rO(Zs,Zv,Lh,tO,Yv,Qv),[yB,gB]=rO(Xs,Xv,Fh,Bu,Gv,Wv);function f0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function h0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function hc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function vB(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,l=e.shortDays,o=e.months,c=e.shortMonths,u=pc(a),d=xc(a),m=pc(i),f=xc(i),h=pc(l),p=xc(l),y=pc(o),b=xc(o),v=pc(c),g=xc(c),x={a:T,A:M,b:V,B:H,c:null,d:X1,e:X1,f:UB,g:ZB,G:ez,H:$B,I:BB,j:zB,L:nO,m:qB,M:VB,p:se,q:Y,Q:ek,s:tk,S:KB,u:HB,U:WB,V:QB,w:GB,W:YB,x:null,X:null,y:XB,Y:JB,Z:tz,"%":J1},w={a:xe,A:fe,b:we,B:rt,c:null,d:Z1,e:Z1,f:az,g:pz,G:yz,H:rz,I:nz,j:sz,L:aO,m:iz,M:lz,p:Dt,q:K,Q:ek,s:tk,S:oz,u:cz,U:uz,V:dz,w:mz,W:fz,x:null,X:null,y:hz,Y:xz,Z:gz,"%":J1},N={a:C,A:D,b:E,B:L,c:U,d:G1,e:G1,f:IB,g:Q1,G:W1,H:Y1,I:Y1,j:_B,L:MB,m:OB,M:TB,p:P,q:EB,Q:FB,s:LB,S:DB,u:kB,U:SB,V:AB,w:NB,W:CB,x:I,X:q,y:Q1,Y:W1,Z:PB,"%":RB};x.x=k(r,x),x.X=k(n,x),x.c=k(t,x),w.x=k(r,w),w.X=k(n,w),w.c=k(t,w);function k(G,je){return function(Ae){var W=[],pr=-1,Ke=0,xr=G.length,Ar,ws,ap;for(Ae instanceof Date||(Ae=new Date(+Ae));++pr<xr;)G.charCodeAt(pr)===37&&(W.push(G.slice(Ke,pr)),(ws=H1[Ar=G.charAt(++pr)])!=null?Ar=G.charAt(++pr):ws=Ar==="e"?" ":"0",(ap=je[Ar])&&(Ar=ap(Ae,ws)),W.push(Ar),Ke=pr+1);return W.push(G.slice(Ke,pr)),W.join("")}}function S(G,je){return function(Ae){var W=hc(1900,void 0,1),pr=A(W,G,Ae+="",0),Ke,xr;if(pr!=Ae.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(je&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(Ke=h0(hc(W.y,0,1)),xr=Ke.getUTCDay(),Ke=xr>4||xr===0?mf.ceil(Ke):mf(Ke),Ke=Rh.offset(Ke,(W.V-1)*7),W.y=Ke.getUTCFullYear(),W.m=Ke.getUTCMonth(),W.d=Ke.getUTCDate()+(W.w+6)%7):(Ke=f0(hc(W.y,0,1)),xr=Ke.getDay(),Ke=xr>4||xr===0?df.ceil(Ke):df(Ke),Ke=Bu.offset(Ke,(W.V-1)*7),W.y=Ke.getFullYear(),W.m=Ke.getMonth(),W.d=Ke.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),xr="Z"in W?h0(hc(W.y,0,1)).getUTCDay():f0(hc(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(xr+5)%7:W.w+W.U*7-(xr+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,h0(W)):f0(W)}}function A(G,je,Ae,W){for(var pr=0,Ke=je.length,xr=Ae.length,Ar,ws;pr<Ke;){if(W>=xr)return-1;if(Ar=je.charCodeAt(pr++),Ar===37){if(Ar=je.charAt(pr++),ws=N[Ar in H1?je.charAt(pr++):Ar],!ws||(W=ws(G,Ae,W))<0)return-1}else if(Ar!=Ae.charCodeAt(W++))return-1}return W}function P(G,je,Ae){var W=u.exec(je.slice(Ae));return W?(G.p=d.get(W[0].toLowerCase()),Ae+W[0].length):-1}function C(G,je,Ae){var W=h.exec(je.slice(Ae));return W?(G.w=p.get(W[0].toLowerCase()),Ae+W[0].length):-1}function D(G,je,Ae){var W=m.exec(je.slice(Ae));return W?(G.w=f.get(W[0].toLowerCase()),Ae+W[0].length):-1}function E(G,je,Ae){var W=v.exec(je.slice(Ae));return W?(G.m=g.get(W[0].toLowerCase()),Ae+W[0].length):-1}function L(G,je,Ae){var W=y.exec(je.slice(Ae));return W?(G.m=b.get(W[0].toLowerCase()),Ae+W[0].length):-1}function U(G,je,Ae){return A(G,t,je,Ae)}function I(G,je,Ae){return A(G,r,je,Ae)}function q(G,je,Ae){return A(G,n,je,Ae)}function T(G){return l[G.getDay()]}function M(G){return i[G.getDay()]}function V(G){return c[G.getMonth()]}function H(G){return o[G.getMonth()]}function se(G){return a[+(G.getHours()>=12)]}function Y(G){return 1+~~(G.getMonth()/3)}function xe(G){return l[G.getUTCDay()]}function fe(G){return i[G.getUTCDay()]}function we(G){return c[G.getUTCMonth()]}function rt(G){return o[G.getUTCMonth()]}function Dt(G){return a[+(G.getUTCHours()>=12)]}function K(G){return 1+~~(G.getUTCMonth()/3)}return{format:function(G){var je=k(G+="",x);return je.toString=function(){return G},je},parse:function(G){var je=S(G+="",!1);return je.toString=function(){return G},je},utcFormat:function(G){var je=k(G+="",w);return je.toString=function(){return G},je},utcParse:function(G){var je=S(G+="",!0);return je.toString=function(){return G},je}}}var H1={"-":"",_:" ",0:"0"},ar=/^\s*\d+/,bB=/^%/,jB=/[\\^$*+?|[\]().{}]/g;function Be(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function wB(e){return e.replace(jB,"\\$&")}function pc(e){return new RegExp("^(?:"+e.map(wB).join("|")+")","i")}function xc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function NB(e,t,r){var n=ar.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function kB(e,t,r){var n=ar.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function SB(e,t,r){var n=ar.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function AB(e,t,r){var n=ar.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function CB(e,t,r){var n=ar.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function W1(e,t,r){var n=ar.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Q1(e,t,r){var n=ar.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function PB(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function EB(e,t,r){var n=ar.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function OB(e,t,r){var n=ar.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function G1(e,t,r){var n=ar.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function _B(e,t,r){var n=ar.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Y1(e,t,r){var n=ar.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function TB(e,t,r){var n=ar.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function DB(e,t,r){var n=ar.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function MB(e,t,r){var n=ar.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function IB(e,t,r){var n=ar.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function RB(e,t,r){var n=bB.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function FB(e,t,r){var n=ar.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function LB(e,t,r){var n=ar.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function X1(e,t){return Be(e.getDate(),t,2)}function $B(e,t){return Be(e.getHours(),t,2)}function BB(e,t){return Be(e.getHours()%12||12,t,2)}function zB(e,t){return Be(1+Bu.count(Xs(e),e),t,3)}function nO(e,t){return Be(e.getMilliseconds(),t,3)}function UB(e,t){return nO(e,t)+"000"}function qB(e,t){return Be(e.getMonth()+1,t,2)}function VB(e,t){return Be(e.getMinutes(),t,2)}function KB(e,t){return Be(e.getSeconds(),t,2)}function HB(e){var t=e.getDay();return t===0?7:t}function WB(e,t){return Be(Fh.count(Xs(e)-1,e),t,2)}function sO(e){var t=e.getDay();return t>=4||t===0?Po(e):Po.ceil(e)}function QB(e,t){return e=sO(e),Be(Po.count(Xs(e),e)+(Xs(e).getDay()===4),t,2)}function GB(e){return e.getDay()}function YB(e,t){return Be(df.count(Xs(e)-1,e),t,2)}function XB(e,t){return Be(e.getFullYear()%100,t,2)}function ZB(e,t){return e=sO(e),Be(e.getFullYear()%100,t,2)}function JB(e,t){return Be(e.getFullYear()%1e4,t,4)}function ez(e,t){var r=e.getDay();return e=r>=4||r===0?Po(e):Po.ceil(e),Be(e.getFullYear()%1e4,t,4)}function tz(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Be(t/60|0,"0",2)+Be(t%60,"0",2)}function Z1(e,t){return Be(e.getUTCDate(),t,2)}function rz(e,t){return Be(e.getUTCHours(),t,2)}function nz(e,t){return Be(e.getUTCHours()%12||12,t,2)}function sz(e,t){return Be(1+Rh.count(Zs(e),e),t,3)}function aO(e,t){return Be(e.getUTCMilliseconds(),t,3)}function az(e,t){return aO(e,t)+"000"}function iz(e,t){return Be(e.getUTCMonth()+1,t,2)}function lz(e,t){return Be(e.getUTCMinutes(),t,2)}function oz(e,t){return Be(e.getUTCSeconds(),t,2)}function cz(e){var t=e.getUTCDay();return t===0?7:t}function uz(e,t){return Be(Lh.count(Zs(e)-1,e),t,2)}function iO(e){var t=e.getUTCDay();return t>=4||t===0?Eo(e):Eo.ceil(e)}function dz(e,t){return e=iO(e),Be(Eo.count(Zs(e),e)+(Zs(e).getUTCDay()===4),t,2)}function mz(e){return e.getUTCDay()}function fz(e,t){return Be(mf.count(Zs(e)-1,e),t,2)}function hz(e,t){return Be(e.getUTCFullYear()%100,t,2)}function pz(e,t){return e=iO(e),Be(e.getUTCFullYear()%100,t,2)}function xz(e,t){return Be(e.getUTCFullYear()%1e4,t,4)}function yz(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Eo(e):Eo.ceil(e),Be(e.getUTCFullYear()%1e4,t,4)}function gz(){return"+0000"}function J1(){return"%"}function ek(e){return+e}function tk(e){return Math.floor(+e/1e3)}var vl,lO,oO;vz({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function vz(e){return vl=vB(e),lO=vl.format,vl.parse,oO=vl.utcFormat,vl.utcParse,vl}function bz(e){return new Date(e)}function jz(e){return e instanceof Date?+e:+new Date(+e)}function Jv(e,t,r,n,a,i,l,o,c,u){var d=$v(),m=d.invert,f=d.domain,h=u(".%L"),p=u(":%S"),y=u("%I:%M"),b=u("%I %p"),v=u("%a %d"),g=u("%b %d"),x=u("%B"),w=u("%Y");function N(k){return(c(k)<k?h:o(k)<k?p:l(k)<k?y:i(k)<k?b:n(k)<k?a(k)<k?v:g:r(k)<k?x:w)(k)}return d.invert=function(k){return new Date(m(k))},d.domain=function(k){return arguments.length?f(Array.from(k,jz)):f().map(bz)},d.ticks=function(k){var S=f();return e(S[0],S[S.length-1],k??10)},d.tickFormat=function(k,S){return S==null?N:u(S)},d.nice=function(k){var S=f();return(!k||typeof k.range!="function")&&(k=t(S[0],S[S.length-1],k??10)),k?f(QE(S,k)):d},d.copy=function(){return $u(d,Jv(e,t,r,n,a,i,l,o,c,u))},d}function wz(){return Ln.apply(Jv(yB,gB,Xs,Xv,Fh,Bu,Gv,Wv,Ei,lO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Nz(){return Ln.apply(Jv(pB,xB,Zs,Zv,Lh,Rh,Yv,Qv,Ei,oO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function $h(){var e=0,t=1,r,n,a,i,l=Dr,o=!1,c;function u(m){return m==null||isNaN(m=+m)?c:l(a===0?.5:(m=(i(m)-r)*a,o?Math.max(0,Math.min(1,m)):m))}u.domain=function(m){return arguments.length?([e,t]=m,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(m){return arguments.length?(o=!!m,u):o},u.interpolator=function(m){return arguments.length?(l=m,u):l};function d(m){return function(f){var h,p;return arguments.length?([h,p]=f,l=m(h,p),u):[l(0),l(1)]}}return u.range=d(Uo),u.rangeRound=d(Lv),u.unknown=function(m){return arguments.length?(c=m,u):c},function(m){return i=m,r=m(e),n=m(t),a=r===n?0:1/(n-r),u}}function mi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function cO(){var e=di($h()(Dr));return e.copy=function(){return mi(e,cO())},aa.apply(e,arguments)}function uO(){var e=Uv($h()).domain([1,10]);return e.copy=function(){return mi(e,uO()).base(e.base())},aa.apply(e,arguments)}function dO(){var e=qv($h());return e.copy=function(){return mi(e,dO()).constant(e.constant())},aa.apply(e,arguments)}function eb(){var e=Vv($h());return e.copy=function(){return mi(e,eb()).exponent(e.exponent())},aa.apply(e,arguments)}function kz(){return eb.apply(null,arguments).exponent(.5)}function mO(){var e=[],t=Dr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Fu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Wa),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>c9(e,i/n))},r.copy=function(){return mO(t).domain(e)},aa.apply(r,arguments)}function Bh(){var e=0,t=.5,r=1,n=1,a,i,l,o,c,u=Dr,d,m=!1,f;function h(y){return isNaN(y=+y)?f:(y=.5+((y=+d(y))-i)*(n*y<n*i?o:c),u(m?Math.max(0,Math.min(1,y)):y))}h.domain=function(y){return arguments.length?([e,t,r]=y,a=d(e=+e),i=d(t=+t),l=d(r=+r),o=a===i?0:.5/(i-a),c=i===l?0:.5/(l-i),n=i<a?-1:1,h):[e,t,r]},h.clamp=function(y){return arguments.length?(m=!!y,h):m},h.interpolator=function(y){return arguments.length?(u=y,h):u};function p(y){return function(b){var v,g,x;return arguments.length?([v,g,x]=b,u=R9(y,[v,g,x]),h):[u(0),u(.5),u(1)]}}return h.range=p(Uo),h.rangeRound=p(Lv),h.unknown=function(y){return arguments.length?(f=y,h):f},function(y){return d=y,a=y(e),i=y(t),l=y(r),o=a===i?0:.5/(i-a),c=i===l?0:.5/(l-i),n=i<a?-1:1,h}}function fO(){var e=di(Bh()(Dr));return e.copy=function(){return mi(e,fO())},aa.apply(e,arguments)}function hO(){var e=Uv(Bh()).domain([.1,1,10]);return e.copy=function(){return mi(e,hO()).base(e.base())},aa.apply(e,arguments)}function pO(){var e=qv(Bh());return e.copy=function(){return mi(e,pO()).constant(e.constant())},aa.apply(e,arguments)}function tb(){var e=Vv(Bh());return e.copy=function(){return mi(e,tb()).exponent(e.exponent())},aa.apply(e,arguments)}function Sz(){return tb.apply(null,arguments).exponent(.5)}const Sc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Iv,scaleDiverging:fO,scaleDivergingLog:hO,scaleDivergingPow:tb,scaleDivergingSqrt:Sz,scaleDivergingSymlog:pO,scaleIdentity:WE,scaleImplicit:Ay,scaleLinear:HE,scaleLog:GE,scaleOrdinal:Mv,scalePoint:m9,scalePow:Kv,scaleQuantile:ZE,scaleQuantize:JE,scaleRadial:XE,scaleSequential:cO,scaleSequentialLog:uO,scaleSequentialPow:eb,scaleSequentialQuantile:mO,scaleSequentialSqrt:kz,scaleSequentialSymlog:dO,scaleSqrt:aB,scaleSymlog:YE,scaleThreshold:eO,scaleTime:wz,scaleUtc:Nz,tickFormat:KE},Symbol.toStringTag,{value:"Module"}));var fi=e=>e.chartData,rb=F([fi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),zu=(e,t,r,n)=>n?rb(e):fi(e);function Oo(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(hr(t)&&hr(r))return!0}return!1}function rk(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Az(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(hr(r))a=r;else if(typeof r=="function")return;if(hr(n))i=n;else if(typeof n=="function")return;var l=[a,i];if(Oo(l))return l}}function Cz(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Oo(n))return rk(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,l,o;if(a==="auto")t!=null&&(l=Math.min(...t));else if(re(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&e1.test(a)){var c=e1.exec(a);if(c==null||t==null)l=void 0;else{var u=+c[1];l=t[0]-u}}else l=t==null?void 0:t[0];if(i==="auto")t!=null&&(o=Math.max(...t));else if(re(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&t1.test(i)){var d=t1.exec(i);if(d==null||t==null)o=void 0;else{var m=+d[1];o=t[1]+m}}else o=t==null?void 0:t[1];var f=[l,o];if(Oo(f))return t==null?f:rk(f,t,r)}}}var qo=1e9,Pz={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},sb,yt=!0,In="[DecimalError] ",Wi=In+"Invalid argument: ",nb=In+"Exponent out of range: ",Vo=Math.floor,bi=Math.pow,Ez=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,sn,tr=1e7,ut=7,xO=9007199254740991,ff=Vo(xO/ut),de={};de.absoluteValue=de.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};de.comparedTo=de.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};de.decimalPlaces=de.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ut;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};de.dividedBy=de.div=function(e){return Ls(this,new this.constructor(e))};de.dividedToIntegerBy=de.idiv=function(e){var t=this,r=t.constructor;return et(Ls(t,new r(e),0,1),r.precision)};de.equals=de.eq=function(e){return!this.cmp(e)};de.exponent=function(){return Vt(this)};de.greaterThan=de.gt=function(e){return this.cmp(e)>0};de.greaterThanOrEqualTo=de.gte=function(e){return this.cmp(e)>=0};de.isInteger=de.isint=function(){return this.e>this.d.length-2};de.isNegative=de.isneg=function(){return this.s<0};de.isPositive=de.ispos=function(){return this.s>0};de.isZero=function(){return this.s===0};de.lessThan=de.lt=function(e){return this.cmp(e)<0};de.lessThanOrEqualTo=de.lte=function(e){return this.cmp(e)<1};de.logarithm=de.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(sn))throw Error(In+"NaN");if(r.s<1)throw Error(In+(r.s?"NaN":"-Infinity"));return r.eq(sn)?new n(0):(yt=!1,t=Ls(xu(r,i),xu(e,i),i),yt=!0,et(t,a))};de.minus=de.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?vO(t,e):yO(t,(e.s=-e.s,e))};de.modulo=de.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(In+"NaN");return r.s?(yt=!1,t=Ls(r,e,0,1).times(e),yt=!0,r.minus(t)):et(new n(r),a)};de.naturalExponential=de.exp=function(){return gO(this)};de.naturalLogarithm=de.ln=function(){return xu(this)};de.negated=de.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};de.plus=de.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?yO(t,e):vO(t,(e.s=-e.s,e))};de.precision=de.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Wi+e);if(t=Vt(a)+1,n=a.d.length-1,r=n*ut+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};de.squareRoot=de.sqrt=function(){var e,t,r,n,a,i,l,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(In+"NaN")}for(e=Vt(o),yt=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=ds(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Vo((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=l=r+3;;)if(i=n,n=i.plus(Ls(o,i,l+2)).times(.5),ds(i.d).slice(0,l)===(t=ds(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),a==l&&t=="4999"){if(et(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;l+=4}return yt=!0,et(n,r)};de.times=de.mul=function(e){var t,r,n,a,i,l,o,c,u,d=this,m=d.constructor,f=d.d,h=(e=new m(e)).d;if(!d.s||!e.s)return new m(0);for(e.s*=d.s,r=d.e+e.e,c=f.length,u=h.length,c<u&&(i=f,f=h,h=i,l=c,c=u,u=l),i=[],l=c+u,n=l;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)o=i[a]+h[n]*f[a-n-1]+t,i[a--]=o%tr|0,t=o/tr|0;i[a]=(i[a]+t)%tr|0}for(;!i[--l];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,yt?et(e,m.precision):e};de.toDecimalPlaces=de.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ys(e,0,qo),t===void 0?t=n.rounding:ys(t,0,8),et(r,e+Vt(r)+1,t))};de.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=ll(n,!0):(ys(e,0,qo),t===void 0?t=a.rounding:ys(t,0,8),n=et(new a(n),e+1,t),r=ll(n,!0,e+1)),r};de.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?ll(a):(ys(e,0,qo),t===void 0?t=i.rounding:ys(t,0,8),n=et(new i(a),e+Vt(a)+1,t),r=ll(n.abs(),!1,e+Vt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};de.toInteger=de.toint=function(){var e=this,t=e.constructor;return et(new t(e),Vt(e)+1,t.rounding)};de.toNumber=function(){return+this};de.toPower=de.pow=function(e){var t,r,n,a,i,l,o=this,c=o.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(sn);if(o=new c(o),!o.s){if(e.s<1)throw Error(In+"Infinity");return o}if(o.eq(sn))return o;if(n=c.precision,e.eq(sn))return et(o,n);if(t=e.e,r=e.d.length-1,l=t>=r,i=o.s,l){if((r=d<0?-d:d)<=xO){for(a=new c(sn),t=Math.ceil(n/ut+4),yt=!1;r%2&&(a=a.times(o),sk(a.d,t)),r=Vo(r/2),r!==0;)o=o.times(o),sk(o.d,t);return yt=!0,e.s<0?new c(sn).div(a):et(a,n)}}else if(i<0)throw Error(In+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,yt=!1,a=e.times(xu(o,n+u)),yt=!0,a=gO(a),a.s=i,a};de.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Vt(a),n=ll(a,r<=i.toExpNeg||r>=i.toExpPos)):(ys(e,1,qo),t===void 0?t=i.rounding:ys(t,0,8),a=et(new i(a),e,t),r=Vt(a),n=ll(a,e<=r||r<=i.toExpNeg,e)),n};de.toSignificantDigits=de.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ys(e,1,qo),t===void 0?t=n.rounding:ys(t,0,8)),et(new n(r),e,t)};de.toString=de.valueOf=de.val=de.toJSON=de[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Vt(e),r=e.constructor;return ll(e,t<=r.toExpNeg||t>=r.toExpPos)};function yO(e,t){var r,n,a,i,l,o,c,u,d=e.constructor,m=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),yt?et(t,m):t;if(c=e.d,u=t.d,l=e.e,a=t.e,c=c.slice(),i=l-a,i){for(i<0?(n=c,i=-i,o=u.length):(n=u,a=l,o=c.length),l=Math.ceil(m/ut),o=l>o?l+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=c.length,i=u.length,o-i<0&&(i=o,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/tr|0,c[i]%=tr;for(r&&(c.unshift(r),++a),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=a,yt?et(t,m):t}function ys(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Wi+e)}function ds(e){var t,r,n,a=e.length-1,i="",l=e[0];if(a>0){for(i+=l,t=1;t<a;t++)n=e[t]+"",r=ut-n.length,r&&(i+=ya(r)),i+=n;l=e[t],n=l+"",r=ut-n.length,r&&(i+=ya(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var Ls=function(){function e(n,a){var i,l=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+l,n[o]=i%tr|0,l=i/tr|0;return l&&n.unshift(l),n}function t(n,a,i,l){var o,c;if(i!=l)c=i>l?1:-1;else for(o=c=0;o<i;o++)if(n[o]!=a[o]){c=n[o]>a[o]?1:-1;break}return c}function r(n,a,i){for(var l=0;i--;)n[i]-=l,l=n[i]<a[i]?1:0,n[i]=l*tr+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,l){var o,c,u,d,m,f,h,p,y,b,v,g,x,w,N,k,S,A,P=n.constructor,C=n.s==a.s?1:-1,D=n.d,E=a.d;if(!n.s)return new P(n);if(!a.s)throw Error(In+"Division by zero");for(c=n.e-a.e,S=E.length,N=D.length,h=new P(C),p=h.d=[],u=0;E[u]==(D[u]||0);)++u;if(E[u]>(D[u]||0)&&--c,i==null?g=i=P.precision:l?g=i+(Vt(n)-Vt(a))+1:g=i,g<0)return new P(0);if(g=g/ut+2|0,u=0,S==1)for(d=0,E=E[0],g++;(u<N||d)&&g--;u++)x=d*tr+(D[u]||0),p[u]=x/E|0,d=x%E|0;else{for(d=tr/(E[0]+1)|0,d>1&&(E=e(E,d),D=e(D,d),S=E.length,N=D.length),w=S,y=D.slice(0,S),b=y.length;b<S;)y[b++]=0;A=E.slice(),A.unshift(0),k=E[0],E[1]>=tr/2&&++k;do d=0,o=t(E,y,S,b),o<0?(v=y[0],S!=b&&(v=v*tr+(y[1]||0)),d=v/k|0,d>1?(d>=tr&&(d=tr-1),m=e(E,d),f=m.length,b=y.length,o=t(m,y,f,b),o==1&&(d--,r(m,S<f?A:E,f))):(d==0&&(o=d=1),m=E.slice()),f=m.length,f<b&&m.unshift(0),r(y,m,b),o==-1&&(b=y.length,o=t(E,y,S,b),o<1&&(d++,r(y,S<b?A:E,b))),b=y.length):o===0&&(d++,y=[0]),p[u++]=d,o&&y[0]?y[b++]=D[w]||0:(y=[D[w]],b=1);while((w++<N||y[0]!==void 0)&&g--)}return p[0]||p.shift(),h.e=c,et(h,l?i+Vt(h)+1:i)}}();function gO(e,t){var r,n,a,i,l,o,c=0,u=0,d=e.constructor,m=d.precision;if(Vt(e)>16)throw Error(nb+Vt(e));if(!e.s)return new d(sn);for(yt=!1,o=m,l=new d(.03125);e.abs().gte(.1);)e=e.times(l),u+=5;for(n=Math.log(bi(2,u))/Math.LN10*2+5|0,o+=n,r=a=i=new d(sn),d.precision=o;;){if(a=et(a.times(e),o),r=r.times(++c),l=i.plus(Ls(a,r,o)),ds(l.d).slice(0,o)===ds(i.d).slice(0,o)){for(;u--;)i=et(i.times(i),o);return d.precision=m,t==null?(yt=!0,et(i,m)):i}i=l}}function Vt(e){for(var t=e.e*ut,r=e.d[0];r>=10;r/=10)t++;return t}function p0(e,t,r){if(t>e.LN10.sd())throw yt=!0,r&&(e.precision=r),Error(In+"LN10 precision limit exceeded");return et(new e(e.LN10),t)}function ya(e){for(var t="";e--;)t+="0";return t}function xu(e,t){var r,n,a,i,l,o,c,u,d,m=1,f=10,h=e,p=h.d,y=h.constructor,b=y.precision;if(h.s<1)throw Error(In+(h.s?"NaN":"-Infinity"));if(h.eq(sn))return new y(0);if(t==null?(yt=!1,u=b):u=t,h.eq(10))return t==null&&(yt=!0),p0(y,u);if(u+=f,y.precision=u,r=ds(p),n=r.charAt(0),i=Vt(h),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=ds(h.d),n=r.charAt(0),m++;i=Vt(h),n>1?(h=new y("0."+r),i++):h=new y(n+"."+r.slice(1))}else return c=p0(y,u+2,b).times(i+""),h=xu(new y(n+"."+r.slice(1)),u-f).plus(c),y.precision=b,t==null?(yt=!0,et(h,b)):h;for(o=l=h=Ls(h.minus(sn),h.plus(sn),u),d=et(h.times(h),u),a=3;;){if(l=et(l.times(d),u),c=o.plus(Ls(l,new y(a),u)),ds(c.d).slice(0,u)===ds(o.d).slice(0,u))return o=o.times(2),i!==0&&(o=o.plus(p0(y,u+2,b).times(i+""))),o=Ls(o,new y(m),u),y.precision=b,t==null?(yt=!0,et(o,b)):o;o=c,a+=2}}function nk(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Vo(r/ut),e.d=[],n=(r+1)%ut,r<0&&(n+=ut),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=ut;n<a;)e.d.push(+t.slice(n,n+=ut));t=t.slice(n),n=ut-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),yt&&(e.e>ff||e.e<-ff))throw Error(nb+r)}else e.s=0,e.e=0,e.d=[0];return e}function et(e,t,r){var n,a,i,l,o,c,u,d,m=e.d;for(l=1,i=m[0];i>=10;i/=10)l++;if(n=t-l,n<0)n+=ut,a=t,u=m[d=0];else{if(d=Math.ceil((n+1)/ut),i=m.length,d>=i)return e;for(u=i=m[d],l=1;i>=10;i/=10)l++;n%=ut,a=n-ut+l}if(r!==void 0&&(i=bi(10,l-a-1),o=u/i%10|0,c=t<0||m[d+1]!==void 0||u%i,c=r<4?(o||c)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?a>0?u/bi(10,l-a):0:m[d-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return c?(i=Vt(e),m.length=1,t=t-i-1,m[0]=bi(10,(ut-t%ut)%ut),e.e=Vo(-t/ut)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=d,i=1,d--):(m.length=d+1,i=bi(10,ut-n),m[d]=a>0?(u/bi(10,l-a)%bi(10,a)|0)*i:0),c)for(;;)if(d==0){(m[0]+=i)==tr&&(m[0]=1,++e.e);break}else{if(m[d]+=i,m[d]!=tr)break;m[d--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(yt&&(e.e>ff||e.e<-ff))throw Error(nb+Vt(e));return e}function vO(e,t){var r,n,a,i,l,o,c,u,d,m,f=e.constructor,h=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),yt?et(t,h):t;if(c=e.d,m=t.d,n=t.e,u=e.e,c=c.slice(),l=u-n,l){for(d=l<0,d?(r=c,l=-l,o=m.length):(r=m,n=u,o=c.length),a=Math.max(Math.ceil(h/ut),o)+2,l>a&&(l=a,r.length=1),r.reverse(),a=l;a--;)r.push(0);r.reverse()}else{for(a=c.length,o=m.length,d=a<o,d&&(o=a),a=0;a<o;a++)if(c[a]!=m[a]){d=c[a]<m[a];break}l=0}for(d&&(r=c,c=m,m=r,t.s=-t.s),o=c.length,a=m.length-o;a>0;--a)c[o++]=0;for(a=m.length;a>l;){if(c[--a]<m[a]){for(i=a;i&&c[--i]===0;)c[i]=tr-1;--c[i],c[a]+=tr}c[a]-=m[a]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,yt?et(t,h):t):new f(0)}function ll(e,t,r){var n,a=Vt(e),i=ds(e.d),l=i.length;return t?(r&&(n=r-l)>0?i=i.charAt(0)+"."+i.slice(1)+ya(n):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+ya(-a-1)+i,r&&(n=r-l)>0&&(i+=ya(n))):a>=l?(i+=ya(a+1-l),r&&(n=r-a-1)>0&&(i=i+"."+ya(n))):((n=a+1)<l&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-l)>0&&(a+1===l&&(i+="."),i+=ya(n))),e.s<0?"-"+i:i}function sk(e,t){if(e.length>t)return e.length=t,!0}function bO(e){var t,r,n;function a(i){var l=this;if(!(l instanceof a))return new a(i);if(l.constructor=a,i instanceof a){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Wi+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return nk(l,i.toString())}else if(typeof i!="string")throw Error(Wi+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,Ez.test(i))nk(l,i);else throw Error(Wi+i)}if(a.prototype=de,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=bO,a.config=a.set=Oz,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Oz(e){if(!e||typeof e!="object")throw Error(In+"Object expected");var t,r,n,a=["precision",1,qo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Vo(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Wi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Wi+r+": "+n);return this}var sb=bO(Pz);sn=new sb(1);const Ge=sb;var _z=e=>e,jO={},wO=e=>e===jO,ak=e=>function t(){return arguments.length===0||arguments.length===1&&wO(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},NO=(e,t)=>e===1?t:ak(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(l=>l!==jO).length;return i>=e?t(...n):NO(e-i,ak(function(){for(var l=arguments.length,o=new Array(l),c=0;c<l;c++)o[c]=arguments[c];var u=n.map(d=>wO(d)?o.shift():d);return t(...u,...o)}))}),zh=e=>NO(e.length,e),Oy=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},Tz=zh((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),Dz=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return _z;var a=r.reverse(),i=a[0],l=a.slice(1);return function(){return l.reduce((o,c)=>c(o),i(...arguments))}},_y=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),kO=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((l,o)=>{var c;return l===((c=t)===null||c===void 0?void 0:c[o])})||(t=a,r=e(...a)),r}};function SO(e){var t;return e===0?t=1:t=Math.floor(new Ge(e).abs().log(10).toNumber())+1,t}function AO(e,t,r){for(var n=new Ge(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}zh((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});zh((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});zh((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var CO=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},PO=(e,t,r)=>{if(e.lte(0))return new Ge(0);var n=SO(e.toNumber()),a=new Ge(10).pow(n),i=e.div(a),l=n!==1?.05:.1,o=new Ge(Math.ceil(i.div(l).toNumber())).add(r).mul(l),c=o.mul(a);return t?new Ge(c.toNumber()):new Ge(Math.ceil(c.toNumber()))},Mz=(e,t,r)=>{var n=new Ge(1),a=new Ge(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Ge(10).pow(SO(e)-1),a=new Ge(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Ge(Math.floor(e)))}else e===0?a=new Ge(Math.floor((t-1)/2)):r||(a=new Ge(Math.floor(e)));var l=Math.floor((t-1)/2),o=Dz(Tz(c=>a.add(new Ge(c-l).mul(n)).toNumber()),Oy);return o(0,t)},EO=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ge(0),tickMin:new Ge(0),tickMax:new Ge(0)};var l=PO(new Ge(r).sub(t).div(n-1),a,i),o;t<=0&&r>=0?o=new Ge(0):(o=new Ge(t).add(r).div(2),o=o.sub(new Ge(o).mod(l)));var c=Math.ceil(o.sub(t).div(l).toNumber()),u=Math.ceil(new Ge(r).sub(o).div(l).toNumber()),d=c+u+1;return d>n?EO(t,r,n,a,i+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:l,tickMin:o.sub(new Ge(c).mul(l)),tickMax:o.add(new Ge(u).mul(l))})};function Iz(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[l,o]=CO([t,r]);if(l===-1/0||o===1/0){var c=o===1/0?[l,...Oy(0,n-1).map(()=>1/0)]:[...Oy(0,n-1).map(()=>-1/0),o];return t>r?_y(c):c}if(l===o)return Mz(l,n,a);var{step:u,tickMin:d,tickMax:m}=EO(l,o,i,a,0),f=AO(d,m.add(new Ge(.1).mul(u)),u);return t>r?_y(f):f}function Rz(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,l]=CO([r,n]);if(i===-1/0||l===1/0)return[r,n];if(i===l)return[i];var o=Math.max(t,2),c=PO(new Ge(l).sub(i).div(o-1),a,0),u=[...AO(new Ge(i),new Ge(l),c),l];return a===!1&&(u=u.map(d=>Math.round(d))),r>n?_y(u):u}var Fz=kO(Iz),Lz=kO(Rz),OO=e=>e.rootProps.maxBarSize,$z=e=>e.rootProps.barGap,_O=e=>e.rootProps.barCategoryGap,Bz=e=>e.rootProps.barSize,Uu=e=>e.rootProps.stackOffset,ab=e=>e.options.chartName,ib=e=>e.rootProps.syncId,TO=e=>e.rootProps.syncMethod,lb=e=>e.options.eventEmitter,Os={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},rn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Uh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},zz={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Os.angleAxisId,includeHidden:!1,name:void 0,reversed:Os.reversed,scale:Os.scale,tick:Os.tick,tickCount:void 0,ticks:void 0,type:Os.type,unit:void 0},Uz={allowDataOverflow:rn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:rn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:rn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:rn.scale,tick:rn.tick,tickCount:rn.tickCount,ticks:void 0,type:rn.type,unit:void 0},qz={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Os.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Os.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Os.scale,tick:Os.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Vz={allowDataOverflow:rn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:rn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:rn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:rn.scale,tick:rn.tick,tickCount:rn.tickCount,ticks:void 0,type:"category",unit:void 0},ob=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?qz:zz,cb=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Vz:Uz,qh=e=>e.polarOptions,ub=F([na,sa,Yt],rE),DO=F([qh,ub],(e,t)=>{if(e!=null)return Ir(e.innerRadius,t,0)}),MO=F([qh,ub],(e,t)=>{if(e!=null)return Ir(e.outerRadius,t,t*.8)}),Kz=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},IO=F([qh],Kz);F([ob,IO],Uh);var RO=F([ub,DO,MO],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});F([cb,RO],Uh);var FO=F([De,qh,DO,MO,na,sa],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:o,startAngle:c,endAngle:u}=t;return{cx:Ir(l,a,a/2),cy:Ir(o,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),bt=(e,t)=>t,qu=(e,t,r)=>r;function Vh(e){return e==null?void 0:e.id}var Zt=e=>{var t=De(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ko=e=>e.tooltip.settings.axisId,Jt=e=>{var t=Zt(e),r=Ko(e);return Vu(e,t,r)};function LO(e,t,r){var{chartData:n=[]}=t,a=r==null?void 0:r.dataKey,i=new Map;return e.forEach(l=>{var o,c=(o=l.data)!==null&&o!==void 0?o:n;if(!(c==null||c.length===0)){var u=Vh(l);c.forEach((d,m)=>{var f=a==null?m:String(Ye(d,a,null)),h=Ye(d,l.dataKey,0),p;i.has(f)?p=i.get(f):p={},Object.assign(p,{[u]:h}),i.set(f,p)})}}),Array.from(i.values())}function Kh(e){return e.stackId!=null&&e.dataKey!=null}function ik(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ik(Object(r),!0).forEach(function(n){Hz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ik(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hz(e,t,r){return(t=Wz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wz(e){var t=Qz(e,"string");return typeof t=="symbol"?t:t+""}function Qz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ty=[0,"auto"],Jr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},ia=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??Jr},en={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Ty,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Th},hi=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??en},Gz={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},db=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Gz},$t=(e,t,r)=>{switch(t){case"xAxis":return ia(e,r);case"yAxis":return hi(e,r);case"zAxis":return db(e,r);case"angleAxis":return ob(e,r);case"radiusAxis":return cb(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Yz=(e,t,r)=>{switch(t){case"xAxis":return ia(e,r);case"yAxis":return hi(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Vu=(e,t,r)=>{switch(t){case"xAxis":return ia(e,r);case"yAxis":return hi(e,r);case"angleAxis":return ob(e,r);case"radiusAxis":return cb(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},$O=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function mb(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Ku=e=>e.graphicalItems.cartesianItems,Xz=F([bt,qu],mb),fb=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Hu=F([Ku,$t,Xz],fb),BO=F([Hu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Kh)),zO=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),UO=F([Hu],zO),hb=e=>e.map(t=>t.data).filter(Boolean).flat(1),Zz=F([Hu],hb),pb=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},xb=F([Zz,zu],pb),yb=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ye(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:Ye(a,n)}))):e.map(n=>({value:n})),Hh=F([xb,$t,Hu],yb);function qO(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function xl(e){return e.filter(t=>xs(t)||t instanceof Date).map(Number).filter(t=>Zr(t)===!1)}function Jz(e,t,r){return!r||typeof t!="number"||Zr(t)?[]:r.length?xl(r.flatMap(n=>{var a=Ye(e,n.dataKey),i,l;if(Array.isArray(a)?[i,l]=a:i=l=a,!(!hr(i)||!hr(l)))return[t-i,t+l]})):[]}var eU=F([BO,zu,Jt],LO),VO=(e,t,r)=>{var n={},a=t.reduce((i,l)=>(l.stackId==null||(i[l.stackId]==null&&(i[l.stackId]=[]),i[l.stackId].push(l)),i),n);return Object.fromEntries(Object.entries(a).map(i=>{var[l,o]=i,c=o.map(Vh);return[l,{stackedData:A8(e,c,r),graphicalItems:o}]}))},yu=F([eU,BO,Uu],VO),KO=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:a}=t;if(r!=="zAxis"){var i=O8(e,n,a);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},tU=F([yu,fi,bt],KO),HO=(e,t,r,n,a)=>r.length>0?e.flatMap(i=>r.flatMap(l=>{var o,c,u=(o=n[l.id])===null||o===void 0?void 0:o.filter(m=>qO(a,m)),d=Ye(i,(c=t.dataKey)!==null&&c!==void 0?c:l.dataKey);return{value:d,errorDomain:Jz(i,d,u)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(i=>({value:Ye(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),Wh=e=>e.errorBars,WO=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>qO(r,n));F([UO,Wh,bt],WO);var rU=F([xb,$t,UO,Wh,bt],HO);function nU(e){var{value:t}=e;if(xs(t)||t instanceof Date)return t}var lk=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=xl(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},sU=(e,t,r)=>{var n=e.map(nU).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&F4(n))?IE(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},gb=e=>{var t;if(e==null||!("domain"in e))return Ty;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=xl(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Ty},pf=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),l=Math.min(...i),o=Math.max(...i);return[l,o]}},QO=e=>e.referenceElements.dots,Ho=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),aU=F([QO,bt,qu],Ho),GO=e=>e.referenceElements.areas,iU=F([GO,bt,qu],Ho),YO=e=>e.referenceElements.lines,lU=F([YO,bt,qu],Ho),XO=(e,t)=>{var r=xl(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},oU=F(aU,bt,XO),ZO=(e,t)=>{var r=xl(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},cU=F([iU,bt],ZO),JO=(e,t)=>{var r=xl(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},uU=F(lU,bt,JO),dU=F(oU,uU,cU,(e,t,r)=>pf(e,r,t)),e3=F([$t],gb),vb=(e,t,r,n,a,i,l)=>{var o=Az(t,e.allowDataOverflow);if(o!=null)return o;var c=i==="vertical"&&l==="xAxis"||i==="horizontal"&&l==="yAxis",u=c?pf(r,a,lk(n)):pf(a,lk(n));return Cz(t,u,e.allowDataOverflow)},mU=F([$t,e3,tU,rU,dU,De,bt],vb),fU=[0,1],bb=(e,t,r,n,a,i,l)=>{if(!((e==null||r==null||r.length===0)&&l===void 0)){var{dataKey:o,type:c}=e,u=js(t,i);return u&&o==null?IE(0,r.length):c==="category"?sU(n,e,u):a==="expand"?fU:l}},jb=F([$t,De,xb,Hh,Uu,bt,mU],bb),t3=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:l}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":l==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":l==="category"?"band":"linear";if(typeof i=="string"){var o="scale".concat(Du(i));return o in Sc?o:"point"}}},Wo=F([$t,De,$O,ab,bt],t3);function hU(e){if(e!=null){if(e in Sc)return Sc[e]();var t="scale".concat(Du(e));if(t in Sc)return Sc[t]()}}function wb(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=hU(t);if(a!=null){var i=a.domain(r).range(n);return j8(i),i}}}var Nb=(e,t,r)=>{var n=gb(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Oo(e))return Fz(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Oo(e))return Lz(e,t.tickCount,t.allowDecimals)}},kb=F([jb,Vu,Wo],Nb),Sb=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Oo(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],l=t[1],o=r[r.length-1];return[Math.min(a,i),Math.max(l,o)]}return t},pU=F([$t,jb,kb,bt],Sb),xU=F(Hh,$t,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(xl(e.map(o=>o.value))).sort((o,c)=>o-c);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var l=n[i+1]-n[i];r=Math.min(r,l)}return r/a}}),r3=F(xU,De,_O,Yt,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!hr(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var l=Ir(r,e*i),o=e*i/2;return o-l-(o-l)/i*l}return 0}),yU=(e,t)=>{var r=ia(e,t);return r==null||typeof r.padding!="string"?0:r3(e,"xAxis",t,r.padding)},gU=(e,t)=>{var r=hi(e,t);return r==null||typeof r.padding!="string"?0:r3(e,"yAxis",t,r.padding)},vU=F(ia,yU,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),bU=F(hi,gU,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),jU=F([Yt,vU,Mh,Dh,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),wU=F([Yt,De,bU,Mh,Dh,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:l}=a;return i?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Wu=(e,t,r,n)=>{var a;switch(t){case"xAxis":return jU(e,r,n);case"yAxis":return wU(e,r,n);case"zAxis":return(a=db(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return IO(e);case"radiusAxis":return RO(e,r);default:return}},n3=F([$t,Wu],Uh),Qo=F([$t,Wo,pU,n3],wb);F([Hu,Wh,bt],WO);function s3(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Qh=(e,t)=>t,Gh=(e,t,r)=>r,NU=F(Ev,Qh,Gh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(s3)),kU=F(Ov,Qh,Gh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(s3)),a3=(e,t)=>({width:e.width,height:t.height}),SU=(e,t)=>{var r=typeof t.width=="number"?t.width:Th;return{width:r,height:e.height}},i3=F(Yt,ia,a3),AU=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},CU=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},PU=F(sa,Yt,NU,Qh,Gh,(e,t,r,n,a)=>{var i={},l;return r.forEach(o=>{var c=a3(t,o);l==null&&(l=AU(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;i[o.id]=l-Number(u)*c.height,l+=(u?-1:1)*c.height}),i}),EU=F(na,Yt,kU,Qh,Gh,(e,t,r,n,a)=>{var i={},l;return r.forEach(o=>{var c=SU(t,o);l==null&&(l=CU(t,n,e));var u=n==="left"&&!a||n==="right"&&a;i[o.id]=l-Number(u)*c.width,l+=(u?-1:1)*c.width}),i}),OU=(e,t)=>{var r=Yt(e),n=ia(e,t);if(n!=null){var a=PU(e,n.orientation,n.mirror),i=a[t];return i==null?{x:r.left,y:0}:{x:r.left,y:i}}},_U=(e,t)=>{var r=Yt(e),n=hi(e,t);if(n!=null){var a=EU(e,n.orientation,n.mirror),i=a[t];return i==null?{x:0,y:r.top}:{x:i,y:r.top}}},l3=F(Yt,hi,(e,t)=>{var r=typeof t.width=="number"?t.width:Th;return{width:r,height:e.height}}),ok=(e,t,r)=>{switch(t){case"xAxis":return i3(e,r).width;case"yAxis":return l3(e,r).height;default:return}},o3=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:l}=r,o=js(e,n),c=t.map(u=>u.value);if(l&&o&&i==="category"&&a&&F4(c))return c}},Ab=F([De,Hh,$t,bt],o3),c3=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,l=js(e,n);if(l&&(a==="number"||i!=="auto"))return t.map(o=>o.value)}},Cb=F([De,Hh,Vu,bt],c3),ck=F([De,Yz,Wo,Qo,Ab,Cb,Wu,kb,bt],(e,t,r,n,a,i,l,o,c)=>{if(t==null)return null;var u=js(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:o,range:l,realScaleType:r,scale:n}}),TU=(e,t,r,n,a,i,l,o,c)=>{if(!(t==null||n==null)){var u=js(e,c),{type:d,ticks:m,tickCount:f}=t,h=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,p=d==="category"&&n.bandwidth?n.bandwidth()/h:0;p=c==="angleAxis"&&i!=null&&i.length>=2?nr(i[0]-i[1])*2*p:p;var y=m||a;if(y){var b=y.map((v,g)=>{var x=l?l.indexOf(v):v;return{index:g,coordinate:n(x)+p,value:v,offset:p}});return b.filter(v=>!Zr(v.coordinate))}return u&&o?o.map((v,g)=>({coordinate:n(v)+p,value:v,index:g,offset:p})):n.ticks?n.ticks(f).map(v=>({coordinate:n(v)+p,value:v,offset:p})):n.domain().map((v,g)=>({coordinate:n(v)+p,value:l?l[v]:v,index:g,offset:p}))}},u3=F([De,Vu,Wo,Qo,kb,Wu,Ab,Cb,bt],TU),DU=(e,t,r,n,a,i,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=js(e,l),{tickCount:c}=t,u=0;return u=l==="angleAxis"&&(n==null?void 0:n.length)>=2?nr(n[0]-n[1])*2*u:u,o&&i?i.map((d,m)=>({coordinate:r(d)+u,value:d,index:m,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,m)=>({coordinate:r(d)+u,value:a?a[d]:d,index:m,offset:u}))}},gs=F([De,Vu,Qo,Wu,Ab,Cb,bt],DU),vs=F($t,Qo,(e,t)=>{if(!(e==null||t==null))return hf(hf({},e),{},{scale:t})}),MU=F([$t,Wo,jb,n3],wb);F((e,t,r)=>db(e,r),MU,(e,t)=>{if(!(e==null||t==null))return hf(hf({},e),{},{scale:t})});var IU=F([De,Ev,Ov],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),d3=e=>e.options.defaultTooltipEventType,m3=e=>e.options.validateTooltipEventTypes;function f3(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Pb(e,t){var r=d3(e),n=m3(e);return f3(t,r,n)}function RU(e){return pe(t=>Pb(t,e))}var h3=(e,t)=>{var r,n=Number(t);if(!(Zr(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},FU=e=>e.tooltip.settings,ja={active:!1,index:null,dataKey:void 0,coordinate:void 0},LU={itemInteraction:{click:ja,hover:ja},axisInteraction:{click:ja,hover:ja},keyboardInteraction:ja,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},p3=pn({name:"tooltip",initialState:LU,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=Fs(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:$U,removeTooltipEntrySettings:BU,setTooltipSettingsState:zU,setActiveMouseOverItemIndex:x3,mouseLeaveItem:UU,mouseLeaveChart:y3,setActiveClickItemIndex:qU,setMouseOverAxisIndex:g3,setMouseClickAxisIndex:VU,setSyncInteraction:Dy,setKeyboardInteraction:My}=p3.actions,KU=p3.reducer;function uk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ed(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uk(Object(r),!0).forEach(function(n){HU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HU(e,t,r){return(t=WU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WU(e){var t=QU(e,"string");return typeof t=="symbol"?t:t+""}function QU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GU(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function YU(e){return e.index!=null}var v3=(e,t,r,n)=>{if(t==null)return ja;var a=GU(e,t,r);if(a==null)return ja;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(YU(a)){if(i)return Ed(Ed({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Ed(Ed({},ja),{},{coordinate:a.coordinate})},Eb=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!hr(n))return r;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(n,i)))},b3=(e,t,r,n,a,i,l,o)=>{if(!(i==null||o==null)){var c=l[0],u=c==null?void 0:o(c.positions,i);if(u!=null)return u;var d=a==null?void 0:a[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},j3=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var l;return((l=i.settings)===null||l===void 0?void 0:l.dataKey)===a})},Qu=e=>e.options.tooltipPayloadSearcher,Go=e=>e.tooltip;function dk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dk(Object(r),!0).forEach(function(n){XU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XU(e,t,r){return(t=ZU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZU(e){var t=JU(e,"string");return typeof t=="symbol"?t:t+""}function JU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eq(e,t){return e??t}var w3=(e,t,r,n,a,i,l)=>{if(!(t==null||i==null)){var{chartData:o,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,m=[];return e.reduce((f,h)=>{var p,{dataDefinedOnItem:y,settings:b}=h,v=eq(y,o),g=Array.isArray(v)?nE(v,u,d):v,x=(p=b==null?void 0:b.dataKey)!==null&&p!==void 0?p:n==null?void 0:n.dataKey,w=b==null?void 0:b.nameKey,N;if(n!=null&&n.dataKey&&Array.isArray(g)&&!Array.isArray(g[0])&&l==="axis"?N=L4(g,n.dataKey,a):N=i(g,t,c,w),Array.isArray(N))N.forEach(S=>{var A=mk(mk({},b),{},{name:S.name,unit:S.unit,color:void 0,fill:void 0});f.push(r1({tooltipEntrySettings:A,dataKey:S.dataKey,payload:S.payload,value:Ye(S.payload,S.dataKey),name:S.name}))});else{var k;f.push(r1({tooltipEntrySettings:b,dataKey:x,payload:N,value:Ye(N,x),name:(k=Ye(N,w))!==null&&k!==void 0?k:b==null?void 0:b.name}))}return f},m)}},Ob=F([Jt,De,$O,ab,Zt],t3),tq=F([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),rq=F([Zt,Ko],mb),Gu=F([tq,Jt,rq],fb),nq=F([Gu],e=>e.filter(Kh)),sq=F([Gu],hb),Yo=F([sq,fi],pb),aq=F([nq,fi,Jt],LO),_b=F([Yo,Jt,Gu],yb),iq=F([Jt],gb),lq=F([Gu],e=>e.filter(Kh)),oq=F([aq,lq,Uu],VO),cq=F([oq,fi,Zt],KO),uq=F([Gu],zO),dq=F([Yo,Jt,uq,Wh,Zt],HO),mq=F([QO,Zt,Ko],Ho),fq=F([mq,Zt],XO),hq=F([GO,Zt,Ko],Ho),pq=F([hq,Zt],ZO),xq=F([YO,Zt,Ko],Ho),yq=F([xq,Zt],JO),gq=F([fq,yq,pq],pf),vq=F([Jt,iq,cq,dq,gq,De,Zt],vb),N3=F([Jt,De,Yo,_b,Uu,Zt,vq],bb),bq=F([N3,Jt,Ob],Nb),jq=F([Jt,N3,bq,Zt],Sb),k3=e=>{var t=Zt(e),r=Ko(e),n=!1;return Wu(e,t,r,n)},S3=F([Jt,k3],Uh),A3=F([Jt,Ob,jq,S3],wb),wq=F([De,_b,Jt,Zt],o3),Nq=F([De,_b,Jt,Zt],c3),kq=(e,t,r,n,a,i,l,o)=>{if(t){var{type:c}=t,u=js(e,o);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,m=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return m=o==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?nr(a[0]-a[1])*2*m:m,u&&l?l.map((f,h)=>({coordinate:n(f)+m,value:f,index:h,offset:m})):n.domain().map((f,h)=>({coordinate:n(f)+m,value:i?i[f]:f,index:h,offset:m}))}}},la=F([De,Jt,Ob,A3,k3,wq,Nq,Zt],kq),Tb=F([d3,m3,FU],(e,t,r)=>f3(r.shared,e,t)),C3=e=>e.tooltip.settings.trigger,Db=e=>e.tooltip.settings.defaultIndex,Yh=F([Go,Tb,C3,Db],v3),si=F([Yh,Yo],Eb),P3=F([la,si],h3),E3=F([Yh],e=>{if(e)return e.dataKey}),O3=F([Go,Tb,C3,Db],j3),Sq=F([na,sa,De,Yt,la,Db,O3,Qu],b3),Aq=F([Yh,Sq],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Cq=F([Yh],e=>e.active),Pq=F([O3,si,fi,Jt,P3,Qu,Tb],w3),Eq=F([Pq],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function fk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fk(Object(r),!0).forEach(function(n){Oq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oq(e,t,r){return(t=_q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _q(e){var t=Tq(e,"string");return typeof t=="symbol"?t:t+""}function Tq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dq=()=>pe(Jt),Mq=()=>{var e=Dq(),t=pe(la),r=pe(A3);return il(hk(hk({},e),{},{scale:r}),t)},_3=()=>pe(ab),Mb=(e,t)=>t,T3=(e,t,r)=>r,Ib=(e,t,r,n)=>n,Iq=F(la,e=>Sh(e,t=>t.coordinate)),Rb=F([Go,Mb,T3,Ib],v3),D3=F([Rb,Yo],Eb),Rq=(e,t,r)=>{if(t!=null){var n=Go(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},M3=F([Go,Mb,T3,Ib],j3),xf=F([na,sa,De,Yt,la,Ib,M3,Qu],b3),Fq=F([Rb,xf],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),I3=F(la,D3,h3),Lq=F([M3,D3,fi,Jt,I3,Qu,Mb],w3),$q=F([Rb],e=>({isActive:e.active,activeIndex:e.index})),Bq=(e,t,r,n,a,i,l,o)=>{if(!(!e||!t||!n||!a||!i)){var c=_8(e.chartX,e.chartY,t,r,o);if(c){var u=D8(c,t),d=v8(u,l,i,n,a),m=T8(t,i,d,c);return{activeIndex:String(d),activeCoordinate:m}}}};function Iy(){return Iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iy.apply(null,arguments)}function pk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Od(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pk(Object(r),!0).forEach(function(n){zq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zq(e,t,r){return(t=Uq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uq(e){var t=qq(e,"string");return typeof t=="symbol"?t:t+""}function qq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vq(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:i,layout:l,cursor:o,tooltipEventType:c,chartName:u}=e,d=t,m=r,f=n;if(!o||!d||u!=="ScatterChart"&&c!=="axis")return null;var h,p;if(u==="ScatterChart")h=d,p=x7;else if(u==="BarChart")h=y7(l,d,a,i),p=PE;else if(l==="radial"){var{cx:y,cy:b,radius:v,startAngle:g,endAngle:x}=EE(d);h={cx:y,cy:b,startAngle:g,endAngle:x,innerRadius:v,outerRadius:v},p=_E}else h={points:Y7(l,d,a)},p=Kl;var w=typeof o=="object"&&"className"in o?o.className:void 0,N=Od(Od(Od(Od({stroke:"#ccc",pointerEvents:"none"},a),h),it(o,!1)),{},{payload:m,payloadIndex:f,className:Re("recharts-tooltip-cursor",w)});return j.isValidElement(o)?j.cloneElement(o,N):j.createElement(p,N)}function Kq(e){var t=Mq(),r=dE(),n=Ru(),a=_3();return j.createElement(Vq,Iy({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var R3=j.createContext(null),Hq=()=>j.useContext(R3),F3={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,m,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new a(d,m||c,f),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],h]:c._events[p].push(h):(c._events[p]=h,c._eventsCount++),c}function l(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,m;if(this._eventsCount===0)return u;for(m in d=this._events)t.call(d,m)&&u.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,m=this._events[d];if(!m)return[];if(m.fn)return[m.fn];for(var f=0,h=m.length,p=new Array(h);f<h;f++)p[f]=m[f].fn;return p},o.prototype.listenerCount=function(u){var d=r?r+u:u,m=this._events[d];return m?m.fn?1:m.length:0},o.prototype.emit=function(u,d,m,f,h,p){var y=r?r+u:u;if(!this._events[y])return!1;var b=this._events[y],v=arguments.length,g,x;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),v){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,m),!0;case 4:return b.fn.call(b.context,d,m,f),!0;case 5:return b.fn.call(b.context,d,m,f,h),!0;case 6:return b.fn.call(b.context,d,m,f,h,p),!0}for(x=1,g=new Array(v-1);x<v;x++)g[x-1]=arguments[x];b.fn.apply(b.context,g)}else{var w=b.length,N;for(x=0;x<w;x++)switch(b[x].once&&this.removeListener(u,b[x].fn,void 0,!0),v){case 1:b[x].fn.call(b[x].context);break;case 2:b[x].fn.call(b[x].context,d);break;case 3:b[x].fn.call(b[x].context,d,m);break;case 4:b[x].fn.call(b[x].context,d,m,f);break;default:if(!g)for(N=1,g=new Array(v-1);N<v;N++)g[N-1]=arguments[N];b[x].fn.apply(b[x].context,g)}}return!0},o.prototype.on=function(u,d,m){return i(this,u,d,m,!1)},o.prototype.once=function(u,d,m){return i(this,u,d,m,!0)},o.prototype.removeListener=function(u,d,m,f){var h=r?r+u:u;if(!this._events[h])return this;if(!d)return l(this,h),this;var p=this._events[h];if(p.fn)p.fn===d&&(!f||p.once)&&(!m||p.context===m)&&l(this,h);else{for(var y=0,b=[],v=p.length;y<v;y++)(p[y].fn!==d||f&&!p[y].once||m&&p[y].context!==m)&&b.push(p[y]);b.length?this._events[h]=b.length===1?b[0]:b:l(this,h)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&l(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(F3);var Wq=F3.exports;const Qq=bs(Wq);var gu=new Qq,Ry="recharts.syncEvent.tooltip",xk="recharts.syncEvent.brush";function Xh(e,t){if(t){var r=Number.parseInt(t,10);if(!Zr(r))return e==null?void 0:e[r]}}var Gq={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},L3=pn({name:"options",initialState:Gq,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Yq=L3.reducer,{createEventEmitter:Xq}=L3.actions;function Zq(e){return e.tooltip.syncInteraction}var Jq={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},$3=pn({name:"chartData",initialState:Jq,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:yk,setDataStartEndIndexes:eV,setComputedData:hee}=$3.actions,tV=$3.reducer,B3=()=>{};function rV(){var e=pe(ib),t=pe(lb),r=Lt(),n=pe(TO),a=pe(la),i=Ru(),l=_v(),o=pe(c=>c.rootProps.className);j.useEffect(()=>{if(e==null)return B3;var c=(u,d,m)=>{if(t!==m&&e===u){if(n==="index"){r(d);return}if(a!=null){var f;if(typeof n=="function"){var h={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},p=n(a,h);f=a[p]}else n==="value"&&(f=a.find(k=>String(k.value)===d.payload.label));var{coordinate:y}=d.payload;if(f==null||d.payload.active===!1||y==null||l==null){r(Dy({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:b,y:v}=y,g=Math.min(b,l.x+l.width),x=Math.min(v,l.y+l.height),w={x:i==="horizontal"?f.coordinate:g,y:i==="horizontal"?x:f.coordinate},N=Dy({active:d.payload.active,coordinate:w,dataKey:d.payload.dataKey,index:String(f.index),label:d.payload.label});r(N)}}};return gu.on(Ry,c),()=>{gu.off(Ry,c)}},[o,r,t,e,n,a,i,l])}function nV(){var e=pe(ib),t=pe(lb),r=Lt();j.useEffect(()=>{if(e==null)return B3;var n=(a,i,l)=>{t!==l&&e===a&&r(eV(i))};return gu.on(xk,n),()=>{gu.off(xk,n)}},[r,t,e])}function sV(){var e=Lt();j.useEffect(()=>{e(Xq())},[e]),rV(),nV()}function aV(e,t,r,n,a,i){var l=pe(f=>Rq(f,e,t)),o=pe(lb),c=pe(ib),u=pe(TO),d=pe(Zq),m=d==null?void 0:d.active;j.useEffect(()=>{if(!m&&c!=null&&o!=null){var f=Dy({active:i,coordinate:r,dataKey:l,index:a,label:typeof n=="number"?String(n):n});gu.emit(Ry,c,f,o)}},[m,r,l,a,n,o,c,u,i])}function gk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gk(Object(r),!0).forEach(function(n){iV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iV(e,t,r){return(t=lV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lV(e){var t=oV(e,"string");return typeof t=="symbol"?t:t+""}function oV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cV(e){return e.dataKey}function uV(e,t){return j.isValidElement(e)?j.cloneElement(e,t):typeof e=="function"?j.createElement(e,t):j.createElement(Q8,t)}var bk=[],dV={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!ui.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Wl(e){var t=Lr(e,dV),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:i,content:l,filterNull:o,isAnimationActive:c,offset:u,payloadUniqBy:d,position:m,reverseDirection:f,useTranslate3d:h,wrapperStyle:p,cursor:y,shared:b,trigger:v,defaultIndex:g,portal:x,axisId:w}=t,N=Lt(),k=typeof g=="number"?String(g):g;j.useEffect(()=>{N(zU({shared:b,trigger:v,axisId:w,active:r,defaultIndex:k}))},[N,b,v,w,r,k]);var S=_v(),A=yE(),P=RU(b),{activeIndex:C,isActive:D}=pe(we=>$q(we,P,v,k)),E=pe(we=>Lq(we,P,v,k)),L=pe(we=>I3(we,P,v,k)),U=pe(we=>Fq(we,P,v,k)),I=E,q=Hq(),T=r??D,[M,V]=c$([I,T]),H=P==="axis"?L:void 0;aV(P,v,U,H,C,T);var se=x??q;if(se==null)return null;var Y=I??bk;T||(Y=bk),o&&Y.length&&(Y=CL(I.filter(we=>we.value!=null&&(we.hide!==!0||t.includeHidden)),d,cV));var xe=Y.length>0,fe=j.createElement(t7,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:c,active:T,coordinate:U,hasPayload:xe,offset:u,position:m,reverseDirection:f,useTranslate3d:h,viewBox:S,wrapperStyle:p,lastBoundingBox:M,innerRef:V,hasPortalFromProps:!!x},uV(l,vk(vk({},t),{},{payload:Y,label:H,active:T,coordinate:U,accessibilityLayer:A})));return j.createElement(j.Fragment,null,oC.createPortal(fe,se),T&&j.createElement(Kq,{cursor:y,tooltipEventType:P,coordinate:U,payload:I,index:C}))}var z3={},U3={},q3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let l,o=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{o!==null&&(r.apply(l,o),l=void 0,o=null)},m=()=>{u&&d(),y()};let f=null;const h=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,m()},n)},p=()=>{f!==null&&(clearTimeout(f),f=null)},y=()=>{p(),l=void 0,o=null},b=()=>{d()},v=function(...g){if(a!=null&&a.aborted)return;l=this,o=g;const x=f==null;h(),c&&x&&d()};return v.schedule=h,v.cancel=y,v.flush=b,a==null||a.addEventListener("abort",y,{once:!0}),v}e.debounce=t})(q3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q3;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:l=!1,trailing:o=!0,maxWait:c}=i,u=Array(2);l&&(u[0]="leading"),o&&(u[1]="trailing");let d,m=null;const f=t.debounce(function(...y){d=n.apply(this,y),m=null},a,{edges:u}),h=function(...y){return c!=null&&(m===null&&(m=Date.now()),Date.now()-m>=c)?(d=n.apply(this,y),m=Date.now(),f.cancel(),f.schedule(),d):(f.apply(this,y),d)},p=()=>(f.flush(),d);return h.cancel=f.cancel,h.flush=p,h}e.debounce=r})(U3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=U3;function r(n,a=0,i={}){const{leading:l=!0,trailing:o=!0}=i;return t.debounce(n,a,{leading:l,maxWait:a,trailing:o})}e.throttle=r})(z3);var mV=z3.throttle;const fV=bs(mV);var Rc=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function jk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function x0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jk(Object(r),!0).forEach(function(n){hV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hV(e,t,r){return(t=pV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pV(e){var t=xV(e,"string");return typeof t=="symbol"?t:t+""}function xV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ql=j.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a="100%",height:i="100%",minWidth:l=0,minHeight:o,maxHeight:c,children:u,debounce:d=0,id:m,className:f,onResize:h,style:p={}}=e,y=j.useRef(null),b=j.useRef();b.current=h,j.useImperativeHandle(t,()=>y.current);var[v,g]=j.useState({containerWidth:n.width,containerHeight:n.height}),x=j.useCallback((N,k)=>{g(S=>{var A=Math.round(N),P=Math.round(k);return S.containerWidth===A&&S.containerHeight===P?S:{containerWidth:A,containerHeight:P}})},[]);j.useEffect(()=>{var N=P=>{var C,{width:D,height:E}=P[0].contentRect;x(D,E),(C=b.current)===null||C===void 0||C.call(b,D,E)};d>0&&(N=fV(N,d,{trailing:!0,leading:!1}));var k=new ResizeObserver(N),{width:S,height:A}=y.current.getBoundingClientRect();return x(S,A),k.observe(y.current),()=>{k.disconnect()}},[x,d]);var w=j.useMemo(()=>{var{containerWidth:N,containerHeight:k}=v;if(N<0||k<0)return null;Rc(Ai(a)||Ai(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,i),Rc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var S=Ai(a)?N:a,A=Ai(i)?k:i;return r&&r>0&&(S?A=S/r:A&&(S=A*r),c&&A>c&&(A=c)),Rc(S>0||A>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,A,a,i,l,o,r),j.Children.map(u,P=>j.cloneElement(P,{width:S,height:A,style:x0({width:S,height:A},P.props.style)}))},[r,u,i,c,o,l,v,a]);return j.createElement("div",{id:m?"".concat(m):void 0,className:Re("recharts-responsive-container",f),style:x0(x0({},p),{},{width:a,height:i,minWidth:l,minHeight:o,maxHeight:c}),ref:y},j.createElement("div",{style:{width:0,height:0,overflow:"visible"}},w))}),Xo=e=>null;Xo.displayName="Cell";function yV(e,t,r){return(t=gV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gV(e){var t=vV(e,"string");return typeof t=="symbol"?t:t+""}function vV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class bV{constructor(t){yV(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function wk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wk(Object(r),!0).forEach(function(n){wV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wV(e,t,r){return(t=NV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NV(e){var t=kV(e,"string");return typeof t=="symbol"?t:t+""}function kV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SV={cacheSize:2e3,enableCache:!0},V3=jV({},SV),Nk=new bV(V3.cacheSize),AV={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},kk="recharts_measurement_span";function CV(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",l=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(l,"|").concat(o)}var Sk=(e,t)=>{try{var r=document.getElementById(kk);r||(r=document.createElement("span"),r.setAttribute("id",kk),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,AV,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Fc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ui.isSsr)return{width:0,height:0};if(!V3.enableCache)return Sk(t,r);var n=CV(t,r),a=Nk.get(n);if(a)return a;var i=Sk(t,r);return Nk.set(n,i),i},Ak=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ck=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,PV=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,EV=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,K3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},OV=Object.keys(K3),Ml="NaN";function _V(e,t){return e*K3[t]}class zr{static parse(t){var r,[,n,a]=(r=EV.exec(t))!==null&&r!==void 0?r:[];return new zr(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Zr(t)&&(this.unit=""),r!==""&&!PV.test(r)&&(this.num=NaN,this.unit=""),OV.includes(r)&&(this.num=_V(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new zr(NaN,""):new zr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new zr(NaN,""):new zr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new zr(NaN,""):new zr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new zr(NaN,""):new zr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Zr(this.num)}}function H3(e){if(e.includes(Ml))return Ml;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=Ak.exec(t))!==null&&r!==void 0?r:[],l=zr.parse(n??""),o=zr.parse(i??""),c=a==="*"?l.multiply(o):l.divide(o);if(c.isNaN())return Ml;t=t.replace(Ak,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,m,f]=(u=Ck.exec(t))!==null&&u!==void 0?u:[],h=zr.parse(d??""),p=zr.parse(f??""),y=m==="+"?h.add(p):h.subtract(p);if(y.isNaN())return Ml;t=t.replace(Ck,y.toString())}return t}var Pk=/\(([^()]*)\)/;function TV(e){for(var t=e,r;(r=Pk.exec(t))!=null;){var[,n]=r;t=t.replace(Pk,H3(n))}return t}function DV(e){var t=e.replace(/\s+/g,"");return t=TV(t),t=H3(t),t}function MV(e){try{return DV(e)}catch{return Ml}}function y0(e){var t=MV(e.slice(5,-1));return t===Ml?"":t}var IV=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],RV=["dx","dy","angle","className","breakAll"];function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fy.apply(null,arguments)}function Ek(e,t){if(e==null)return{};var r,n,a=FV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function FV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var W3=/[ \f\n\r\t\v\u2028\u2029]+/,Q3=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];lt(t)||(r?a=t.toString().split(""):a=t.toString().split(W3));var i=a.map(o=>({word:o,width:Fc(o,n).width})),l=r?0:Fc(" ",n).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},LV=(e,t,r,n,a)=>{var{maxLines:i,children:l,style:o,breakAll:c}=e,u=re(i),d=l,m=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce((E,L)=>{var{word:U,width:I}=L,q=E[E.length-1];if(q&&(n==null||a||q.width+I+r<Number(n)))q.words.push(U),q.width+=I+r;else{var T={words:[U],width:I};E.push(T)}return E},[])},f=m(t),h=C=>C.reduce((D,E)=>D.width>E.width?D:E);if(!u||a)return f;var p=f.length>i||h(f).width>Number(n);if(!p)return f;for(var y="…",b=C=>{var D=d.slice(0,C),E=Q3({breakAll:c,style:o,children:D+y}).wordsWithComputedWidth,L=m(E),U=L.length>i||h(L).width>Number(n);return[U,L]},v=0,g=d.length-1,x=0,w;v<=g&&x<=d.length-1;){var N=Math.floor((v+g)/2),k=N-1,[S,A]=b(k),[P]=b(N);if(!S&&!P&&(v=N+1),S&&P&&(g=N-1),!S&&P){w=A;break}x++}return w||f},Ok=e=>{var t=lt(e)?[]:e.toString().split(W3);return[{words:t}]},$V=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:l}=e;if((t||r)&&!ui.isSsr){var o,c,u=Q3({breakAll:i,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:m}=u;o=d,c=m}else return Ok(n);return LV({breakAll:i,children:n,maxLines:l,style:a},o,c,t,r)}return Ok(n)},_k="#808080",Zh=j.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:l=!1,textAnchor:o="start",verticalAnchor:c="end",fill:u=_k}=e,d=Ek(e,IV),m=j.useMemo(()=>$V({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:l,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,l,d.style,d.width]),{dx:f,dy:h,angle:p,className:y,breakAll:b}=d,v=Ek(d,RV);if(!xs(r)||!xs(n))return null;var g=r+(re(f)?f:0),x=n+(re(h)?h:0),w;switch(c){case"start":w=y0("calc(".concat(i,")"));break;case"middle":w=y0("calc(".concat((m.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:w=y0("calc(".concat(m.length-1," * -").concat(a,")"));break}var N=[];if(l){var k=m[0].width,{width:S}=d;N.push("scale(".concat(re(S)?S/k:1,")"))}return p&&N.push("rotate(".concat(p,", ").concat(g,", ").concat(x,")")),N.length&&(v.transform=N.join(" ")),j.createElement("text",Fy({},it(v,!0),{ref:t,x:g,y:x,className:Re("recharts-text",y),textAnchor:o,fill:u.includes("url")?_k:u}),m.map((A,P)=>{var C=A.words.join(b?"":" ");return j.createElement("tspan",{x:g,dy:P===0?w:a,key:"".concat(C,"-").concat(P)},C)}))});Zh.displayName="Text";var BV=["offset"],zV=["labelRef"];function Tk(e,t){if(e==null)return{};var r,n,a=UV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function UV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Dk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dk(Object(r),!0).forEach(function(n){qV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qV(e,t,r){return(t=VV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VV(e){var t=KV(e,"string");return typeof t=="symbol"?t:t+""}function KV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _s(){return _s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_s.apply(null,arguments)}var HV=e=>{var{value:t,formatter:r}=e,n=lt(e.children)?t:e.children;return typeof r=="function"?r(n):n},Fb=e=>e!=null&&typeof e=="function",WV=(e,t)=>{var r=nr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},QV=(e,t,r,n)=>{var{position:a,offset:i,className:l}=e,{cx:o,cy:c,innerRadius:u,outerRadius:d,startAngle:m,endAngle:f,clockWise:h}=n,p=(u+d)/2,y=WV(m,f),b=y>=0?1:-1,v,g;a==="insideStart"?(v=m+b*i,g=h):a==="insideEnd"?(v=f-b*i,g=!h):a==="end"&&(v=f+b*i,g=h),g=y<=0?g:!g;var x=Ut(o,c,p,v),w=Ut(o,c,p,v+(g?1:-1)*359),N="M".concat(x.x,",").concat(x.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(g?0:1,`,
    `).concat(w.x,",").concat(w.y),k=lt(e.id)?ou("recharts-radial-line-"):e.id;return j.createElement("text",_s({},r,{dominantBaseline:"central",className:Re("recharts-radial-bar-label",l)}),j.createElement("defs",null,j.createElement("path",{id:k,d:N})),j.createElement("textPath",{xlinkHref:"#".concat(k)},t))},GV=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:l,startAngle:o,endAngle:c}=e,u=(o+c)/2;if(r==="outside"){var{x:d,y:m}=Ut(n,a,l+t,u);return{x:d,y:m,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var f=(i+l)/2,{x:h,y:p}=Ut(n,a,f,u);return{x:h,y:p,textAnchor:"middle",verticalAnchor:"middle"}},YV=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,{x:i,y:l,width:o,height:c}=t,u=c>=0?1:-1,d=u*n,m=u>0?"end":"start",f=u>0?"start":"end",h=o>=0?1:-1,p=h*n,y=h>0?"end":"start",b=h>0?"start":"end";if(a==="top"){var v={x:i+o/2,y:l-u*n,textAnchor:"middle",verticalAnchor:m};return Pt(Pt({},v),r?{height:Math.max(l-r.y,0),width:o}:{})}if(a==="bottom"){var g={x:i+o/2,y:l+c+d,textAnchor:"middle",verticalAnchor:f};return Pt(Pt({},g),r?{height:Math.max(r.y+r.height-(l+c),0),width:o}:{})}if(a==="left"){var x={x:i-p,y:l+c/2,textAnchor:y,verticalAnchor:"middle"};return Pt(Pt({},x),r?{width:Math.max(x.x-r.x,0),height:c}:{})}if(a==="right"){var w={x:i+o+p,y:l+c/2,textAnchor:b,verticalAnchor:"middle"};return Pt(Pt({},w),r?{width:Math.max(r.x+r.width-w.x,0),height:c}:{})}var N=r?{width:o,height:c}:{};return a==="insideLeft"?Pt({x:i+p,y:l+c/2,textAnchor:b,verticalAnchor:"middle"},N):a==="insideRight"?Pt({x:i+o-p,y:l+c/2,textAnchor:y,verticalAnchor:"middle"},N):a==="insideTop"?Pt({x:i+o/2,y:l+d,textAnchor:"middle",verticalAnchor:f},N):a==="insideBottom"?Pt({x:i+o/2,y:l+c-d,textAnchor:"middle",verticalAnchor:m},N):a==="insideTopLeft"?Pt({x:i+p,y:l+d,textAnchor:b,verticalAnchor:f},N):a==="insideTopRight"?Pt({x:i+o-p,y:l+d,textAnchor:y,verticalAnchor:f},N):a==="insideBottomLeft"?Pt({x:i+p,y:l+c-d,textAnchor:b,verticalAnchor:m},N):a==="insideBottomRight"?Pt({x:i+o-p,y:l+c-d,textAnchor:y,verticalAnchor:m},N):a&&typeof a=="object"&&(re(a.x)||Ai(a.x))&&(re(a.y)||Ai(a.y))?Pt({x:i+Ir(a.x,o),y:l+Ir(a.y,c),textAnchor:"end",verticalAnchor:"end"},N):Pt({x:i+o/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},N)},XV=e=>"cx"in e&&re(e.cx);function nn(e){var{offset:t=5}=e,r=Tk(e,BV),n=Pt({offset:t},r),{viewBox:a,position:i,value:l,children:o,content:c,className:u="",textBreakAll:d,labelRef:m}=n,f=pe(FO),h=_v(),p=i==="center"?h:f??h,y=a||p;if(!y||lt(l)&&lt(o)&&!j.isValidElement(c)&&typeof c!="function")return null;var b=Pt(Pt({},n),{},{viewBox:y});if(j.isValidElement(c)){var{labelRef:v}=b,g=Tk(b,zV);return j.cloneElement(c,g)}var x;if(typeof c=="function"){if(x=j.createElement(c,b),j.isValidElement(x))return x}else x=HV(n);var w=XV(y),N=it(n,!0);if(w&&(i==="insideStart"||i==="insideEnd"||i==="end"))return QV(n,x,N,y);var k=w?GV(y,n.offset,n.position):YV(n,y);return j.createElement(Zh,_s({ref:m,className:Re("recharts-label",u)},N,k,{breakAll:d}),x)}nn.displayName="Label";var G3=e=>{var{cx:t,cy:r,angle:n,startAngle:a,endAngle:i,r:l,radius:o,innerRadius:c,outerRadius:u,x:d,y:m,top:f,left:h,width:p,height:y,clockWise:b,labelViewBox:v}=e;if(v)return v;if(re(p)&&re(y)){if(re(d)&&re(m))return{x:d,y:m,width:p,height:y};if(re(f)&&re(h))return{x:f,y:h,width:p,height:y}}if(re(d)&&re(m))return{x:d,y:m,width:0,height:0};if(re(t)&&re(r))return{cx:t,cy:r,startAngle:a||n||0,endAngle:i||n||0,innerRadius:c||0,outerRadius:u||o||l||0,clockWise:b};if(e.viewBox)return e.viewBox},ZV=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?j.createElement(nn,_s({key:"label-implicit"},n)):xs(e)?j.createElement(nn,_s({key:"label-implicit",value:e},n)):j.isValidElement(e)?e.type===nn?j.cloneElement(e,Pt({key:"label-implicit"},n)):j.createElement(nn,_s({key:"label-implicit",content:e},n)):Fb(e)?j.createElement(nn,_s({key:"label-implicit",content:e},n)):e&&typeof e=="object"?j.createElement(nn,_s({},e,{key:"label-implicit"},n)):null},JV=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:a,labelRef:i}=t,l=G3(t),o=Mu(a,nn).map((u,d)=>j.cloneElement(u,{viewBox:r||l,key:"label-".concat(d)}));if(!n)return o;var c=ZV(t.label,r||l,i);return[c,...o]};nn.parseViewBox=G3;nn.renderCallByParent=JV;var Y3={},X3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(X3);var Z3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Z3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X3,r=Z3,n=bh;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(Y3);var eK=Y3.last;const tK=bs(eK);var rK=["valueAccessor"],nK=["data","dataKey","clockWise","id","textBreakAll"];function yf(){return yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yf.apply(null,arguments)}function Mk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ik(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mk(Object(r),!0).forEach(function(n){sK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sK(e,t,r){return(t=aK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aK(e){var t=iK(e,"string");return typeof t=="symbol"?t:t+""}function iK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rk(e,t){if(e==null)return{};var r,n,a=lK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function lK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var oK=e=>Array.isArray(e.value)?tK(e.value):e.value;function $s(e){var{valueAccessor:t=oK}=e,r=Rk(e,rK),{data:n,dataKey:a,clockWise:i,id:l,textBreakAll:o}=r,c=Rk(r,nK);return!n||!n.length?null:j.createElement(Ft,{className:"recharts-label-list"},n.map((u,d)=>{var m=lt(a)?t(u,d):Ye(u&&u.payload,a),f=lt(l)?{}:{id:"".concat(l,"-").concat(d)};return j.createElement(nn,yf({},it(u,!0),c,f,{parentViewBox:u.parentViewBox,value:m,textBreakAll:o,viewBox:nn.parseViewBox(lt(i)?u:Ik(Ik({},u),{},{clockWise:i})),key:"label-".concat(d),index:d}))}))}$s.displayName="LabelList";function cK(e,t){return e?e===!0?j.createElement($s,{key:"labelList-implicit",data:t}):j.isValidElement(e)||Fb(e)?j.createElement($s,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?j.createElement($s,yf({data:t},e,{key:"labelList-implicit"})):null:null}function uK(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:n}=e,a=Mu(n,$s).map((l,o)=>j.cloneElement(l,{data:t,key:"labelList-".concat(o)}));if(!r)return a;var i=cK(e.label,t);return[i,...a]}$s.renderCallByParent=uK;function Ly(){return Ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ly.apply(null,arguments)}var Lb=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=Re("recharts-dot",a);return t===+t&&r===+r&&n===+n?j.createElement("circle",Ly({},es(e),uv(e),{className:i,cx:t,cy:r,r:n})):null},J3=e=>e.graphicalItems.polarItems,dK=F([bt,qu],mb),$b=F([J3,$t,dK],fb),mK=F([$b],hb),Bb=F([mK,rb],pb),fK=F([Bb,$t,$b],yb),hK=F([Bb,$t,$b],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var i,l=Ye(n,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ye(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),Fk=()=>{},pK=F([$t,e3,Fk,hK,Fk,De,bt],vb),e_=F([$t,De,Bb,fK,Uu,bt,pK],bb),xK=F([e_,$t,Wo],Nb);F([$t,e_,xK,bt],Sb);var yK={radiusAxis:{},angleAxis:{}},t_=pn({name:"polarAxis",initialState:yK,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:pee,removeRadiusAxis:xee,addAngleAxis:yee,removeAngleAxis:gee}=t_.actions,gK=t_.reducer;function Lk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $k(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lk(Object(r),!0).forEach(function(n){vK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vK(e,t,r){return(t=bK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bK(e){var t=jK(e,"string");return typeof t=="symbol"?t:t+""}function jK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wK=(e,t)=>t,zb=F([J3,wK],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),NK=[],Ub=(e,t,r)=>(r==null?void 0:r.length)===0?NK:r,r_=F([rb,zb,Ub],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(i=>$k($k({},t.presentationProps),i.props))),a!=null)return a}}),kK=F([r_,zb,Ub],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var i,l=Ye(n,t.nameKey,t.name),o;return r!=null&&(i=r[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?o=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:ci(l,t.dataKey),color:o,payload:n,type:t.legendType}})}),SK=F([r_,zb,Ub,Yt],(e,t,r,n)=>{if(!(t==null||e==null))return xH({offset:n,pieSettings:t,displayedData:e,cells:r})}),n_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(n_);var AK=n_.isPlainObject;const CK=bs(AK);function gf(){return gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gf.apply(null,arguments)}var Bk=(e,t,r,n,a)=>{var i=r-n,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+r,",").concat(t),l+="L ".concat(e+r-i/2,",").concat(t+a),l+="L ".concat(e+r-i/2-n,",").concat(t+a),l+="L ".concat(e,",").concat(t," Z"),l},PK={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},EK=e=>{var t=Lr(e,PK),r=j.useRef(),[n,a]=j.useState(-1);j.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&a(b)}catch{}},[]);var{x:i,y:l,upperWidth:o,lowerWidth:c,height:u,className:d}=t,{animationEasing:m,animationDuration:f,animationBegin:h,isUpdateAnimationActive:p}=t;if(i!==+i||l!==+l||o!==+o||c!==+c||u!==+u||o===0&&c===0||u===0)return null;var y=Re("recharts-trapezoid",d);return p?j.createElement(tf,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:u,x:i,y:l},to:{upperWidth:o,lowerWidth:c,height:u,x:i,y:l},duration:f,animationEasing:m,isActive:p},b=>{var{upperWidth:v,lowerWidth:g,height:x,x:w,y:N}=b;return j.createElement(tf,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:f,easing:m},j.createElement("path",gf({},it(t,!0),{className:y,d:Bk(w,N,v,g,x),ref:r})))}):j.createElement("g",null,j.createElement("path",gf({},it(t,!0),{className:y,d:Bk(i,l,o,c,u)})))},OK=["option","shapeType","propTransformer","activeClassName","isActive"];function _K(e,t){if(e==null)return{};var r,n,a=TK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function TK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zk(Object(r),!0).forEach(function(n){DK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DK(e,t,r){return(t=MK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MK(e){var t=IK(e,"string");return typeof t=="symbol"?t:t+""}function IK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RK(e,t){return vf(vf({},t),e)}function FK(e,t){return e==="symbols"}function Uk(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return j.createElement(PE,r);case"trapezoid":return j.createElement(EK,r);case"sector":return j.createElement(_E,r);case"symbols":if(FK(t))return j.createElement(aP,r);break;default:return null}}function LK(e){return j.isValidElement(e)?e.props:e}function s_(e){var{option:t,shapeType:r,propTransformer:n=RK,activeClassName:a="recharts-active-shape",isActive:i}=e,l=_K(e,OK),o;if(j.isValidElement(t))o=j.cloneElement(t,vf(vf({},l),LK(t)));else if(typeof t=="function")o=t(l);else if(CK(t)&&typeof t!="boolean"){var c=n(t,l);o=j.createElement(Uk,{shapeType:r,elementProps:c})}else{var u=l;o=j.createElement(Uk,{shapeType:r,elementProps:u})}return i?j.createElement(Ft,{className:a},o):o}var qb=(e,t)=>{var r=Lt();return(n,a)=>i=>{e==null||e(n,a,i),r(x3({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},Vb=e=>{var t=Lt();return(r,n)=>a=>{e==null||e(r,n,a),t(UU())}},Kb=(e,t)=>{var r=Lt();return(n,a)=>i=>{e==null||e(n,a,i),r(qU({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function Jh(e){var{fn:t,args:r}=e,n=Lt(),a=Sr();return j.useEffect(()=>{if(!a){var i=t(r);return n($U(i)),()=>{n(BU(i))}}},[t,r,n,a]),null}var a_=()=>{};function Hb(e){var{legendPayload:t}=e,r=Lt(),n=Sr();return j.useEffect(()=>n?a_:(r(pE(t)),()=>{r(xE(t))}),[r,n,t]),null}function $K(e){var{legendPayload:t}=e,r=Lt(),n=pe(De);return j.useEffect(()=>n!=="centric"&&n!=="radial"?a_:(r(pE(t)),()=>{r(xE(t))}),[r,n,t]),null}function ep(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=j.useRef(ou(t)),n=j.useRef(e);return n.current!==e&&(r.current=ou(t),n.current=e),r.current}var g0,BK=()=>{var[e]=j.useState(()=>ou("uid-"));return e},zK=(g0=a2.useId)!==null&&g0!==void 0?g0:BK;function UK(e,t){var r=zK();return t||(e?"".concat(e,"-").concat(r):r)}var qK=j.createContext(void 0),tp=e=>{var{id:t,type:r,children:n}=e,a=UK("recharts-".concat(r),t);return j.createElement(qK.Provider,{value:a},n(a))},VK={cartesianItems:[],polarItems:[]},i_=pn({name:"graphicalItems",initialState:VK,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,a=Fs(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},removeCartesianGraphicalItem(e,t){var r=Fs(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=Fs(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:KK,replaceCartesianGraphicalItem:HK,removeCartesianGraphicalItem:WK,addPolarGraphicalItem:QK,removePolarGraphicalItem:GK}=i_.actions,YK=i_.reducer;function Wb(e){var t=Lt(),r=j.useRef(null);return j.useEffect(()=>{r.current===null?t(KK(e)):r.current!==e&&t(HK({prev:r.current,next:e})),r.current=e},[t,e]),j.useEffect(()=>()=>{r.current&&(t(WK(r.current)),r.current=null)},[t]),null}function XK(e){var t=Lt();return j.useEffect(()=>(t(QK(e)),()=>{t(GK(e))}),[t,e]),null}function ZK(){}var JK={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},qk={t:0},v0={t:1};function rp(e){var t=Lr(e,JK),{isActive:r,canBegin:n,duration:a,easing:i,begin:l,onAnimationEnd:o,onAnimationStart:c,children:u}=t,d=CE("JavascriptAnimate",t.animationManager),[m,f]=j.useState(r?qk:v0),h=j.useRef(null);return j.useEffect(()=>{r||f(v0)},[r]),j.useEffect(()=>{if(!r||!n)return ZK;var p=AE(qk,v0,kE(i),a,f,d.getTimeoutController()),y=()=>{h.current=p()};return d.start([c,l,y,a,o]),()=>{d.stop(),h.current&&h.current(),o()}},[r,n,a,i,l,c,o,d]),u(m.t)}var eH=["onMouseEnter","onClick","onMouseLeave"],tH=["id"],rH=["id"];function Qb(e,t){if(e==null)return{};var r,n,a=nH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function nH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Vk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vk(Object(r),!0).forEach(function(n){sH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sH(e,t,r){return(t=aH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aH(e){var t=iH(e,"string");return typeof t=="symbol"?t:t+""}function iH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Js(){return Js=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Js.apply(null,arguments)}function lH(e){var t=j.useMemo(()=>Mu(e.children,Xo),[e.children]),r=pe(n=>kK(n,e.id,t));return r==null?null:j.createElement($K,{legendPayload:r})}function oH(e){var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:i,fill:l,name:o,hide:c,tooltipType:u}=e;return{dataDefinedOnItem:n==null?void 0:n.map(d=>d.tooltipPayload),positions:n==null?void 0:n.map(d=>d.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:l,dataKey:t,nameKey:r,name:ci(o,t),hide:c,type:u,color:l,unit:""}}}var cH=(e,t)=>e>t?"start":e<t?"end":"middle",uH=(e,t,r)=>typeof t=="function"?t(e):Ir(t,r,r*.8),dH=(e,t,r)=>{var{top:n,left:a,width:i,height:l}=t,o=rE(i,l),c=a+Ir(e.cx,i,i/2),u=n+Ir(e.cy,l,l/2),d=Ir(e.innerRadius,o,0),m=uH(r,e.outerRadius,o),f=e.maxRadius||Math.sqrt(i*i+l*l)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:m,maxRadius:f}},mH=(e,t)=>{var r=nr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},fH=(e,t)=>{if(j.isValidElement(e))return j.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Re("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return j.createElement(Kl,Js({},t,{type:"linear",className:r}))},hH=(e,t,r)=>{if(j.isValidElement(e))return j.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),j.isValidElement(n)))return n;var a=Re("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return j.createElement(Zh,Js({},t,{alignmentBaseline:"middle",className:a}),n)};function pH(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:i,dataKey:l}=r;if(!n||!a||!t)return null;var o=es(r),c=it(a,!1),u=it(i,!1),d=typeof a=="object"&&"offsetRadius"in a&&a.offsetRadius||20,m=t.map((f,h)=>{var p=(f.startAngle+f.endAngle)/2,y=Ut(f.cx,f.cy,f.outerRadius+d,p),b=Ot(Ot(Ot(Ot({},o),f),{},{stroke:"none"},c),{},{index:h,textAnchor:cH(y.x,f.cx)},y),v=Ot(Ot(Ot(Ot({},o),f),{},{fill:"none",stroke:f.fill},u),{},{index:h,points:[Ut(f.cx,f.cy,f.outerRadius,p),y],key:"line"});return j.createElement(Ft,{key:"label-".concat(f.startAngle,"-").concat(f.endAngle,"-").concat(f.midAngle,"-").concat(h)},i&&fH(i,v),hH(a,b,Ye(f,l)))});return j.createElement(Ft,{className:"recharts-pie-labels"},m)}function l_(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,showLabels:i}=e,l=pe(si),{onMouseEnter:o,onClick:c,onMouseLeave:u}=a,d=Qb(a,eH),m=qb(o,a.dataKey),f=Vb(u),h=Kb(c,a.dataKey);return t==null?null:j.createElement(j.Fragment,null,t.map((p,y)=>{if((p==null?void 0:p.startAngle)===0&&(p==null?void 0:p.endAngle)===0&&t.length!==1)return null;var b=r&&String(y)===l,v=l?n:null,g=b?r:v,x=Ot(Ot({},p),{},{stroke:p.stroke,tabIndex:-1,[oE]:y,[cE]:a.dataKey});return j.createElement(Ft,Js({tabIndex:-1,className:"recharts-pie-sector"},ph(d,p,y),{onMouseEnter:m(p,y),onMouseLeave:f(p,y),onClick:h(p,y),key:"sector-".concat(p==null?void 0:p.startAngle,"-").concat(p==null?void 0:p.endAngle,"-").concat(p.midAngle,"-").concat(y)}),j.createElement(s_,Js({option:g,isActive:b,shapeType:"sector"},x)))}),j.createElement(pH,{sectors:t,props:a,showLabels:i}))}function xH(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:i}=e,{cornerRadius:l,startAngle:o,endAngle:c,dataKey:u,nameKey:d,tooltipType:m}=r,f=Math.abs(r.minAngle),h=mH(o,c),p=Math.abs(h),y=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,b=n.filter(k=>Ye(k,u,0)!==0).length,v=(p>=360?b:b-1)*y,g=p-b*f-v,x=n.reduce((k,S)=>{var A=Ye(S,u,0);return k+(re(A)?A:0)},0),w;if(x>0){var N;w=n.map((k,S)=>{var A=Ye(k,u,0),P=Ye(k,d,S),C=dH(r,i,k),D=(re(A)?A:0)/x,E,L=Ot(Ot({},k),a&&a[S]&&a[S].props);S?E=N.endAngle+nr(h)*y*(A!==0?1:0):E=o;var U=E+nr(h)*((A!==0?f:0)+D*g),I=(E+U)/2,q=(C.innerRadius+C.outerRadius)/2,T=[{name:P,value:A,payload:L,dataKey:u,type:m}],M=Ut(C.cx,C.cy,q,I);return N=Ot(Ot(Ot(Ot({},r.presentationProps),{},{percent:D,cornerRadius:l,name:P,tooltipPayload:T,midAngle:I,middleRadius:q,tooltipPosition:M},L),C),{},{value:Ye(k,u),startAngle:E,endAngle:U,payload:L,paddingAngle:nr(h)*y}),N})}return w}function yH(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:a,animationBegin:i,animationDuration:l,animationEasing:o,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:m}=t,f=ep(t,"recharts-pie-"),h=r.current,[p,y]=j.useState(!0),b=j.useCallback(()=>{typeof m=="function"&&m(),y(!1)},[m]),v=j.useCallback(()=>{typeof d=="function"&&d(),y(!0)},[d]);return j.createElement(rp,{begin:i,duration:l,isActive:a,easing:o,onAnimationStart:v,onAnimationEnd:b,key:f},g=>{var x=[],w=n&&n[0],N=w.startAngle;return n.forEach((k,S)=>{var A=h&&h[S],P=S>0?ni(k,"paddingAngle",0):0;if(A){var C=NN(A.endAngle-A.startAngle,k.endAngle-k.startAngle),D=Ot(Ot({},k),{},{startAngle:N+P,endAngle:N+C(g)+P});x.push(D),N=D.endAngle}else{var{endAngle:E,startAngle:L}=k,U=NN(0,E-L),I=U(g),q=Ot(Ot({},k),{},{startAngle:N+P,endAngle:N+I+P});x.push(q),N=q.endAngle}}),r.current=x,j.createElement(Ft,null,j.createElement(l_,{sectors:x,activeShape:c,inactiveShape:u,allOtherPieProps:t,showLabels:!p}))})}function gH(e){var{sectors:t,isAnimationActive:r,activeShape:n,inactiveShape:a}=e,i=j.useRef(null),l=i.current;return r&&t&&t.length&&(!l||l!==t)?j.createElement(yH,{props:e,previousSectorsRef:i}):j.createElement(l_,{sectors:t,activeShape:n,inactiveShape:a,allOtherPieProps:e,showLabels:!0})}function vH(e){var{hide:t,className:r,rootTabIndex:n}=e,a=Re("recharts-pie",r);return t?null:j.createElement(Ft,{tabIndex:n,className:a},j.createElement(gH,e))}var bH={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!ui.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function jH(e){var{id:t}=e,r=Qb(e,tH),n=j.useMemo(()=>Mu(e.children,Xo),[e.children]),a=pe(i=>SK(i,t,n));return j.createElement(j.Fragment,null,j.createElement(Jh,{fn:oH,args:Ot(Ot({},e),{},{sectors:a})}),j.createElement(vH,Js({},r,{sectors:a})))}function o_(e){var t=Lr(e,bH),{id:r}=t,n=Qb(t,rH),a=es(n);return j.createElement(tp,{id:r,type:"pie"},i=>j.createElement(j.Fragment,null,j.createElement(XK,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a}),j.createElement(lH,Js({},n,{id:i})),j.createElement(jH,Js({},n,{id:i})),n.children))}o_.displayName="Pie";var wH=F([Yt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),NH=F([wH,na,sa],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),np=()=>pe(NH),kH=()=>pe(Eq);function Kk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kk(Object(r),!0).forEach(function(n){SH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SH(e,t,r){return(t=AH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AH(e){var t=CH(e,"string");return typeof t=="symbol"?t:t+""}function CH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PH=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var l=Hk(Hk({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},it(a,!1)),uv(a)),o;return j.isValidElement(a)?o=j.cloneElement(a,l):typeof a=="function"?o=a(l):o=j.createElement(Lb,l),j.createElement(Ft,{className:"recharts-active-dot"},o)};function $y(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,i=pe(si),l=kH();if(t==null||l==null)return null;var o=t.find(c=>l.includes(c.payload));return lt(o)?null:PH({point:o,childIndex:Number(i),mainColor:r,dataKey:a,activeDot:n})}var EH="Invariant failed";function OH(e,t){throw new Error(EH)}var _H=["x","y"];function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},By.apply(null,arguments)}function Wk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wk(Object(r),!0).forEach(function(n){TH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TH(e,t,r){return(t=DH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DH(e){var t=MH(e,"string");return typeof t=="symbol"?t:t+""}function MH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IH(e,t){if(e==null)return{};var r,n,a=RH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function RH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function FH(e,t){var{x:r,y:n}=e,a=IH(e,_H),i="".concat(r),l=parseInt(i,10),o="".concat(n),c=parseInt(o,10),u="".concat(t.height||a.height),d=parseInt(u,10),m="".concat(t.width||a.width),f=parseInt(m,10);return yc(yc(yc(yc(yc({},t),a),l?{x:l}:{}),c?{y:c}:{}),{},{height:d,width:f,name:t.name,radius:t.radius})}function c_(e){return j.createElement(s_,By({shapeType:"rectangle",propTransformer:FH,activeClassName:"recharts-active-bar"},e))}var LH=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(re(t))return t;var i=re(n)||lt(n);return i?t(n,a):(i||OH(),r)}},$H={},u_=pn({name:"errorBars",initialState:$H,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:vee,removeErrorBar:bee}=u_.actions,BH=u_.reducer,zH=["children"];function UH(e,t){if(e==null)return{};var r,n,a=qH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var VH={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},KH=j.createContext(VH);function d_(e){var{children:t}=e,r=UH(e,zH);return j.createElement(KH.Provider,{value:r},t)}function sp(e,t){var r,n,a=pe(u=>ia(u,e)),i=pe(u=>hi(u,t)),l=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Jr.allowDataOverflow,o=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:en.allowDataOverflow,c=l||o;return{needClip:c,needClipX:l,needClipY:o}}function Gb(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=np(),{needClipX:i,needClipY:l,needClip:o}=sp(t,r);if(!o)return null;var{x:c,y:u,width:d,height:m}=a;return j.createElement("clipPath",{id:"clipPath-".concat(n)},j.createElement("rect",{x:i?c:c-d/2,y:l?u:u-m/2,width:i?d:d*2,height:l?m:m*2}))}var HH=["onMouseEnter","onMouseLeave","onClick"],WH=["value","background","tooltipPosition"],QH=["id"],GH=["onMouseEnter","onClick","onMouseLeave"];function _o(){return _o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_o.apply(null,arguments)}function Qk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qk(Object(r),!0).forEach(function(n){YH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YH(e,t,r){return(t=XH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XH(e){var t=ZH(e,"string");return typeof t=="symbol"?t:t+""}function ZH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bf(e,t){if(e==null)return{};var r,n,a=JH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function JH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var eW=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:ci(r,t),payload:e}]};function tW(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:l,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:ci(i,t),hide:l,type:e.tooltipType,color:e.fill,unit:o}}}function rW(e){var t=pe(si),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:l,onMouseLeave:o,onClick:c}=i,u=bf(i,HH),d=qb(l,n),m=Vb(o),f=Kb(c,n);if(!a||r==null)return null;var h=it(a,!1);return j.createElement(j.Fragment,null,r.map((p,y)=>{var{value:b,background:v,tooltipPosition:g}=p,x=bf(p,WH);if(!v)return null;var w=d(p,y),N=m(p,y),k=f(p,y),S=jr(jr(jr(jr(jr({option:a,isActive:String(y)===t},x),{},{fill:"#eee"},v),h),ph(u,p,y)),{},{onMouseEnter:w,onMouseLeave:N,onClick:k,dataKey:n,index:y,className:"recharts-bar-background-rectangle"});return j.createElement(c_,_o({key:"background-bar-".concat(y)},S))}))}function m_(e){var{data:t,props:r,showLabels:n}=e,a=es(r),{id:i}=a,l=bf(a,QH),{shape:o,dataKey:c,activeBar:u}=r,d=pe(si),m=pe(E3),{onMouseEnter:f,onClick:h,onMouseLeave:p}=r,y=bf(r,GH),b=qb(f,c),v=Vb(p),g=Kb(h,c);return t?j.createElement(j.Fragment,null,t.map((x,w)=>{var N=u&&String(w)===d&&(m==null||c===m),k=N?u:o,S=jr(jr(jr({},l),x),{},{isActive:N,option:k,index:w,dataKey:c});return j.createElement(Ft,_o({className:"recharts-bar-rectangle"},ph(y,x,w),{onMouseEnter:b(x,w),onMouseLeave:v(x,w),onClick:g(x,w),key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(w)}),j.createElement(c_,S))}),n&&$s.renderCallByParent(r,t)):null}function nW(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:l,animationDuration:o,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,m=r.current,f=ep(t,"recharts-bar-"),[h,p]=j.useState(!1),y=j.useCallback(()=>{typeof u=="function"&&u(),p(!1)},[u]),b=j.useCallback(()=>{typeof d=="function"&&d(),p(!0)},[d]);return j.createElement(rp,{begin:l,duration:o,isActive:i,easing:c,onAnimationEnd:y,onAnimationStart:b,key:f},v=>{var g=v===1?n:n==null?void 0:n.map((x,w)=>{var N=m&&m[w];if(N)return jr(jr({},x),{},{x:cr(N.x,x.x,v),y:cr(N.y,x.y,v),width:cr(N.width,x.width,v),height:cr(N.height,x.height,v)});if(a==="horizontal"){var k=cr(0,x.height,v);return jr(jr({},x),{},{y:x.y+x.height-k,height:k})}var S=cr(0,x.width,v);return jr(jr({},x),{},{width:S})});return v>0&&(r.current=g??null),g==null?null:j.createElement(Ft,null,j.createElement(m_,{props:t,data:g,showLabels:!h}))})}function sW(e){var{data:t,isAnimationActive:r}=e,n=j.useRef(null);return r&&t&&t.length&&(n.current==null||n.current!==t)?j.createElement(nW,{previousRectanglesRef:n,props:e}):j.createElement(m_,{props:e,data:t,showLabels:!0})}var f_=0,aW=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Ye(e,t)}};class iW extends j.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:l,needClip:o,background:c,id:u}=this.props;if(t)return null;var d=Re("recharts-bar",a),m=u;return j.createElement(Ft,{className:d,id:u},o&&j.createElement("defs",null,j.createElement(Gb,{clipPathId:m,xAxisId:i,yAxisId:l})),j.createElement(Ft,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(m,")"):void 0},j.createElement(rW,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),j.createElement(sW,this.props)),this.props.children)}}var lW={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!ui.isSsr,legendType:"rect",minPointSize:f_,xAxisId:0,yAxisId:0};function oW(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:m}=sp(t,r),f=Ru(),h=Sr(),p=Mu(e.children,Xo),y=pe(g=>IW(g,t,r,h,e.id,p));if(f!=="vertical"&&f!=="horizontal")return null;var b,v=y==null?void 0:y[0];return v==null||v.height==null||v.width==null?b=0:b=f==="vertical"?v.height/2:v.width/2,j.createElement(d_,{xAxisId:t,yAxisId:r,data:y,dataPointFormatter:aW,errorBarOffset:b},j.createElement(iW,_o({},e,{layout:f,needClip:m,data:y,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:l,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function cW(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:l,yAxis:o,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:m,offset:f,cells:h}=e,p=t==="horizontal"?o:l,y=d?p.scale.domain():null,b=C8({numericAxis:p});return m.map((v,g)=>{var x,w,N,k,S,A;d?x=w8(d[g],y):(x=Ye(v,r),Array.isArray(x)||(x=[b,x]));var P=LH(n,f_)(x[1],g);if(t==="horizontal"){var C,[D,E]=[o.scale(x[0]),o.scale(x[1])];w=JN({axis:l,ticks:c,bandSize:i,offset:a.offset,entry:v,index:g}),N=(C=E??D)!==null&&C!==void 0?C:void 0,k=a.size;var L=D-E;if(S=Zr(L)?0:L,A={x:w,y:f.top,width:k,height:f.height},Math.abs(P)>0&&Math.abs(S)<Math.abs(P)){var U=nr(S||P)*(Math.abs(P)-Math.abs(S));N-=U,S+=U}}else{var[I,q]=[l.scale(x[0]),l.scale(x[1])];if(w=I,N=JN({axis:o,ticks:u,bandSize:i,offset:a.offset,entry:v,index:g}),k=q-I,S=a.size,A={x:f.left,y:N,width:f.width,height:S},Math.abs(P)>0&&Math.abs(k)<Math.abs(P)){var T=nr(k||P)*(Math.abs(P)-Math.abs(k));k+=T}}if(w==null||N==null||k==null||S==null)return null;var M=jr(jr({},v),{},{x:w,y:N,width:k,height:S,value:d?x:x[1],payload:v,background:A,tooltipPosition:{x:w+k/2,y:N+S/2}},h&&h[g]&&h[g].props);return M}).filter(Boolean)}function Yb(e){var t=Lr(e,lW),r=Sr();return j.createElement(tp,{id:t.id,type:"bar"},n=>j.createElement(j.Fragment,null,j.createElement(Hb,{legendPayload:eW(t)}),j.createElement(Jh,{fn:tW,args:t}),j.createElement(Wb,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:iE(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),j.createElement(oW,_o({},t,{id:n}))))}Yb.displayName="Bar";function Gk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _d(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gk(Object(r),!0).forEach(function(n){uW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uW(e,t,r){return(t=dW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dW(e){var t=mW(e,"string");return typeof t=="symbol"?t:t+""}function mW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fW=(e,t)=>t,hW=(e,t,r)=>r,pW=(e,t,r,n)=>n,xW=(e,t,r,n,a)=>a,Yu=F([Ku,xW],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),yW=F([Yu],e=>e==null?void 0:e.maxBarSize),gW=(e,t,r,n,a,i)=>i,Yk=(e,t,r)=>{var n=r??e;if(!lt(n))return Ir(n,t,0)},vW=F([De,Ku,fW,hW,pW],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),bW=(e,t,r,n)=>{var a=De(e);return a==="horizontal"?yu(e,"yAxis",r,n):yu(e,"xAxis",t,n)},jW=(e,t,r)=>{var n=De(e);return n==="horizontal"?ok(e,"xAxis",t):ok(e,"yAxis",r)},wW=(e,t,r)=>{var n={},a=e.filter(Kh),i=e.filter(u=>u.stackId==null),l=a.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),o=Object.entries(l).map(u=>{var[d,m]=u,f=m.map(p=>p.dataKey),h=Yk(t,r,m[0].barSize);return{stackId:d,dataKeys:f,barSize:h}}),c=i.map(u=>{var d=[u.dataKey].filter(f=>f!=null),m=Yk(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:m}});return[...o,...c]},NW=F([vW,Bz,jW],wW),kW=(e,t,r,n,a)=>{var i,l,o=Yu(e,t,r,n,a);if(o!=null){var c=De(e),u=OO(e),{maxBarSize:d}=o,m=lt(d)?u:d,f,h;return c==="horizontal"?(f=vs(e,"xAxis",t,n),h=gs(e,"xAxis",t,n)):(f=vs(e,"yAxis",r,n),h=gs(e,"yAxis",r,n)),(i=(l=il(f,h,!0))!==null&&l!==void 0?l:m)!==null&&i!==void 0?i:0}},h_=(e,t,r,n)=>{var a=De(e),i,l;return a==="horizontal"?(i=vs(e,"xAxis",t,n),l=gs(e,"xAxis",t,n)):(i=vs(e,"yAxis",r,n),l=gs(e,"yAxis",r,n)),il(i,l)};function SW(e,t,r,n,a){var i=n.length;if(!(i<1)){var l=Ir(e,r,0,!0),o,c=[];if(hr(n[0].barSize)){var u=!1,d=r/i,m=n.reduce((v,g)=>v+(g.barSize||0),0);m+=(i-1)*l,m>=r&&(m-=(i-1)*l,l=0),m>=r&&d>0&&(u=!0,d*=.9,m=i*d);var f=(r-m)/2>>0,h={offset:f-l,size:0};o=n.reduce((v,g)=>{var x,w={stackId:g.stackId,dataKeys:g.dataKeys,position:{offset:h.offset+h.size+l,size:u?d:(x=g.barSize)!==null&&x!==void 0?x:0}},N=[...v,w];return h=N[N.length-1].position,N},c)}else{var p=Ir(t,r,0,!0);r-2*p-(i-1)*l<=0&&(l=0);var y=(r-2*p-(i-1)*l)/i;y>1&&(y>>=0);var b=hr(a)?Math.min(y,a):y;o=n.reduce((v,g,x)=>[...v,{stackId:g.stackId,dataKeys:g.dataKeys,position:{offset:p+(y+l)*x+(y-b)/2,size:b}}],c)}return o}}var AW=(e,t,r,n,a,i,l)=>{var o=lt(l)?t:l,c=SW(r,n,a!==i?a:i,e,o);return a!==i&&c!=null&&(c=c.map(u=>_d(_d({},u),{},{position:_d(_d({},u.position),{},{offset:u.position.offset-a/2})}))),c},CW=F([NW,OO,$z,_O,kW,h_,yW],AW),PW=(e,t,r,n)=>vs(e,"xAxis",t,n),EW=(e,t,r,n)=>vs(e,"yAxis",r,n),OW=(e,t,r,n)=>gs(e,"xAxis",t,n),_W=(e,t,r,n)=>gs(e,"yAxis",r,n),TW=F([CW,Yu],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),DW=(e,t)=>{var r=Vh(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(l=>l.key===r)}}}},MW=F([bW,Yu],DW),IW=F([Yt,PW,EW,OW,_W,TW,De,zu,h_,MW,Yu,gW],(e,t,r,n,a,i,l,o,c,u,d,m)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:p}=o;if(!(d==null||i==null||l!=="horizontal"&&l!=="vertical"||t==null||r==null||n==null||a==null||c==null)){var{data:y}=d,b;if(y!=null&&y.length>0?b=y:b=f==null?void 0:f.slice(h,p+1),b!=null)return cW({layout:l,barSettings:d,pos:i,bandSize:c,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,stackedData:u,displayedData:b,offset:e,cells:m})}}),p_=e=>{var{chartData:t}=e,r=Lt(),n=Sr();return j.useEffect(()=>n?()=>{}:(r(yk(t)),()=>{r(yk(void 0))}),[t,r,n]),null},Xk={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},x_=pn({name:"brush",initialState:Xk,reducers:{setBrushSettings(e,t){return t.payload==null?Xk:t.payload}}}),{setBrushSettings:jee}=x_.actions,RW=x_.reducer;function FW(e,t,r){return(t=LW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LW(e){var t=$W(e,"string");return typeof t=="symbol"?t:t+""}function $W(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Xb{static create(t){return new Xb(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}FW(Xb,"EPS",1e-4);function BW(e){return(e%180+180)%180}var zW=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=BW(a),l=i*Math.PI/180,o=Math.atan(n/r),c=l>o&&l<Math.PI-o?n/Math.sin(l):r/Math.cos(l);return Math.abs(c)},UW={dots:[],areas:[],lines:[]},y_=pn({name:"referenceElements",initialState:UW,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Fs(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Fs(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Fs(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:wee,removeDot:Nee,addArea:kee,removeArea:See,addLine:Aee,removeLine:Cee}=y_.actions,qW=y_.reducer,VW=j.createContext(void 0),KW=e=>{var{children:t}=e,[r]=j.useState("".concat(ou("recharts"),"-clip")),n=np();if(n==null)return null;var{x:a,y:i,width:l,height:o}=n;return j.createElement(VW.Provider,{value:r},j.createElement("defs",null,j.createElement("clipPath",{id:r},j.createElement("rect",{x:a,y:i,height:o,width:l}))),t)};function b0(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function g_(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function HW(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return zW(n,r)}function WW(e,t,r){var n=r==="width",{x:a,y:i,width:l,height:o}=e;return t===1?{start:n?a:i,end:n?a+l:i+o}:{start:n?a+l:i+o,end:n?a:i}}function jf(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function QW(e,t){return g_(e,t+1)}function GW(e,t,r,n,a){for(var i=(n||[]).slice(),{start:l,end:o}=t,c=0,u=1,d=l,m=function(){var p=n==null?void 0:n[c];if(p===void 0)return{v:g_(n,u)};var y=c,b,v=()=>(b===void 0&&(b=r(p,y)),b),g=p.coordinate,x=c===0||jf(e,g,v,d,o);x||(c=0,d=l,u+=1),x&&(d=g+e*(v()/2+a),c+=u)},f;u<=i.length;)if(f=m(),f)return f.v;return[]}function Zk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zk(Object(r),!0).forEach(function(n){YW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YW(e,t,r){return(t=XW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XW(e){var t=ZW(e,"string");return typeof t=="symbol"?t:t+""}function ZW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JW(e,t,r,n,a){for(var i=(n||[]).slice(),l=i.length,{start:o}=t,{end:c}=t,u=function(f){var h=i[f],p,y=()=>(p===void 0&&(p=r(h,f)),p);if(f===l-1){var b=e*(h.coordinate+e*y()/2-c);i[f]=h=vr(vr({},h),{},{tickCoord:b>0?h.coordinate-b*e:h.coordinate})}else i[f]=h=vr(vr({},h),{},{tickCoord:h.coordinate});var v=jf(e,h.tickCoord,y,o,c);v&&(c=h.tickCoord-e*(y()/2+a),i[f]=vr(vr({},h),{},{isShow:!0}))},d=l-1;d>=0;d--)u(d);return i}function eQ(e,t,r,n,a,i){var l=(n||[]).slice(),o=l.length,{start:c,end:u}=t;if(i){var d=n[o-1],m=r(d,o-1),f=e*(d.coordinate+e*m/2-u);l[o-1]=d=vr(vr({},d),{},{tickCoord:f>0?d.coordinate-f*e:d.coordinate});var h=jf(e,d.tickCoord,()=>m,c,u);h&&(u=d.tickCoord-e*(m/2+a),l[o-1]=vr(vr({},d),{},{isShow:!0}))}for(var p=i?o-1:o,y=function(g){var x=l[g],w,N=()=>(w===void 0&&(w=r(x,g)),w);if(g===0){var k=e*(x.coordinate-e*N()/2-c);l[g]=x=vr(vr({},x),{},{tickCoord:k<0?x.coordinate-k*e:x.coordinate})}else l[g]=x=vr(vr({},x),{},{tickCoord:x.coordinate});var S=jf(e,x.tickCoord,N,c,u);S&&(c=x.tickCoord+e*(N()/2+a),l[g]=vr(vr({},x),{},{isShow:!0}))},b=0;b<p;b++)y(b);return l}function Zb(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:l,orientation:o,interval:c,tickFormatter:u,unit:d,angle:m}=e;if(!a||!a.length||!n)return[];if(re(c)||ui.isSsr){var f;return(f=QW(a,re(c)?c:0))!==null&&f!==void 0?f:[]}var h=[],p=o==="top"||o==="bottom"?"width":"height",y=d&&p==="width"?Fc(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},b=(x,w)=>{var N=typeof u=="function"?u(x.value,w):x.value;return p==="width"?HW(Fc(N,{fontSize:t,letterSpacing:r}),y,m):Fc(N,{fontSize:t,letterSpacing:r})[p]},v=a.length>=2?nr(a[1].coordinate-a[0].coordinate):1,g=WW(i,v,p);return c==="equidistantPreserveStart"?GW(v,g,b,a,l):(c==="preserveStart"||c==="preserveStartEnd"?h=eQ(v,g,b,a,l,c==="preserveStartEnd"):h=JW(v,g,b,a,l),h.filter(x=>x.isShow))}var tQ=["viewBox"],rQ=["viewBox"];function Il(){return Il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Il.apply(null,arguments)}function Jk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jk(Object(r),!0).forEach(function(n){Jb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eS(e,t){if(e==null)return{};var r,n,a=nQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function nQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Jb(e,t,r){return(t=sQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sQ(e){var t=aQ(e,"string");return typeof t=="symbol"?t:t+""}function aQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class pi extends j.Component{constructor(t){super(t),this.tickRefs=j.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,a=eS(t,tQ),i=this.props,{viewBox:l}=i,o=eS(i,rQ);return!b0(n,l)||!b0(a,o)||!b0(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:a,height:i,orientation:l,tickSize:o,mirror:c,tickMargin:u}=this.props,d,m,f,h,p,y,b=c?-1:1,v=t.tickSize||o,g=re(t.tickCoord)?t.tickCoord:t.coordinate;switch(l){case"top":d=m=t.coordinate,h=n+ +!c*i,f=h-b*v,y=f-b*u,p=g;break;case"left":f=h=t.coordinate,m=r+ +!c*a,d=m-b*v,p=d-b*u,y=g;break;case"right":f=h=t.coordinate,m=r+ +c*a,d=m+b*v,p=d+b*u,y=g;break;default:d=m=t.coordinate,h=n+ +c*i,f=h+b*v,y=f+b*u,p=g;break}return{line:{x1:d,y1:f,x2:m,y2:h},tick:{x:p,y}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,n;switch(t){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:a,orientation:i,mirror:l,axisLine:o}=this.props,c=Ht(Ht(Ht({},it(this.props,!1)),it(o,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var u=+(i==="top"&&!l||i==="bottom"&&l);c=Ht(Ht({},c),{},{x1:t,y1:r+u*a,x2:t+n,y2:r+u*a})}else{var d=+(i==="left"&&!l||i==="right"&&l);c=Ht(Ht({},c),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+a})}return j.createElement("line",Il({},c,{className:Re("recharts-cartesian-axis-line",ni(o,"className"))}))}static renderTickItem(t,r,n){var a,i=Re(r.className,"recharts-cartesian-axis-tick-value");if(j.isValidElement(t))a=j.cloneElement(t,Ht(Ht({},r),{},{className:i}));else if(typeof t=="function")a=t(Ht(Ht({},r),{},{className:i}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=Re(l,t.className)),a=j.createElement(Zh,Il({},r,{className:l}),n)}return a}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:a,stroke:i,tick:l,tickFormatter:o,unit:c,padding:u}=this.props,d=Zb(Ht(Ht({},this.props),{},{ticks:n}),t,r),m=this.getTickTextAnchor(),f=this.getTickVerticalAnchor(),h=es(this.props),p=it(l,!1),y=Ht(Ht({},h),{},{fill:"none"},it(a,!1)),b=d.map((v,g)=>{var{line:x,tick:w}=this.getTickLineCoord(v),N=Ht(Ht(Ht(Ht({textAnchor:m,verticalAnchor:f},h),{},{stroke:"none",fill:i},p),w),{},{index:g,payload:v,visibleTicksCount:d.length,tickFormatter:o,padding:u});return j.createElement(Ft,Il({className:"recharts-cartesian-axis-tick",key:"tick-".concat(v.value,"-").concat(v.coordinate,"-").concat(v.tickCoord)},ph(this.props,v,g)),a&&j.createElement("line",Il({},y,x,{className:Re("recharts-cartesian-axis-tick-line",ni(a,"className"))})),l&&pi.renderTickItem(l,N,"".concat(typeof o=="function"?o(v.value,g):v.value).concat(c||"")))});return b.length>0?j.createElement("g",{className:"recharts-cartesian-axis-ticks"},b):null}render(){var{axisLine:t,width:r,height:n,className:a,hide:i}=this.props;if(i)return null;var{ticks:l}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:j.createElement(Ft,{className:Re("recharts-cartesian-axis",a),ref:o=>{if(o){var c=o.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(c);var u=c[0];if(u){var d=window.getComputedStyle(u).fontSize,m=window.getComputedStyle(u).letterSpacing;(d!==this.state.fontSize||m!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(u).fontSize,letterSpacing:window.getComputedStyle(u).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,l),nn.renderCallByParent(this.props))}}Jb(pi,"displayName","CartesianAxis");Jb(pi,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var iQ=["x1","y1","x2","y2","key"],lQ=["offset"],oQ=["xAxisId","yAxisId"],cQ=["xAxisId","yAxisId"];function tS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tS(Object(r),!0).forEach(function(n){uQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uQ(e,t,r){return(t=dQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dQ(e){var t=mQ(e,"string");return typeof t=="symbol"?t:t+""}function mQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oi(){return Oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oi.apply(null,arguments)}function wf(e,t){if(e==null)return{};var r,n,a=fQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hQ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:l,ry:o}=e;return j.createElement("rect",{x:n,y:a,ry:o,width:i,height:l,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function v_(e,t){var r;if(j.isValidElement(e))r=j.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:a,x2:i,y2:l,key:o}=t,c=wf(t,iQ),u=es(c),{offset:d}=u,m=wf(u,lQ);r=j.createElement("line",Oi({},m,{x1:n,y1:a,x2:i,y2:l,fill:"none",key:o}))}return r}function pQ(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:l}=e,o=wf(e,oQ),c=a.map((u,d)=>{var m=wr(wr({},o),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return v_(n,m)});return j.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function xQ(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:l}=e,o=wf(e,cQ),c=a.map((u,d)=>{var m=wr(wr({},o),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return v_(n,m)});return j.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function yQ(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:l,horizontalPoints:o,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=o.map(m=>Math.round(m+a-a)).sort((m,f)=>m-f);a!==u[0]&&u.unshift(0);var d=u.map((m,f)=>{var h=!u[f+1],p=h?a+l-m:u[f+1]-m;if(p<=0)return null;var y=f%t.length;return j.createElement("rect",{key:"react-".concat(f),y:m,x:n,height:p,width:i,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function gQ(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:l,height:o,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(m=>Math.round(m+a-a)).sort((m,f)=>m-f);a!==u[0]&&u.unshift(0);var d=u.map((m,f)=>{var h=!u[f+1],p=h?a+l-m:u[f+1]-m;if(p<=0)return null;var y=f%r.length;return j.createElement("rect",{key:"react-".concat(f),x:m,y:i,width:p,height:o,stroke:"none",fill:r[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var vQ=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return sE(Zb(wr(wr(wr({},pi.defaultProps),r),{},{ticks:aE(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},bQ=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return sE(Zb(wr(wr(wr({},pi.defaultProps),r),{},{ticks:aE(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},jQ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function To(e){var t=mE(),r=fE(),n=dE(),a=wr(wr({},Lr(e,jQ)),{},{x:re(e.x)?e.x:n.left,y:re(e.y)?e.y:n.top,width:re(e.width)?e.width:n.width,height:re(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:l,x:o,y:c,width:u,height:d,syncWithTicks:m,horizontalValues:f,verticalValues:h}=a,p=Sr(),y=pe(P=>ck(P,"xAxis",i,p)),b=pe(P=>ck(P,"yAxis",l,p));if(!re(u)||u<=0||!re(d)||d<=0||!re(o)||o!==+o||!re(c)||c!==+c)return null;var v=a.verticalCoordinatesGenerator||vQ,g=a.horizontalCoordinatesGenerator||bQ,{horizontalPoints:x,verticalPoints:w}=a;if((!x||!x.length)&&typeof g=="function"){var N=f&&f.length,k=g({yAxis:b?wr(wr({},b),{},{ticks:N?f:b.ticks}):void 0,width:t,height:r,offset:n},N?!0:m);Rc(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(x=k)}if((!w||!w.length)&&typeof v=="function"){var S=h&&h.length,A=v({xAxis:y?wr(wr({},y),{},{ticks:S?h:y.ticks}):void 0,width:t,height:r,offset:n},S?!0:m);Rc(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof A,"]")),Array.isArray(A)&&(w=A)}return j.createElement("g",{className:"recharts-cartesian-grid"},j.createElement(hQ,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),j.createElement(yQ,Oi({},a,{horizontalPoints:x})),j.createElement(gQ,Oi({},a,{verticalPoints:w})),j.createElement(pQ,Oi({},a,{offset:n,horizontalPoints:x,xAxis:y,yAxis:b})),j.createElement(xQ,Oi({},a,{offset:n,verticalPoints:w,xAxis:y,yAxis:b})))}To.displayName="CartesianGrid";var b_=(e,t,r,n)=>vs(e,"xAxis",t,n),j_=(e,t,r,n)=>gs(e,"xAxis",t,n),w_=(e,t,r,n)=>vs(e,"yAxis",r,n),N_=(e,t,r,n)=>gs(e,"yAxis",r,n),wQ=F([De,b_,w_,j_,N_],(e,t,r,n,a)=>js(e,"xAxis")?il(t,n,!1):il(r,a,!1)),NQ=(e,t,r,n,a)=>a;function kQ(e){return e.type==="line"}var SQ=F([Ku,NQ],(e,t)=>e.filter(kQ).find(r=>r.id===t)),AQ=F([De,b_,w_,j_,N_,SQ,wQ,zu],(e,t,r,n,a,i,l,o)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=o;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||l==null)){var{dataKey:m,data:f}=i,h;if(f!=null&&f.length>0?h=f:h=c==null?void 0:c.slice(u,d+1),h!=null)return WQ({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:m,bandSize:l,displayedData:h})}}),CQ=["id"],PQ=["type","layout","connectNulls","needClip"],EQ=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function rS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rS(Object(r),!0).forEach(function(n){OQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OQ(e,t,r){return(t=_Q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Q(e){var t=TQ(e,"string");return typeof t=="symbol"?t:t+""}function TQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ej(e,t){if(e==null)return{};var r,n,a=DQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function DQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ol(){return ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ol.apply(null,arguments)}var MQ=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:ci(r,t),payload:e}]};function IQ(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:l,hide:o,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:ci(l,t),hide:o,type:e.tooltipType,color:e.stroke,unit:c}}}var k_=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function RQ(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var FQ=(e,t,r)=>{var n=r.reduce((m,f)=>m+f);if(!n)return k_(t,e);for(var a=Math.floor(e/n),i=e%n,l=t-e,o=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>i){o=[...r.slice(0,c),i-u];break}var d=o.length%2===0?[0,l]:[l];return[...RQ(r,a),...o,...d].map(m=>"".concat(m,"px")).join(", ")};function LQ(e,t){var r;if(j.isValidElement(e))r=j.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Re("recharts-line-dot",typeof e!="boolean"?e.className:"");r=j.createElement(Lb,ol({},t,{className:n}))}return r}function $Q(e,t){return e==null?!1:t?!0:e.length===1}function BQ(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:l}=n;if(!$Q(r,a))return null;var{id:o}=n,c=ej(n,CQ),u=xh(a),d=es(c),m=it(a,!0),f=r.map((p,y)=>{var b=Hn(Hn(Hn({key:"dot-".concat(y),r:3},d),m),{},{index:y,cx:p.x,cy:p.y,dataKey:i,value:p.value,payload:p.payload,points:r});return LQ(a,b)}),h={clipPath:l?"url(#clipPath-".concat(u?"":"dots-").concat(t,")"):void 0};return j.createElement(Ft,ol({className:"recharts-line-dots",key:"dots"},h),f)}function zy(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i,showLabels:l}=e,{type:o,layout:c,connectNulls:u,needClip:d}=i,m=ej(i,PQ),f=Hn(Hn({},it(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(t,")"):void 0,points:n,type:o,layout:c,connectNulls:u,strokeDasharray:a??i.strokeDasharray});return j.createElement(j.Fragment,null,(n==null?void 0:n.length)>1&&j.createElement(Kl,ol({},f,{pathRef:r})),j.createElement(BQ,{points:n,clipPathId:t,props:i}),l&&$s.renderCallByParent(i,n))}function zQ(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function UQ(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:l,strokeDasharray:o,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:m,animateNewValues:f,width:h,height:p,onAnimationEnd:y,onAnimationStart:b}=r,v=a.current,g=ep(r,"recharts-line-"),[x,w]=j.useState(!1),N=j.useCallback(()=>{typeof y=="function"&&y(),w(!1)},[y]),k=j.useCallback(()=>{typeof b=="function"&&b(),w(!0)},[b]),S=zQ(n.current),A=i.current;return j.createElement(rp,{begin:u,duration:d,isActive:c,easing:m,onAnimationEnd:N,onAnimationStart:k,key:g},P=>{var C=cr(A,S+A,P),D=Math.min(C,S),E;if(o){var L="".concat(o).split(/[,\s]+/gim).map(q=>parseFloat(q));E=FQ(D,S,L)}else E=k_(S,D);if(v){var U=v.length/l.length,I=P===1?l:l.map((q,T)=>{var M=Math.floor(T*U);if(v[M]){var V=v[M];return Hn(Hn({},q),{},{x:cr(V.x,q.x,P),y:cr(V.y,q.y,P)})}return f?Hn(Hn({},q),{},{x:cr(h*2,q.x,P),y:cr(p/2,q.y,P)}):Hn(Hn({},q),{},{x:q.x,y:q.y})});return a.current=I,j.createElement(zy,{props:r,points:I,clipPathId:t,pathRef:n,showLabels:!x,strokeDasharray:E})}return P>0&&S>0&&(a.current=l,i.current=D),j.createElement(zy,{props:r,points:l,clipPathId:t,pathRef:n,showLabels:!x,strokeDasharray:E})})}function qQ(e){var{clipPathId:t,props:r}=e,{points:n,isAnimationActive:a}=r,i=j.useRef(null),l=j.useRef(0),o=j.useRef(null),c=i.current;return a&&n&&n.length&&c!==n?j.createElement(UQ,{props:r,clipPathId:t,previousPointsRef:i,longestAnimatedLengthRef:l,pathRef:o}):j.createElement(zy,{props:r,points:n,clipPathId:t,pathRef:o,showLabels:!0})}var VQ=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Ye(e.payload,t)});class KQ extends j.Component{render(){var t,{hide:r,dot:n,points:a,className:i,xAxisId:l,yAxisId:o,top:c,left:u,width:d,height:m,id:f,needClip:h}=this.props;if(r)return null;var p=Re("recharts-line",i),y=f,{r:b=3,strokeWidth:v=2}=(t=it(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},g=xh(n),x=b*2+v;return j.createElement(j.Fragment,null,j.createElement(Ft,{className:p},h&&j.createElement("defs",null,j.createElement(Gb,{clipPathId:y,xAxisId:l,yAxisId:o}),!g&&j.createElement("clipPath",{id:"clipPath-dots-".concat(y)},j.createElement("rect",{x:u-x/2,y:c-x/2,width:d+x,height:m+x}))),j.createElement(qQ,{props:this.props,clipPathId:y}),j.createElement(d_,{xAxisId:l,yAxisId:o,data:a,dataPointFormatter:VQ,errorBarOffset:0},this.props.children)),j.createElement($y,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var S_={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!ui.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function HQ(e){var t=Lr(e,S_),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:l,connectNulls:o,dot:c,hide:u,isAnimationActive:d,label:m,legendType:f,xAxisId:h,yAxisId:p,id:y}=t,b=ej(t,EQ),{needClip:v}=sp(h,p),g=np(),x=Ru(),w=Sr(),N=pe(C=>AQ(C,h,p,w,y));if(x!=="horizontal"&&x!=="vertical"||N==null||g==null)return null;var{height:k,width:S,x:A,y:P}=g;return j.createElement(KQ,ol({},b,{id:y,connectNulls:o,dot:c,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:l,isAnimationActive:d,hide:u,label:m,legendType:f,xAxisId:h,yAxisId:p,points:N,layout:x,height:k,width:S,left:A,top:P,needClip:v}))}function WQ(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:l,bandSize:o,displayedData:c}=e;return c.map((u,d)=>{var m=Ye(u,l);if(t==="horizontal"){var f=Zm({axis:r,ticks:a,bandSize:o,entry:u,index:d}),h=lt(m)?null:n.scale(m);return{x:f,y:h,value:m,payload:u}}var p=lt(m)?null:r.scale(m),y=Zm({axis:n,ticks:i,bandSize:o,entry:u,index:d});return p==null||y==null?null:{x:p,y,value:m,payload:u}}).filter(Boolean)}function Nf(e){var t=Lr(e,S_),r=Sr();return j.createElement(tp,{id:t.id,type:"line"},n=>j.createElement(j.Fragment,null,j.createElement(Hb,{legendPayload:MQ(t)}),j.createElement(Jh,{fn:IQ,args:t}),j.createElement(Wb,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),j.createElement(HQ,ol({},t,{id:n}))))}Nf.displayName="Line";var A_=(e,t,r,n)=>vs(e,"xAxis",t,n),C_=(e,t,r,n)=>gs(e,"xAxis",t,n),P_=(e,t,r,n)=>vs(e,"yAxis",r,n),E_=(e,t,r,n)=>gs(e,"yAxis",r,n),QQ=F([De,A_,P_,C_,E_],(e,t,r,n,a)=>js(e,"xAxis")?il(t,n,!1):il(r,a,!1)),GQ=(e,t,r,n,a)=>a,O_=F([Ku,GQ],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),YQ=(e,t,r,n,a)=>{var i,l=O_(e,t,r,n,a);if(l!=null){var o=De(e),c=js(o,"xAxis"),u;if(c?u=yu(e,"yAxis",r,n):u=yu(e,"xAxis",t,n),u!=null){var{stackId:d}=l,m=Vh(l);if(!(d==null||m==null)){var f=(i=u[d])===null||i===void 0?void 0:i.stackedData;return f==null?void 0:f.find(h=>h.key===m)}}}},XQ=F([De,A_,P_,C_,E_,YQ,zu,QQ,O_],(e,t,r,n,a,i,l,o,c)=>{var{chartData:u,dataStartIndex:d,dataEndIndex:m}=l;if(!(c==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||a==null||n.length===0||a.length===0||o==null)){var{data:f}=c,h;if(f&&f.length>0?h=f:h=u==null?void 0:u.slice(d,m+1),h!=null){var p=void 0;return yG({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:d,areaSettings:c,stackedData:i,displayedData:h,chartBaseValue:p,bandSize:o})}}}),ZQ=["id"],JQ=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function __(e,t){if(e==null)return{};var r,n,a=eG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function eG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _i(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nS(Object(r),!0).forEach(function(n){tG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tG(e,t,r){return(t=rG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rG(e){var t=nG(e,"string");return typeof t=="symbol"?t:t+""}function nG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bs(){return Bs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bs.apply(null,arguments)}function kf(e,t){return e&&e!=="none"?e:t}var sG=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:i,hide:l}=e;return[{inactive:l,dataKey:t,type:i,color:kf(n,a),value:ci(r,t),payload:e}]};function aG(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:l,hide:o,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:ci(l,t),hide:o,type:e.tooltipType,color:kf(n,i),unit:c}}}var iG=(e,t)=>{var r;if(j.isValidElement(e))r=j.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Re("recharts-area-dot",typeof e!="boolean"?e.className:"");r=j.createElement(Lb,Bs({},t,{className:n}))}return r};function lG(e,t){return e==null?!1:t?!0:e.length===1}function oG(e){var{clipPathId:t,points:r,props:n}=e,{needClip:a,dot:i,dataKey:l}=n;if(!lG(r,i))return null;var o=xh(i),c=es(n),u=it(i,!0),d=r.map((f,h)=>{var p=_i(_i(_i({key:"dot-".concat(h),r:3},c),u),{},{index:h,cx:f.x,cy:f.y,dataKey:l,value:f.value,payload:f.payload,points:r});return iG(i,p)}),m={clipPath:a?"url(#clipPath-".concat(o?"":"dots-").concat(t,")"):void 0};return j.createElement(Ft,Bs({className:"recharts-area-dots"},m),d)}function Uy(e){var{points:t,baseLine:r,needClip:n,clipPathId:a,props:i,showLabels:l}=e,{layout:o,type:c,stroke:u,connectNulls:d,isRange:m}=i,{id:f}=i,h=__(i,ZQ),p=es(h);return j.createElement(j.Fragment,null,(t==null?void 0:t.length)>1&&j.createElement(Ft,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},j.createElement(Kl,Bs({},p,{id:f,points:t,connectNulls:d,type:c,baseLine:r,layout:o,stroke:"none",className:"recharts-area-area"})),u!=="none"&&j.createElement(Kl,Bs({},p,{className:"recharts-area-curve",layout:o,type:c,connectNulls:d,fill:"none",points:t})),u!=="none"&&m&&j.createElement(Kl,Bs({},p,{className:"recharts-area-curve",layout:o,type:c,connectNulls:d,fill:"none",points:r}))),j.createElement(oG,{points:t,props:h,clipPathId:a}),l&&$s.renderCallByParent(h,t))}function cG(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,i=n[0].y,l=n[n.length-1].y;if(!hr(i)||!hr(l))return null;var o=t*Math.abs(i-l),c=Math.max(...n.map(u=>u.x||0));return re(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(u=>u.x||0),c)),re(c)?j.createElement("rect",{x:0,y:i<l?i:i-o,width:c+(a?parseInt("".concat(a),10):1),height:Math.floor(o)}):null}function uG(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,i=n[0].x,l=n[n.length-1].x;if(!hr(i)||!hr(l))return null;var o=t*Math.abs(i-l),c=Math.max(...n.map(u=>u.y||0));return re(r)?c=Math.max(r,c):r&&Array.isArray(r)&&r.length&&(c=Math.max(...r.map(u=>u.y||0),c)),re(c)?j.createElement("rect",{x:i<l?i:i-o,y:0,width:o,height:Math.floor(c+(a?parseInt("".concat(a),10):1))}):null}function dG(e){var{alpha:t,layout:r,points:n,baseLine:a,strokeWidth:i}=e;return r==="vertical"?j.createElement(cG,{alpha:t,points:n,baseLine:a,strokeWidth:i}):j.createElement(uG,{alpha:t,points:n,baseLine:a,strokeWidth:i})}function mG(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i}=e,{points:l,baseLine:o,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:m,onAnimationStart:f,onAnimationEnd:h}=n,p=ep(n,"recharts-area-"),[y,b]=j.useState(!0),v=j.useCallback(()=>{typeof h=="function"&&h(),b(!1)},[h]),g=j.useCallback(()=>{typeof f=="function"&&f(),b(!0)},[f]),x=a.current,w=i.current;return j.createElement(rp,{begin:u,duration:d,isActive:c,easing:m,onAnimationEnd:v,onAnimationStart:g,key:p},N=>{if(x){var k=x.length/l.length,S=N===1?l:l.map((P,C)=>{var D=Math.floor(C*k);if(x[D]){var E=x[D];return _i(_i({},P),{},{x:cr(E.x,P.x,N),y:cr(E.y,P.y,N)})}return P}),A;return re(o)?A=cr(w,o,N):lt(o)||Zr(o)?A=cr(w,0,N):A=o.map((P,C)=>{var D=Math.floor(C*k);if(Array.isArray(w)&&w[D]){var E=w[D];return _i(_i({},P),{},{x:cr(E.x,P.x,N),y:cr(E.y,P.y,N)})}return P}),N>0&&(a.current=S,i.current=A),j.createElement(Uy,{points:S,baseLine:A,needClip:t,clipPathId:r,props:n,showLabels:!y})}return N>0&&(a.current=l,i.current=o),j.createElement(Ft,null,j.createElement("defs",null,j.createElement("clipPath",{id:"animationClipPath-".concat(r)},j.createElement(dG,{alpha:N,points:l,baseLine:o,layout:n.layout,strokeWidth:n.strokeWidth}))),j.createElement(Ft,{clipPath:"url(#animationClipPath-".concat(r,")")},j.createElement(Uy,{points:l,baseLine:o,needClip:t,clipPathId:r,props:n,showLabels:!0})))})}function fG(e){var{needClip:t,clipPathId:r,props:n}=e,{points:a,baseLine:i,isAnimationActive:l}=n,o=j.useRef(null),c=j.useRef(),u=o.current,d=c.current;return l&&a&&a.length&&(u!==a||d!==i)?j.createElement(mG,{needClip:t,clipPathId:r,props:n,previousPointsRef:o,previousBaselineRef:c}):j.createElement(Uy,{points:a,baseLine:i,needClip:t,clipPathId:r,props:n,showLabels:!0})}class hG extends j.PureComponent{render(){var t,{hide:r,dot:n,points:a,className:i,top:l,left:o,needClip:c,xAxisId:u,yAxisId:d,width:m,height:f,id:h,baseLine:p}=this.props;if(r)return null;var y=Re("recharts-area",i),b=h,{r:v=3,strokeWidth:g=2}=(t=it(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},x=xh(n),w=v*2+g;return j.createElement(j.Fragment,null,j.createElement(Ft,{className:y},c&&j.createElement("defs",null,j.createElement(Gb,{clipPathId:b,xAxisId:u,yAxisId:d}),!x&&j.createElement("clipPath",{id:"clipPath-dots-".concat(b)},j.createElement("rect",{x:o-w/2,y:l-w/2,width:m+w,height:f+w}))),j.createElement(fG,{needClip:c,clipPathId:b,props:this.props})),j.createElement($y,{points:a,mainColor:kf(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(p)&&j.createElement($y,{points:p,mainColor:kf(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var T_={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!ui.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function pG(e){var t,r=Lr(e,T_),{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:l,connectNulls:o,dot:c,fill:u,fillOpacity:d,hide:m,isAnimationActive:f,legendType:h,stroke:p,xAxisId:y,yAxisId:b}=r,v=__(r,JQ),g=Ru(),x=_3(),{needClip:w}=sp(y,b),N=Sr(),{points:k,isRange:S,baseLine:A}=(t=pe(U=>XQ(U,y,b,N,e.id)))!==null&&t!==void 0?t:{},P=np();if(g!=="horizontal"&&g!=="vertical"||P==null||x!=="AreaChart"&&x!=="ComposedChart")return null;var{height:C,width:D,x:E,y:L}=P;return!k||!k.length?null:j.createElement(hG,Bs({},v,{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:l,baseLine:A,connectNulls:o,dot:c,fill:u,fillOpacity:d,height:C,hide:m,layout:g,isAnimationActive:f,isRange:S,legendType:h,needClip:w,points:k,stroke:p,width:D,left:E,top:L,xAxisId:y,yAxisId:b}))}var xG=(e,t,r,n,a)=>{var i=r??t;if(re(i))return i;var l=e==="horizontal"?a:n,o=l.scale.domain();if(l.type==="number"){var c=Math.max(o[0],o[1]),u=Math.min(o[0],o[1]);return i==="dataMin"?u:i==="dataMax"||c<0?c:Math.max(Math.min(o[0],o[1]),0)}return i==="dataMin"?o[0]:i==="dataMax"?o[1]:o[0]};function yG(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:a,layout:i,chartBaseValue:l,xAxis:o,yAxis:c,displayedData:u,dataStartIndex:d,xAxisTicks:m,yAxisTicks:f,bandSize:h}=e,p=a&&a.length,y=xG(i,l,r,o,c),b=i==="horizontal",v=!1,g=u.map((w,N)=>{var k;p?k=a[d+N]:(k=Ye(w,n),Array.isArray(k)?v=!0:k=[y,k]);var S=k[1]==null||p&&!t&&Ye(w,n)==null;return b?{x:Zm({axis:o,ticks:m,bandSize:h,entry:w,index:N}),y:S?null:c.scale(k[1]),value:k,payload:w}:{x:S?null:o.scale(k[1]),y:Zm({axis:c,ticks:f,bandSize:h,entry:w,index:N}),value:k,payload:w}}),x;return p||v?x=g.map(w=>{var N=Array.isArray(w.value)?w.value[0]:null;return b?{x:w.x,y:N!=null&&w.y!=null?c.scale(N):null,payload:w.payload}:{x:N!=null?o.scale(N):null,y:w.y,payload:w.payload}}):x=b?c.scale(y):o.scale(y),{points:g,baseLine:x,isRange:v}}function D_(e){var t=Lr(e,T_),r=Sr();return j.createElement(tp,{id:t.id,type:"area"},n=>j.createElement(j.Fragment,null,j.createElement(Hb,{legendPayload:sG(t)}),j.createElement(Jh,{fn:aG,args:t}),j.createElement(Wb,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:iE(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),j.createElement(pG,Bs({},t,{id:n}))))}D_.displayName="Area";function sS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sS(Object(r),!0).forEach(function(n){gG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gG(e,t,r){return(t=vG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vG(e){var t=bG(e,"string");return typeof t=="symbol"?t:t+""}function bG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jG={xAxis:{},yAxis:{},zAxis:{}},M_=pn({name:"cartesianAxis",initialState:jG,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=aS(aS({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:wG,removeXAxis:NG,addYAxis:kG,removeYAxis:SG,addZAxis:Pee,removeZAxis:Eee,updateYAxisWidth:AG}=M_.actions,CG=M_.reducer,PG=["children"],EG=["dangerouslySetInnerHTML","ticks"];function I_(e,t,r){return(t=OG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OG(e){var t=_G(e,"string");return typeof t=="symbol"?t:t+""}function _G(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qy(){return qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qy.apply(null,arguments)}function R_(e,t){if(e==null)return{};var r,n,a=TG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function TG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function DG(e){var t=Lt(),r=j.useMemo(()=>{var{children:i}=e,l=R_(e,PG);return l},[e]),n=pe(i=>ia(i,r.id)),a=r===n;return j.useEffect(()=>(t(wG(r)),()=>{t(NG(r))}),[r,t]),a?e.children:null}var MG=e=>{var{xAxisId:t,className:r}=e,n=pe(uE),a=Sr(),i="xAxis",l=pe(h=>Qo(h,i,t,a)),o=pe(h=>u3(h,i,t,a)),c=pe(h=>i3(h,t)),u=pe(h=>OU(h,t));if(c==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:m}=e,f=R_(e,EG);return j.createElement(pi,qy({},f,{scale:l,x:u.x,y:u.y,width:c.width,height:c.height,className:Re("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:o}))},IG=e=>{var t,r,n,a,i;return j.createElement(DG,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(a=e.minTickGap)!==null&&a!==void 0?a:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter},j.createElement(MG,e))};class cl extends j.Component{render(){return j.createElement(IG,this.props)}}I_(cl,"displayName","XAxis");I_(cl,"defaultProps",{allowDataOverflow:Jr.allowDataOverflow,allowDecimals:Jr.allowDecimals,allowDuplicatedCategory:Jr.allowDuplicatedCategory,height:Jr.height,hide:!1,mirror:Jr.mirror,orientation:Jr.orientation,padding:Jr.padding,reversed:Jr.reversed,scale:Jr.scale,tickCount:Jr.tickCount,type:Jr.type,xAxisId:0});var RG=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,l=0;if(t){t.forEach(d=>{if(d){var m=d.getBoundingClientRect();m.width>l&&(l=m.width)}});var o=r?r.getBoundingClientRect().width:0,c=a+i,u=l+c+o+(r?n:0);return Math.round(u)}return 0},FG=["dangerouslySetInnerHTML","ticks"];function F_(e,t,r){return(t=LG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LG(e){var t=$G(e,"string");return typeof t=="symbol"?t:t+""}function $G(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vy(){return Vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vy.apply(null,arguments)}function BG(e,t){if(e==null)return{};var r,n,a=zG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function UG(e){var t=Lt();return j.useEffect(()=>(t(kG(e)),()=>{t(SG(e))}),[e,t]),null}var qG=e=>{var t,{yAxisId:r,className:n,width:a,label:i}=e,l=j.useRef(null),o=j.useRef(null),c=pe(uE),u=Sr(),d=Lt(),m="yAxis",f=pe(x=>Qo(x,m,r,u)),h=pe(x=>l3(x,r)),p=pe(x=>_U(x,r)),y=pe(x=>u3(x,m,r,u));if(j.useLayoutEffect(()=>{var x;if(!(a!=="auto"||!h||Fb(i)||j.isValidElement(i))){var w=l.current,N=w==null||(x=w.tickRefs)===null||x===void 0?void 0:x.current,{tickSize:k,tickMargin:S}=w.props,A=RG({ticks:N,label:o.current,labelGapWithTick:5,tickSize:k,tickMargin:S});Math.round(h.width)!==Math.round(A)&&d(AG({id:r,width:A}))}},[l,l==null||(t=l.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,h==null?void 0:h.width,h,d,i,r,a]),h==null||p==null)return null;var{dangerouslySetInnerHTML:b,ticks:v}=e,g=BG(e,FG);return j.createElement(pi,Vy({},g,{ref:l,labelRef:o,scale:f,x:p.x,y:p.y,width:h.width,height:h.height,className:Re("recharts-".concat(m," ").concat(m),n),viewBox:c,ticks:y}))},VG=e=>{var t,r,n,a,i;return j.createElement(j.Fragment,null,j.createElement(UG,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(a=e.minTickGap)!==null&&a!==void 0?a:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter}),j.createElement(qG,e))},KG={allowDataOverflow:en.allowDataOverflow,allowDecimals:en.allowDecimals,allowDuplicatedCategory:en.allowDuplicatedCategory,hide:!1,mirror:en.mirror,orientation:en.orientation,padding:en.padding,reversed:en.reversed,scale:en.scale,tickCount:en.tickCount,type:en.type,width:en.width,yAxisId:0};class ul extends j.Component{render(){return j.createElement(VG,this.props)}}F_(ul,"displayName","YAxis");F_(ul,"defaultProps",KG);var HG={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xu=j;function WG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var QG=typeof Object.is=="function"?Object.is:WG,GG=Xu.useSyncExternalStore,YG=Xu.useRef,XG=Xu.useEffect,ZG=Xu.useMemo,JG=Xu.useDebugValue;HG.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=YG(null);if(i.current===null){var l={hasValue:!1,value:null};i.current=l}else l=i.current;i=ZG(function(){function c(h){if(!u){if(u=!0,d=h,h=n(h),a!==void 0&&l.hasValue){var p=l.value;if(a(p,h))return m=p}return m=h}if(p=m,QG(d,h))return p;var y=n(h);return a!==void 0&&a(p,y)?(d=h,p):(d=h,m=y)}var u=!1,d,m,f=r===void 0?null:r;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,r,n,a]);var o=GG(e,i[0],i[1]);return XG(function(){l.hasValue=!0,l.value=o},[o]),JG(o),o};function eY(e){e()}function tY(){let e=null,t=null;return{clear(){e=null,t=null},notify(){eY(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var iS={notify(){},get:()=>[]};function rY(e,t){let r,n=iS,a=0,i=!1;function l(y){d();const b=n.subscribe(y);let v=!1;return()=>{v||(v=!0,b(),m())}}function o(){n.notify()}function c(){p.onStateChange&&p.onStateChange()}function u(){return i}function d(){a++,r||(r=e.subscribe(c),n=tY())}function m(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=iS)}function f(){i||(i=!0,d())}function h(){i&&(i=!1,m())}const p={addNestedSub:l,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:u,trySubscribe:f,tryUnsubscribe:h,getListeners:()=>n};return p}var nY=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sY=nY(),aY=()=>typeof navigator<"u"&&navigator.product==="ReactNative",iY=aY(),lY=()=>sY||iY?j.useLayoutEffect:j.useEffect,oY=lY(),j0=Symbol.for("react-redux-context"),w0=typeof globalThis<"u"?globalThis:{};function cY(){if(!j.createContext)return{};const e=w0[j0]??(w0[j0]=new Map);let t=e.get(j.createContext);return t||(t=j.createContext(null),e.set(j.createContext,t)),t}var uY=cY();function dY(e){const{children:t,context:r,serverState:n,store:a}=e,i=j.useMemo(()=>{const c=rY(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),l=j.useMemo(()=>a.getState(),[a]);oY(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),l!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,l]);const o=r||uY;return j.createElement(o.Provider,{value:i},t)}var mY=dY,fY=(e,t)=>t,tj=F([fY,De,FO,Zt,S3,la,Iq,Yt],Bq),rj=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},L_=Mn("mouseClick"),$_=Iu();$_.startListening({actionCreator:L_,effect:(e,t)=>{var r=e.payload,n=tj(t.getState(),rj(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(VU({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Ky=Mn("mouseMove"),B_=Iu();B_.startListening({actionCreator:Ky,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=Pb(n,n.tooltip.settings.shared),i=tj(n,rj(r));a==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(g3({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(y3()))}});function hY(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var lS={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},z_=pn({name:"rootProps",initialState:lS,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:lS.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),pY=z_.reducer,{updateOptions:xY}=z_.actions,U_=pn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:yY}=U_.actions,gY=U_.reducer,q_=Mn("keyDown"),V_=Mn("focus"),nj=Iu();nj.startListening({actionCreator:q_,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var l=Number(Eb(a,Yo(r))),o=la(r);if(i==="Enter"){var c=xf(r,"axis","hover",String(a.index));t.dispatch(My({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:c}));return}var u=IU(r),d=u==="left-to-right"?1:-1,m=i==="ArrowRight"?1:-1,f=l+m*d;if(!(o==null||f>=o.length||f<0)){var h=xf(r,"axis","hover",String(f));t.dispatch(My({active:!0,activeIndex:f.toString(),activeDataKey:void 0,activeCoordinate:h}))}}}}});nj.startListening({actionCreator:V_,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",l=xf(r,"axis","hover",String(i));t.dispatch(My({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:l}))}}}});var vn=Mn("externalEvent"),K_=Iu();K_.startListening({actionCreator:vn,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:Aq(r),activeDataKey:E3(r),activeIndex:si(r),activeLabel:P3(r),activeTooltipIndex:si(r),isTooltipActive:Cq(r)};e.payload.handler(n,e.payload.reactEvent)}}});var vY=F([Go],e=>e.tooltipItemPayloads),bY=F([vY,Qu,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(o=>o.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var l=t(i,r);return l}}}),H_=Mn("touchMove"),W_=Iu();W_.startListening({actionCreator:H_,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=Pb(n,n.tooltip.settings.shared);if(a==="axis"){var i=tj(n,rj({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(g3({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var l,o=r.touches[0],c=document.elementFromPoint(o.clientX,o.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(oE),d=(l=c.getAttribute(cE))!==null&&l!==void 0?l:void 0,m=bY(t.getState(),u,d);t.dispatch(x3({activeDataKey:d,activeIndex:u,activeCoordinate:m}))}}});var jY=DP({brush:RW,cartesianAxis:CG,chartData:tV,errorBars:BH,graphicalItems:YK,layout:i8,legend:q8,options:Yq,polarAxis:gK,polarOptions:gY,referenceElements:qW,rootProps:pY,tooltip:KU}),wY=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return _$({reducer:jY,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([$_.middleware,B_.middleware,nj.middleware,K_.middleware,W_.middleware]),devTools:{serialize:{replacer:hY},name:"recharts-".concat(r)}})};function Q_(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Sr(),i=j.useRef(null);if(a)return r;i.current==null&&(i.current=wY(t,n));var l=jv;return j.createElement(mY,{context:l,store:i.current},r)}function G_(e){var{layout:t,width:r,height:n,margin:a}=e,i=Lt(),l=Sr();return j.useEffect(()=>{l||(i(n8(t)),i(s8({width:r,height:n})),i(r8(a)))},[i,l,t,r,n,a]),null}function Y_(e){var t=Lt();return j.useEffect(()=>{t(xY(e))},[t,e]),null}var NY=["children"];function kY(e,t){if(e==null)return{};var r,n,a=SY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function SY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Sf(){return Sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sf.apply(null,arguments)}var AY={width:"100%",height:"100%"},CY=j.forwardRef((e,t)=>{var r=mE(),n=fE(),a=yE();if(!Ao(r)||!Ao(n))return null;var{children:i,otherAttributes:l,title:o,desc:c}=e,u,d;return typeof l.tabIndex=="number"?u=l.tabIndex:u=a?0:void 0,typeof l.role=="string"?d=l.role:d=a?"application":void 0,j.createElement(z4,Sf({},l,{title:o,desc:c,role:d,tabIndex:u,width:r,height:n,style:AY,ref:t}),i)}),PY=e=>{var{children:t}=e,r=pe(Mh);if(!r)return null;var{width:n,height:a,y:i,x:l}=r;return j.createElement(z4,{width:n,height:a,x:l,y:i},t)},oS=j.forwardRef((e,t)=>{var{children:r}=e,n=kY(e,NY),a=Sr();return a?j.createElement(PY,null,r):j.createElement(CY,Sf({ref:t},n),r)});function EY(){var e=Lt(),[t,r]=j.useState(null),n=pe(M8);return j.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;hr(i)&&i!==n&&e(a8(i))}},[t,e,n]),r}function cS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cS(Object(r),!0).forEach(function(n){_Y(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Y(e,t,r){return(t=TY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TY(e){var t=DY(e,"string");return typeof t=="symbol"?t:t+""}function DY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MY=j.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:l,onDoubleClick:o,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:m,onMouseUp:f,onTouchEnd:h,onTouchMove:p,onTouchStart:y,style:b,width:v}=e,g=Lt(),[x,w]=j.useState(null),[N,k]=j.useState(null);sV();var S=EY(),A=j.useCallback(Y=>{S(Y),typeof t=="function"&&t(Y),w(Y),k(Y)},[S,t,w,k]),P=j.useCallback(Y=>{g(L_(Y)),g(vn({handler:i,reactEvent:Y}))},[g,i]),C=j.useCallback(Y=>{g(Ky(Y)),g(vn({handler:u,reactEvent:Y}))},[g,u]),D=j.useCallback(Y=>{g(y3()),g(vn({handler:d,reactEvent:Y}))},[g,d]),E=j.useCallback(Y=>{g(Ky(Y)),g(vn({handler:m,reactEvent:Y}))},[g,m]),L=j.useCallback(()=>{g(V_())},[g]),U=j.useCallback(Y=>{g(q_(Y.key))},[g]),I=j.useCallback(Y=>{g(vn({handler:l,reactEvent:Y}))},[g,l]),q=j.useCallback(Y=>{g(vn({handler:o,reactEvent:Y}))},[g,o]),T=j.useCallback(Y=>{g(vn({handler:c,reactEvent:Y}))},[g,c]),M=j.useCallback(Y=>{g(vn({handler:f,reactEvent:Y}))},[g,f]),V=j.useCallback(Y=>{g(vn({handler:y,reactEvent:Y}))},[g,y]),H=j.useCallback(Y=>{g(H_(Y)),g(vn({handler:p,reactEvent:Y}))},[g,p]),se=j.useCallback(Y=>{g(vn({handler:h,reactEvent:Y}))},[g,h]);return j.createElement(R3.Provider,{value:x},j.createElement(IF.Provider,{value:N},j.createElement("div",{className:Re("recharts-wrapper",n),style:OY({position:"relative",cursor:"default",width:v,height:a},b),onClick:P,onContextMenu:I,onDoubleClick:q,onFocus:L,onKeyDown:U,onMouseDown:T,onMouseEnter:C,onMouseLeave:D,onMouseMove:E,onMouseUp:M,onTouchEnd:se,onTouchMove:H,onTouchStart:V,ref:A},r)))}),IY=["children","className","width","height","style","compact","title","desc"];function RY(e,t){if(e==null)return{};var r,n,a=FY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function FY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var X_=j.forwardRef((e,t)=>{var{children:r,className:n,width:a,height:i,style:l,compact:o,title:c,desc:u}=e,d=RY(e,IY),m=es(d);return o?j.createElement(oS,{otherAttributes:m,title:c,desc:u},r):j.createElement(MY,{className:n,style:l,width:a,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},j.createElement(oS,{otherAttributes:m,title:c,desc:u,ref:t},j.createElement(KW,null,r)))}),LY=["width","height"];function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hy.apply(null,arguments)}function $Y(e,t){if(e==null)return{};var r,n,a=BY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function BY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var zY={top:5,right:5,bottom:5,left:5},UY={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:zY,reverseStackOrder:!1,syncMethod:"index"},sj=j.forwardRef(function(t,r){var n,a=Lr(t.categoricalChartProps,UY),{width:i,height:l}=a,o=$Y(a,LY);if(!Ao(i)||!Ao(l))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:m,categoricalChartProps:f}=t,h={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:m,eventEmitter:void 0};return j.createElement(Q_,{preloadedState:{options:h},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:c},j.createElement(p_,{chartData:f.data}),j.createElement(G_,{width:i,height:l,layout:a.layout,margin:a.margin}),j.createElement(Y_,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),j.createElement(X_,Hy({},o,{width:i,height:l,ref:r})))}),qY=["axis"],Z_=j.forwardRef((e,t)=>j.createElement(sj,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:qY,tooltipPayloadSearcher:Xh,categoricalChartProps:e,ref:t})),VY=["axis","item"],J_=j.forwardRef((e,t)=>j.createElement(sj,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:VY,tooltipPayloadSearcher:Xh,categoricalChartProps:e,ref:t}));function KY(e){var t=Lt();return j.useEffect(()=>{t(yY(e))},[t,e]),null}var HY=["width","height","layout"];function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wy.apply(null,arguments)}function WY(e,t){if(e==null)return{};var r,n,a=QY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function QY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var GY={top:5,right:5,bottom:5,left:5},YY={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:GY,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},XY=j.forwardRef(function(t,r){var n,a=Lr(t.categoricalChartProps,YY),{width:i,height:l,layout:o}=a,c=WY(a,HY);if(!Ao(i)||!Ao(l))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:m,tooltipPayloadSearcher:f}=t,h={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:m,tooltipPayloadSearcher:f,eventEmitter:void 0};return j.createElement(Q_,{preloadedState:{options:h},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:u},j.createElement(p_,{chartData:a.data}),j.createElement(G_,{width:i,height:l,layout:o,margin:a.margin}),j.createElement(Y_,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),j.createElement(KY,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),j.createElement(X_,Wy({width:i,height:l},c,{ref:r})))}),ZY=["item"],JY={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},eX=j.forwardRef((e,t)=>{var r=Lr(e,JY);return j.createElement(XY,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:ZY,tooltipPayloadSearcher:Xh,categoricalChartProps:r,ref:t})}),tX=["axis"],rX=j.forwardRef((e,t)=>j.createElement(sj,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:tX,tooltipPayloadSearcher:Xh,categoricalChartProps:e,ref:t}));const Td=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#06B6D4","#84CC16","#F97316"],Af=({data:e,type:t,height:r=300})=>{const n=i=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",notation:"compact"}).format(i),a=({active:i,payload:l,label:o})=>i&&l&&l.length?s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg",children:[s.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:o}),l.map((c,u)=>s.jsxs("p",{style:{color:c.color},className:"text-sm",children:[c.name,": ",n(c.value)]},u))]}):null;if(t==="bar")return s.jsx(Ql,{width:"100%",height:r,children:s.jsxs(J_,{data:e,margin:{top:20,right:30,left:20,bottom:5},children:[s.jsx(To,{strokeDasharray:"3 3",className:"opacity-30"}),s.jsx(cl,{dataKey:"name",tick:{fontSize:12},className:"text-gray-600 dark:text-gray-400"}),s.jsx(ul,{tick:{fontSize:12},tickFormatter:n,className:"text-gray-600 dark:text-gray-400"}),s.jsx(Wl,{content:s.jsx(a,{})}),s.jsx(Yb,{dataKey:"value",fill:"#3B82F6",radius:[4,4,0,0],className:"hover:opacity-80 transition-opacity"})]})});if(t==="line")return s.jsx(Ql,{width:"100%",height:r,children:s.jsxs(Z_,{data:e,margin:{top:20,right:30,left:20,bottom:5},children:[s.jsx(To,{strokeDasharray:"3 3",className:"opacity-30"}),s.jsx(cl,{dataKey:"name",tick:{fontSize:12},className:"text-gray-600 dark:text-gray-400"}),s.jsx(ul,{tick:{fontSize:12},tickFormatter:n,className:"text-gray-600 dark:text-gray-400"}),s.jsx(Wl,{content:s.jsx(a,{})}),s.jsx(Nf,{type:"monotone",dataKey:"value",stroke:"#3B82F6",strokeWidth:3,dot:{fill:"#3B82F6",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#3B82F6",strokeWidth:2}})]})});if(t==="pie"){const i=Math.PI/180,l=({cx:o,cy:c,midAngle:u,innerRadius:d,outerRadius:m,percent:f})=>{const h=d+(m-d)*.5,p=o+h*Math.cos(-u*i),y=c+h*Math.sin(-u*i);return s.jsx("text",{x:p,y,fill:"white",textAnchor:p>o?"start":"end",dominantBaseline:"central",fontSize:12,fontWeight:"bold",children:`${(f*100).toFixed(0)}%`})};return s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ql,{width:"100%",height:r,children:s.jsxs(eX,{children:[s.jsx(o_,{data:e,cx:"50%",cy:"50%",labelLine:!1,label:l,outerRadius:80,fill:"#8884d8",dataKey:"value",children:e.map((o,c)=>s.jsx(Xo,{fill:Td[c%Td.length]},`cell-${c}`))}),s.jsx(Wl,{content:s.jsx(a,{})})]})}),s.jsx("div",{className:"flex flex-wrap justify-center gap-3",children:e.map((o,c)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Td[c%Td.length]}}),s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:o.name})]},o.name))})]})}return null},nX={Prospection:"#EF4444",Qualification:"#F59E0B",Proposition:"#3B82F6",Négociation:"#8B5CF6",Signature:"#10B981"},sX=({data:e})=>{const t=n=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",notation:"compact"}).format(n),r=({active:n,payload:a,label:i})=>{if(n&&a&&a.length){const l=a[0].payload;return s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg",children:[s.jsx("p",{className:"font-medium text-gray-900 dark:text-white mb-2",children:i}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{className:"text-sm text-blue-600",children:["Opportunités: ",l.count]}),s.jsxs("p",{className:"text-sm text-green-600",children:["Valeur: ",t(l.value)]}),s.jsxs("p",{className:"text-sm text-purple-600",children:["Taux de conversion: ",l.conversionRate,"%"]})]})]})}return null};return s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ql,{width:"100%",height:300,children:s.jsxs(J_,{data:e,margin:{top:20,right:30,left:20,bottom:5},children:[s.jsx(To,{strokeDasharray:"3 3",className:"opacity-30"}),s.jsx(cl,{dataKey:"stage",tick:{fontSize:11},className:"text-gray-600 dark:text-gray-400"}),s.jsx(ul,{tick:{fontSize:11},tickFormatter:t,className:"text-gray-600 dark:text-gray-400"}),s.jsx(Wl,{content:s.jsx(r,{})}),s.jsx(Yb,{dataKey:"value",radius:[4,4,0,0],children:e.map((n,a)=>s.jsx(Xo,{fill:nX[n.stage]||"#3B82F6"},`cell-${a}`))})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e.reduce((n,a)=>n+a.count,0)}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Opportunités"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[e.length>0?(e.reduce((n,a)=>n+a.conversionRate,0)/e.length).toFixed(1):0,"%"]}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Taux Moyen"})]})]})]})},aX=({data:e,showArea:t=!0})=>{const r=i=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",notation:"compact"}).format(i),n=i=>new Date(i).toLocaleDateString("fr-FR",{month:"short",year:"2-digit"}),a=({active:i,payload:l,label:o})=>i&&l&&l.length?s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg",children:[s.jsx("p",{className:"font-medium text-gray-900 dark:text-white mb-2",children:n(o)}),l.map((c,u)=>s.jsxs("p",{style:{color:c.color},className:"text-sm",children:[c.name,": ",r(c.value)]},u))]}):null;return t?s.jsx(Ql,{width:"100%",height:300,children:s.jsxs(rX,{data:e,margin:{top:20,right:30,left:20,bottom:5},children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.8}),s.jsx("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:.1})]})}),s.jsx(To,{strokeDasharray:"3 3",className:"opacity-30"}),s.jsx(cl,{dataKey:"month",tick:{fontSize:11},tickFormatter:n,className:"text-gray-600 dark:text-gray-400"}),s.jsx(ul,{tick:{fontSize:11},tickFormatter:r,className:"text-gray-600 dark:text-gray-400"}),s.jsx(Wl,{content:s.jsx(a,{})}),s.jsx(D_,{type:"monotone",dataKey:"revenue",stroke:"#3B82F6",strokeWidth:3,fillOpacity:1,fill:"url(#colorRevenue)",name:"Chiffre d'Affaires"})]})}):s.jsx(Ql,{width:"100%",height:300,children:s.jsxs(Z_,{data:e,margin:{top:20,right:30,left:20,bottom:5},children:[s.jsx(To,{strokeDasharray:"3 3",className:"opacity-30"}),s.jsx(cl,{dataKey:"month",tick:{fontSize:11},tickFormatter:n,className:"text-gray-600 dark:text-gray-400"}),s.jsx(ul,{tick:{fontSize:11},tickFormatter:r,className:"text-gray-600 dark:text-gray-400"}),s.jsx(Wl,{content:s.jsx(a,{})}),s.jsx(Nf,{type:"monotone",dataKey:"revenue",stroke:"#3B82F6",strokeWidth:3,dot:{fill:"#3B82F6",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#3B82F6",strokeWidth:2},name:"Chiffre d'Affaires"}),s.jsx(Nf,{type:"monotone",dataKey:"target",stroke:"#10B981",strokeWidth:2,strokeDasharray:"5 5",dot:!1,name:"Objectif"})]})})},iX=({data:e})=>!e||e.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(dr,{className:"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500"}),s.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Aucune alerte de stock"})]}):s.jsxs("div",{className:"space-y-3",children:[e.slice(0,5).map((t,r)=>{const n=t.currentStock/t.maxStock*100,a=n<=20,i=n<=10;return s.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[i?s.jsx(Ya,{className:"h-4 w-4 text-red-500"}):a?s.jsx(Jg,{className:"h-4 w-4 text-yellow-500"}):s.jsx(dr,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t.name})]}),s.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[t.currentStock," / ",t.maxStock]})]}),s.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${i?"bg-red-500":a?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.max(n,5)}%`}})}),s.jsxs("div",{className:"flex justify-between mt-1",children:[s.jsxs("span",{className:`text-xs font-medium ${i?"text-red-600 dark:text-red-400":a?"text-yellow-600 dark:text-yellow-400":"text-green-600 dark:text-green-400"}`,children:[n.toFixed(1),"%"]}),s.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["SKU: ",t.sku]})]})]},r)}),e.length>5&&s.jsx("div",{className:"text-center pt-2",children:s.jsxs("button",{className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:["Voir toutes les alertes (",e.length,")"]})})]}),lX=({title:e,value:t,format:r,icon:n,color:a,bgColor:i,change:l})=>{const o=(d,m)=>{switch(m){case"currency":return new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",notation:"compact"}).format(d);case"percentage":return`${d.toFixed(1)}%`;default:return new Intl.NumberFormat("fr-FR").format(d)}},c=l&&l>0,u=l&&l<0;return s.jsx("div",{className:"bg-white dark:bg-gray-800 overflow-hidden shadow-lg rounded-xl border border-gray-200 dark:border-gray-700 hover:shadow-xl transition-all duration-300",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center",children:s.jsx("div",{className:`flex-shrink-0 p-3 rounded-lg ${i} dark:bg-opacity-20`,children:s.jsx(n,{className:`h-6 w-6 ${a}`})})}),l!==void 0&&s.jsxs("div",{className:`flex items-center text-sm font-medium ${c?"text-green-600 dark:text-green-400":u?"text-red-600 dark:text-red-400":"text-gray-500 dark:text-gray-400"}`,children:[c&&s.jsx(Ka,{className:"h-4 w-4 mr-1"}),u&&s.jsx(Jg,{className:"h-4 w-4 mr-1"}),l>0?"+":"",l.toFixed(1),"%"]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:o(t,r)}),s.jsx("div",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mt-1",children:e})]})]})})},oX=e=>{switch(e){case"quote":return Ue;case"invoice":return fl;case"payment":return Hs;case"customer":return Xr;case"approval":return qt;case"rejection":return Pn;default:return Je}},cX=e=>{switch(e){case"quote":return"text-blue-600 bg-blue-100 dark:bg-blue-900";case"invoice":return"text-purple-600 bg-purple-100 dark:bg-purple-900";case"payment":return"text-green-600 bg-green-100 dark:bg-green-900";case"customer":return"text-indigo-600 bg-indigo-100 dark:bg-indigo-900";case"approval":return"text-green-600 bg-green-100 dark:bg-green-900";case"rejection":return"text-red-600 bg-red-100 dark:bg-red-900";default:return"text-gray-600 bg-gray-100 dark:bg-gray-700"}},uX=({activities:e})=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white flex items-center",children:[s.jsx(Je,{className:"h-5 w-5 text-gray-400 mr-2"}),"Activités Récentes"]})}),s.jsx("div",{className:"p-6",children:e.length>0?s.jsx("div",{className:"flow-root",children:s.jsx("ul",{className:"-mb-8",children:e.map((t,r)=>{const n=oX(t.type),a=cX(t.type);return s.jsx("li",{children:s.jsxs("div",{className:"relative pb-8",children:[r!==e.length-1&&s.jsx("span",{className:"absolute top-5 left-5 -ml-px h-full w-0.5 bg-gray-200 dark:bg-gray-600","aria-hidden":"true"}),s.jsxs("div",{className:"relative flex items-start space-x-3",children:[s.jsx("div",{className:"relative px-1",children:s.jsx("div",{className:`h-8 w-8 rounded-full flex items-center justify-center ring-8 ring-white dark:ring-gray-800 ${a}`,children:s.jsx(n,{className:"h-4 w-4"})})}),s.jsx("div",{className:"min-w-0 flex-1",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:s.jsx("span",{className:"font-medium",children:t.message})}),s.jsxs("div",{className:"mt-1 flex items-center space-x-2 text-xs text-gray-500 dark:text-gray-400",children:[s.jsx(Ve,{className:"h-3 w-3"}),s.jsx("span",{children:t.user}),s.jsx("span",{children:"•"}),s.jsx("span",{children:t.time}),t.amount&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"•"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",notation:"compact"}).format(t.amount)})]})]})]})})]})]})},t.id)})})}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Je,{className:"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500"}),s.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Aucune activité récente"})]})})]}),uS=()=>{const{hasPermission:e}=Ze(),t=Vg(),n=[{title:"Nouveau Client",description:"Ajouter un client",icon:Xr,color:"text-blue-600",bgColor:"bg-blue-100 dark:bg-blue-900",href:"/customers/create",permission:"customers.create"},{title:"Créer un Devis",description:"Nouveau devis",icon:Ue,color:"text-yellow-600",bgColor:"bg-yellow-100 dark:bg-yellow-900",href:"/quotes/create",permission:"quotes.create"},{title:"Nouvelle Facture",description:"Créer une facture",icon:fl,color:"text-purple-600",bgColor:"bg-purple-100 dark:bg-purple-900",href:"/invoices/create",permission:"invoices.create"},{title:"Enregistrer Paiement",description:"Nouveau paiement",icon:Hs,color:"text-green-600",bgColor:"bg-green-100 dark:bg-green-900",href:"/payments/create",permission:"payments.create"},{title:"Ajouter Produit",description:"Nouveau produit",icon:dr,color:"text-indigo-600",bgColor:"bg-indigo-100 dark:bg-indigo-900",href:"/products/create",permission:"products.create"},{title:"Voir Rapports",description:"Analytics détaillés",icon:Zf,color:"text-gray-600",bgColor:"bg-gray-100 dark:bg-gray-700",href:"/reports",permission:"reports.sales"},{title:"Nouvelle Mission",description:"Créer une mission",icon:Ue,color:"text-orange-600",bgColor:"bg-orange-100 dark:bg-orange-900",href:"/services/missions",permission:"missions.create"},{title:"Nouvelle Intervention",description:"Planifier intervention",icon:_e,color:"text-teal-600",bgColor:"bg-teal-100 dark:bg-teal-900",href:"/services/interventions",permission:"interventions.create"}].filter(a=>!a.permission||e(a.permission));return s.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white flex items-center",children:[s.jsx($e,{className:"h-5 w-5 text-gray-400 mr-2"}),"Actions Rapides"]})}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.map((a,i)=>{const l=a.icon;return s.jsxs("button",{onClick:()=>t(a.href),className:"flex items-center p-4 border border-gray-200 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200 group",children:[s.jsx("div",{className:`flex-shrink-0 p-2 rounded-lg ${a.bgColor} group-hover:scale-110 transition-transform duration-200`,children:s.jsx(l,{className:`h-5 w-5 ${a.color}`})}),s.jsxs("div",{className:"ml-4 text-left",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.title}),s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:a.description})]})]},i)})}),n.length===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(y4,{className:"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500"}),s.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Aucune action disponible"})]})]})]})},N0=oe("reports"),dX=()=>{var x,w,N,k,S,A,P,C,D,E,L,U,I,q,T,M,V,H,se,Y;const{user:e,hasPermission:t}=Ze(),[r,n]=j.useState("30d"),[a,i]=j.useState(3e4),[l,o]=j.useState(new Date),{data:c,isLoading:u,refetch:d}=ve({queryKey:["dashboard",r],queryFn:()=>N0.getAll({endpoint:"dashboard",period:r}),refetchInterval:a,refetchOnWindowFocus:!0}),{data:m}=ve({queryKey:["pipeline",r],queryFn:()=>N0.getAll({endpoint:"pipeline",period:r}),enabled:t("quotes.read"),refetchInterval:a}),{data:f}=ve({queryKey:["sales-analytics",r],queryFn:()=>N0.getAll({endpoint:"sales",period:r}),enabled:t("reports.sales"),refetchInterval:a}),h=()=>{d(),o(new Date)};j.useEffect(()=>{const xe=setInterval(()=>{o(new Date)},a);return()=>clearInterval(xe)},[a]);const p=(c==null?void 0:c.data)||{},y=(m==null?void 0:m.data)||{},b=(f==null?void 0:f.data)||{},g=[{title:"Chiffre d'Affaires",value:((x=p.revenue)==null?void 0:x.total)||0,format:"currency",icon:mt,color:"text-green-600",bgColor:"bg-green-100",change:((w=p.revenue)==null?void 0:w.change)||0,permission:"reports.financial"},{title:"Clients Actifs",value:((N=p.customers)==null?void 0:N.active)||0,format:"number",icon:Xr,color:"text-blue-600",bgColor:"bg-blue-100",change:((k=p.customers)==null?void 0:k.change)||0,permission:"customers.read"},{title:"Devis en Cours",value:((S=p.quotes)==null?void 0:S.pending)||0,format:"number",icon:Ue,color:"text-yellow-600",bgColor:"bg-yellow-100",change:((A=p.quotes)==null?void 0:A.change)||0,permission:"quotes.read"},{title:"Factures Impayées",value:((P=p.invoices)==null?void 0:P.unpaid)||0,format:"number",icon:fl,color:"text-red-600",bgColor:"bg-red-100",change:((C=p.invoices)==null?void 0:C.change)||0,permission:"invoices.read"},{title:"Taux de Conversion",value:((D=p.conversion)==null?void 0:D.rate)||0,format:"percentage",icon:_n,color:"text-purple-600",bgColor:"bg-purple-100",change:((E=p.conversion)==null?void 0:E.change)||0,permission:"reports.sales"},{title:"Projets Actifs",value:((L=p.projects)==null?void 0:L.active)||0,format:"number",icon:o4,color:"text-indigo-600",bgColor:"bg-indigo-100",change:((U=p.projects)==null?void 0:U.change)||0,permission:"quotes.read"}].filter(xe=>!xe.permission||t(xe.permission));return u?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Tableau de Bord"}),s.jsxs("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:["Bonjour ",e==null?void 0:e.firstName,", voici un aperçu de votre activité"]}),s.jsxs("div",{className:"flex items-center mt-2 text-sm text-gray-500 dark:text-gray-400",children:[s.jsx(_e,{className:"h-4 w-4 mr-1"}),"Dernière mise à jour : ",l.toLocaleTimeString()]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("select",{value:r,onChange:xe=>n(xe.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[s.jsx("option",{value:"7d",children:"7 derniers jours"}),s.jsx("option",{value:"30d",children:"30 derniers jours"}),s.jsx("option",{value:"90d",children:"3 derniers mois"}),s.jsx("option",{value:"1y",children:"Cette année"})]}),s.jsxs("button",{onClick:h,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[s.jsx(p4,{className:"h-4 w-4"}),s.jsx("span",{children:"Actualiser"})]})]})]})}),s.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6",children:g.map((xe,fe)=>s.jsx(lX,{...xe},fe))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[s.jsx(yo,{className:"h-5 w-5 text-orange-500 mr-2"}),"Alertes et Notifications"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(dr,{className:"h-5 w-5 text-orange-600 mr-3"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-orange-800 dark:text-orange-200",children:"Stock faible"}),s.jsx("div",{className:"text-xs text-orange-600 dark:text-orange-300",children:"3 articles sous le seuil d'alerte"})]})]}),s.jsx("button",{className:"text-orange-600 hover:text-orange-800 dark:text-orange-400 dark:hover:text-orange-300",children:s.jsx(kt,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(_e,{className:"h-5 w-5 text-blue-600 mr-3"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"Interventions en cours"}),s.jsx("div",{className:"text-xs text-blue-600 dark:text-blue-300",children:"5 interventions actives"})]})]}),s.jsx("button",{className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:s.jsx(kt,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ue,{className:"h-5 w-5 text-yellow-600 mr-3"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"Rapports en attente"}),s.jsx("div",{className:"text-xs text-yellow-600 dark:text-yellow-300",children:"2 rapports à valider"})]})]}),s.jsx("button",{className:"text-yellow-600 hover:text-yellow-800 dark:text-yellow-400 dark:hover:text-yellow-300",children:s.jsx(kt,{className:"h-4 w-4"})})]})]})]})}),s.jsx("div",{children:s.jsx(uS,{})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t("quotes.read")&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[s.jsx(_n,{className:"h-5 w-5 text-blue-500 mr-2"}),"Pipeline des Opportunités"]}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:y.totalValue?`${(y.totalValue/1e6).toFixed(1)}M FCFA`:"0 FCFA"})]}),s.jsx(sX,{data:y.stages||[]})]}),t("reports.financial")&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[s.jsx(Ka,{className:"h-5 w-5 text-green-500 mr-2"}),"Évolution du Chiffre d'Affaires"]}),s.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Tendance : ",((I=p.revenue)==null?void 0:I.trend)>0?"+":"",((q=p.revenue)==null?void 0:q.trend)||0,"%"]})]}),s.jsx(aX,{data:b.monthlyRevenue||[]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t("reports.sales")&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[s.jsx(Zf,{className:"h-5 w-5 text-purple-500 mr-2"}),"Ventes par Commercial"]}),s.jsx(Af,{data:b.bySalesperson||[],type:"bar"})]}),t("reports.sales")&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[s.jsx(cR,{className:"h-5 w-5 text-indigo-500 mr-2"}),"Répartition par Service"]}),s.jsx(Af,{data:b.byService||[],type:"pie"})]}),t("products.read")&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[s.jsx(yo,{className:"h-5 w-5 text-orange-500 mr-2"}),"Alertes Stock"]}),s.jsx(iX,{data:((T=p.stock)==null?void 0:T.alerts)||[]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx(uX,{activities:p.recentActivities||[]})}),s.jsx("div",{children:s.jsx(uS,{})})]}),t("reports.financial")&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Métriques Financières Détaillées"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",notation:"compact"}).format(((M=p.financial)==null?void 0:M.revenue)||0)}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Revenus"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",notation:"compact"}).format(((V=p.financial)==null?void 0:V.expenses)||0)}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Dépenses"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",notation:"compact"}).format(((H=p.financial)==null?void 0:H.profit)||0)}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Bénéfice"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[((((se=p.financial)==null?void 0:se.profit)||0)/(((Y=p.financial)==null?void 0:Y.revenue)||1)*100).toFixed(1),"%"]}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Marge"})]})]})]})]})},mX=oe("customers"),fX=ze({name:B().min(1,"Nom requis"),type:fr(["INDIVIDUAL","COMPANY"]),legalName:B().optional(),siret:B().optional(),vatNumber:B().optional(),email:B().email("Email invalide").optional().or(nl("")),phone:B().optional(),mobile:B().optional(),website:B().url("URL invalide").optional().or(nl("")),paymentTerms:J().min(0).max(365).default(30),paymentMethod:fr(["TRANSFER","CHECK","CARD","CASH","OTHER"]).default("TRANSFER"),creditLimit:J().min(0).default(0),discountRate:J().min(0).max(100).default(0),category:B().optional(),notes:B().optional(),addressLine1:B().min(1,"Adresse requise"),addressLine2:B().optional(),postalCode:B().min(1,"Code postal requis"),city:B().min(1,"Ville requise"),country:B().default("Côte d'Ivoire")}),hX=({isOpen:e,onClose:t})=>{const r=Ne(),[n,a]=j.useState(!1),{register:i,handleSubmit:l,formState:{errors:o},reset:c,watch:u}=gt({resolver:vt(fX),defaultValues:{type:"COMPANY",paymentTerms:30,paymentMethod:"TRANSFER",creditLimit:0,discountRate:0,country:"Côte d'Ivoire"}}),d=u("type"),m=be({mutationFn:h=>{const{addressLine1:p,addressLine2:y,postalCode:b,city:v,country:g,...x}=h;return mX.create({...x,addresses:[{type:"BILLING",name:"Adresse principale",addressLine1:p,addressLine2:y,postalCode:b,city:v,country:g,isDefault:!0}]})},onSuccess:()=>{r.invalidateQueries({queryKey:["customers"]}),c(),t()}}),f=async h=>{a(!0);try{await m.mutateAsync(h)}catch(p){console.error("Erreur lors de la création:",p)}finally{a(!1)}};return e?s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-screen overflow-y-auto",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Créer un Client"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx(ot,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:l(f),className:"px-6 py-4 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type de client"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{...i("type"),type:"radio",value:"COMPANY",className:"mr-2"}),s.jsx(Xa,{className:"h-4 w-4 mr-1"}),"Entreprise"]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{...i("type"),type:"radio",value:"INDIVIDUAL",className:"mr-2"}),s.jsx(Ve,{className:"h-4 w-4 mr-1"}),"Particulier"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:d==="COMPANY"?"Nom de l'entreprise":"Nom complet"}),s.jsx("input",{...i("name"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:d==="COMPANY"?"ACME Corp":"Jean Dupont"}),o.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.name.message})]}),d==="COMPANY"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Raison sociale"}),s.jsx("input",{...i("legalName"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"ACME Corporation SARL"})]})]}),d==="COMPANY"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SIRET"}),s.jsx("input",{...i("siret"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"CI-123456789"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Numéro TVA"}),s.jsx("input",{...i("vatNumber"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"TVACI123456789"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(zo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{...i("email"),type:"email",className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"contact@exemple.com"})]}),o.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.email.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Téléphone"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{...i("phone"),type:"tel",className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"+225 07 07 07 07 07"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile"}),s.jsx("input",{...i("mobile"),type:"tel",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"+225 07 07 07 07 07"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Site web"}),s.jsx("input",{...i("website"),type:"url",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"https://exemple.com"}),o.website&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.website.message})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("h4",{className:"text-md font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(Jf,{className:"h-4 w-4 mr-2"}),"Adresse"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse ligne 1"}),s.jsx("input",{...i("addressLine1"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"123 Rue de la Paix"}),o.addressLine1&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.addressLine1.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse ligne 2"}),s.jsx("input",{...i("addressLine2"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Appartement, étage, etc."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Code postal"}),s.jsx("input",{...i("postalCode"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"01 BP 1234"}),o.postalCode&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.postalCode.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ville"}),s.jsx("input",{...i("city"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Abidjan"}),o.city&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.city.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pays"}),s.jsx("input",{...i("country"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Côte d'Ivoire"})]})]})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("h4",{className:"text-md font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(Hs,{className:"h-4 w-4 mr-2"}),"Conditions Commerciales"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Délai de paiement (jours)"}),s.jsx("input",{...i("paymentTerms",{valueAsNumber:!0}),type:"number",min:"0",max:"365",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mode de paiement"}),s.jsxs("select",{...i("paymentMethod"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"TRANSFER",children:"Virement"}),s.jsx("option",{value:"CHECK",children:"Chèque"}),s.jsx("option",{value:"CARD",children:"Carte"}),s.jsx("option",{value:"CASH",children:"Espèces"}),s.jsx("option",{value:"OTHER",children:"Autre"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Limite de crédit (FCFA)"}),s.jsx("input",{...i("creditLimit",{valueAsNumber:!0}),type:"number",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Taux de remise (%)"}),s.jsx("input",{...i("discountRate",{valueAsNumber:!0}),type:"number",min:"0",max:"100",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Catégorie"}),s.jsx("input",{...i("category"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Grande entreprise, PME, etc."})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),s.jsx("textarea",{...i("notes"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Notes sur le client..."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50",children:n?"Création...":"Créer le client"})]})]})]})}):null},pX=oe("customers"),xX=()=>{var f,h;const{hasPermission:e}=Ze(),[t,r]=j.useState(1),[n,a]=j.useState(""),[i,l]=j.useState(!1),{data:o,isLoading:c,error:u}=ve({queryKey:["customers",t,n],queryFn:()=>pX.getAll({page:t,limit:10,search:n})});if(c)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(u)return s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:"Erreur lors du chargement des clients"});const d=((f=o==null?void 0:o.data)==null?void 0:f.customers)||[],m=(h=o==null?void 0:o.data)==null?void 0:h.pagination;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Clients"}),s.jsx("p",{className:"text-gray-600",children:"Gérez vos clients et leurs informations"})]}),e("customers.create")&&s.jsxs("button",{onClick:()=>l(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 flex items-center space-x-2",children:[s.jsx($e,{className:"h-4 w-4"}),s.jsx("span",{children:"Nouveau Client"})]})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(At,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:"Rechercher un client...",value:n,onChange:p=>a(p.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:[s.jsx(d4,{className:"h-4 w-4"}),s.jsx("span",{children:"Filtres"})]})]})}),s.jsx(hX,{isOpen:i,onClose:()=>l(!1)}),s.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(p=>{var y;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.name}),s.jsx("div",{className:"text-sm text-gray-500",children:p.customerNumber})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${p.type==="COMPANY"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:p.type==="COMPANY"?"Entreprise":"Particulier"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.jsxs("div",{children:[p.email&&s.jsx("div",{children:p.email}),p.phone&&s.jsx("div",{children:p.phone})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:((y=p.service)==null?void 0:y.name)||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${p.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:p.isActive?"Actif":"Inactif"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e("customers.read")&&s.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:s.jsx(kt,{className:"h-4 w-4"})}),e("customers.update")&&s.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",children:s.jsx(Kt,{className:"h-4 w-4"})}),e("customers.delete")&&s.jsx("button",{className:"text-red-600 hover:text-red-900",children:s.jsx(Tt,{className:"h-4 w-4"})})]})})]},p.id)})})]}),m&&m.totalPages>1&&s.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>r(t-1),disabled:t===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Précédent"}),s.jsx("button",{onClick:()=>r(t+1),disabled:t===m.totalPages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Suivant"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Affichage de"," ",s.jsx("span",{className:"font-medium",children:(t-1)*10+1})," ","à"," ",s.jsx("span",{className:"font-medium",children:Math.min(t*10,m.total)})," ","sur"," ",s.jsx("span",{className:"font-medium",children:m.total})," ","résultats"]})}),s.jsx("div",{children:s.jsx("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:Array.from({length:m.totalPages},(p,y)=>y+1).map(p=>s.jsx("button",{onClick:()=>r(p),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${p===t?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:p},p))})})]})]})]})]})},yX=oe("quotes"),gX=oe("customers"),vX=oe("products"),bX=ze({productId:J().optional(),description:B().min(1,"Description requise"),quantity:J().min(.01,"Quantité invalide"),unitPriceHt:J().min(0,"Prix invalide"),discountRate:J().min(0).max(100).default(0),vatRate:J().min(0).max(100).default(18)}),jX=ze({customerId:J().min(1,"Client requis"),customerAddressId:J().optional(),quoteDate:B().min(1,"Date requise"),validUntil:B().min(1,"Date de validité requise"),terms:B().optional(),notes:B().optional(),items:ri(bX).min(1,"Au moins un article requis")}),wX=({isOpen:e,onClose:t})=>{var k,S;const r=Ne(),[n,a]=j.useState(!1),{data:i}=ve({queryKey:["customers"],queryFn:()=>gX.getAll({limit:100})}),{data:l}=ve({queryKey:["products"],queryFn:()=>vX.getAll({limit:100,isActive:!0})}),{register:o,handleSubmit:c,formState:{errors:u},reset:d,control:m,watch:f}=gt({resolver:vt(jX),defaultValues:{quoteDate:new Date().toISOString().split("T")[0],validUntil:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],items:[{description:"",quantity:1,unitPriceHt:0,discountRate:0,vatRate:18}]}}),{fields:h,append:p,remove:y}=Ja({control:m,name:"items"}),b=f("items"),v=be({mutationFn:A=>yX.create(A),onSuccess:()=>{r.invalidateQueries({queryKey:["quotes"]}),d(),t()}}),g=async A=>{a(!0);try{await v.mutateAsync(A)}catch(P){console.error("Erreur lors de la création:",P)}finally{a(!1)}},x=()=>b.reduce((A,P)=>{const C=P.quantity*P.unitPriceHt*(1-P.discountRate/100),D=C*(P.vatRate/100);return A+C+D},0);if(!e)return null;const w=((k=i==null?void 0:i.data)==null?void 0:k.customers)||[],N=((S=l==null?void 0:l.data)==null?void 0:S.products)||[];return s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-screen overflow-y-auto",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(Ue,{className:"h-5 w-5 mr-2"}),"Créer un Devis"]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx(ot,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:c(g),className:"px-6 py-4 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ve,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsxs("select",{...o("customerId",{valueAsNumber:!0}),className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Sélectionner un client"}),w.map(A=>s.jsxs("option",{value:A.id,children:[A.name," (",A.customerNumber,")"]},A.id))]})]}),u.customerId&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.customerId.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date du devis"}),s.jsxs("div",{className:"relative",children:[s.jsx(_e,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{...o("quoteDate"),type:"date",className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),u.quoteDate&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.quoteDate.message})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valide jusqu'au"}),s.jsx("input",{...o("validUntil"),type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"}),u.validUntil&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.validUntil.message})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"text-md font-medium text-gray-900",children:"Articles"}),s.jsxs("button",{type:"button",onClick:()=>p({description:"",quantity:1,unitPriceHt:0,discountRate:0,vatRate:18}),className:"bg-blue-600 text-white px-3 py-1 rounded-md text-sm hover:bg-blue-700 flex items-center",children:[s.jsx($e,{className:"h-4 w-4 mr-1"}),"Ajouter"]})]}),s.jsx("div",{className:"space-y-4",children:h.map((A,P)=>{var C,D,E,L;return s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Article ",P+1]}),h.length>1&&s.jsx("button",{type:"button",onClick:()=>y(P),className:"text-red-600 hover:text-red-800",children:s.jsx(Tt,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Produit (optionnel)"}),s.jsxs("select",{...o(`items.${P}.productId`,{valueAsNumber:!0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Sélectionner un produit"}),N.map(U=>s.jsxs("option",{value:U.id,children:[U.name," (",U.sku,")"]},U.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("input",{...o(`items.${P}.description`),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Description de l'article"}),((D=(C=u.items)==null?void 0:C[P])==null?void 0:D.description)&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:(L=(E=u.items[P])==null?void 0:E.description)==null?void 0:L.message})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantité"}),s.jsx("input",{...o(`items.${P}.quantity`,{valueAsNumber:!0}),type:"number",min:"0.01",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prix unitaire HT"}),s.jsx("input",{...o(`items.${P}.unitPriceHt`,{valueAsNumber:!0}),type:"number",min:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Remise (%)"}),s.jsx("input",{...o(`items.${P}.discountRate`,{valueAsNumber:!0}),type:"number",min:"0",max:"100",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"TVA (%)"}),s.jsx("input",{...o(`items.${P}.vatRate`,{valueAsNumber:!0}),type:"number",min:"0",max:"100",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]})]})]},A.id)})})]}),s.jsx("div",{className:"border-t pt-4",children:s.jsx("div",{className:"flex justify-end",children:s.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["Total TTC: ",new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(x())]})})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Conditions"}),s.jsx("textarea",{...o("terms"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Conditions de vente..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),s.jsx("textarea",{...o("notes"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Notes internes..."})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50",children:n?"Création...":"Créer le devis"})]})]})]})})},NX=({isOpen:e,onClose:t,quote:r})=>{if(!e||!r)return null;const n=i=>{const l=i.quantity*i.unitPriceHt*(1-i.discountRate/100),o=l*(i.vatRate/100);return l+o},a=()=>r.items.reduce((i,l)=>i+n(l),0);return s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-screen overflow-y-auto",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(Ue,{className:"h-5 w-5 mr-2"}),"Devis ",r.quoteNumber]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx(ot,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"px-6 py-4 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ve,{className:"text-gray-400 h-4 w-4 mr-2"}),s.jsxs("span",{children:[r.customer.name," (",r.customer.customerNumber,")"]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date du devis"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(_e,{className:"text-gray-400 h-4 w-4 mr-2"}),s.jsx("span",{children:new Date(r.quoteDate).toLocaleDateString()})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valide jusqu'au"}),s.jsx("span",{children:new Date(r.validUntil).toLocaleDateString()})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Articles"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Description"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Quantité"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Prix unitaire HT"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Remise"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"TVA"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Total TTC"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.items.map((i,l)=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:i.description}),s.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:i.quantity}),s.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(i.unitPriceHt)}),s.jsxs("td",{className:"px-4 py-2 text-sm text-gray-900",children:[i.discountRate,"%"]}),s.jsxs("td",{className:"px-4 py-2 text-sm text-gray-900",children:[i.vatRate,"%"]}),s.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(n(i))})]},l))})]})})]}),s.jsx("div",{className:"border-t pt-4",children:s.jsx("div",{className:"flex justify-end",children:s.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["Total TTC: ",new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(a())]})})}),(r.terms||r.notes)&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 border-t pt-4",children:[r.terms&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Conditions"}),s.jsx("p",{className:"text-sm text-gray-600",children:r.terms})]}),r.notes&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),s.jsx("p",{className:"text-sm text-gray-600",children:r.notes})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Statut"}),s.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800",children:r.status})]}),s.jsx("div",{className:"flex justify-end pt-4 border-t",children:s.jsx("button",{onClick:t,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700",children:"Fermer"})})]})]})})},kX=oe("quotes"),SX=oe("customers"),AX=oe("products"),CX=ze({id:J().optional(),productId:J().optional(),description:B().min(1,"Description requise"),quantity:J().min(.01,"Quantité invalide"),unitPriceHt:J().min(0,"Prix invalide"),discountRate:J().min(0).max(100).default(0),vatRate:J().min(0).max(100).default(18)}),PX=ze({customerId:J().min(1,"Client requis"),customerAddressId:J().optional(),quoteDate:B().min(1,"Date requise"),validUntil:B().min(1,"Date de validité requise"),terms:B().optional(),notes:B().optional(),items:ri(CX).min(1,"Au moins un article requis")}),EX=({isOpen:e,onClose:t,quote:r})=>{var S,A;const n=Ne(),[a,i]=j.useState(!1),{data:l}=ve({queryKey:["customers"],queryFn:()=>SX.getAll({limit:100})}),{data:o}=ve({queryKey:["products"],queryFn:()=>AX.getAll({limit:100,isActive:!0})}),{register:c,handleSubmit:u,formState:{errors:d},reset:m,control:f,watch:h}=gt({resolver:vt(PX),defaultValues:{customerId:(r==null?void 0:r.customerId)||0,quoteDate:r!=null&&r.quoteDate?new Date(r.quoteDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],validUntil:r!=null&&r.validUntil?new Date(r.validUntil).toISOString().split("T")[0]:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],terms:(r==null?void 0:r.terms)||"",notes:(r==null?void 0:r.notes)||"",items:(r==null?void 0:r.items)||[{description:"",quantity:1,unitPriceHt:0,discountRate:0,vatRate:18}]}}),{fields:p,append:y,remove:b}=Ja({control:f,name:"items"}),v=h("items"),g=be({mutationFn:P=>kX.update(r.id,P),onSuccess:()=>{n.invalidateQueries({queryKey:["quotes"]}),m(),t()}}),x=async P=>{i(!0);try{await g.mutateAsync(P)}catch(C){console.error("Erreur lors de la modification:",C)}finally{i(!1)}},w=()=>v.reduce((P,C)=>{const D=C.quantity*C.unitPriceHt*(1-C.discountRate/100),E=D*(C.vatRate/100);return P+D+E},0);if(!e||!r)return null;const N=((S=l==null?void 0:l.data)==null?void 0:S.customers)||[],k=((A=o==null?void 0:o.data)==null?void 0:A.products)||[];return s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-screen overflow-y-auto",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(Ue,{className:"h-5 w-5 mr-2"}),"Modifier le Devis ",r.quoteNumber]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx(ot,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:u(x),className:"px-6 py-4 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ve,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsxs("select",{...c("customerId",{valueAsNumber:!0}),className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Sélectionner un client"}),N.map(P=>s.jsxs("option",{value:P.id,selected:P.id===r.customerId,children:[P.name," (",P.customerNumber,")"]},P.id))]})]}),d.customerId&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.customerId.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date du devis"}),s.jsxs("div",{className:"relative",children:[s.jsx(_e,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{...c("quoteDate"),type:"date",className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),d.quoteDate&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.quoteDate.message})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valide jusqu'au"}),s.jsx("input",{...c("validUntil"),type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"}),d.validUntil&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.validUntil.message})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"text-md font-medium text-gray-900",children:"Articles"}),s.jsxs("button",{type:"button",onClick:()=>y({description:"",quantity:1,unitPriceHt:0,discountRate:0,vatRate:18}),className:"bg-blue-600 text-white px-3 py-1 rounded-md text-sm hover:bg-blue-700 flex items-center",children:[s.jsx($e,{className:"h-4 w-4 mr-1"}),"Ajouter"]})]}),s.jsx("div",{className:"space-y-4",children:p.map((P,C)=>{var D,E,L,U;return s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Article ",C+1]}),p.length>1&&s.jsx("button",{type:"button",onClick:()=>b(C),className:"text-red-600 hover:text-red-800",children:s.jsx(Tt,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Produit (optionnel)"}),s.jsxs("select",{...c(`items.${C}.productId`,{valueAsNumber:!0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Sélectionner un produit"}),k.map(I=>s.jsxs("option",{value:I.id,selected:I.id===P.productId,children:[I.name," (",I.sku,")"]},I.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("input",{...c(`items.${C}.description`),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Description de l'article"}),((E=(D=d.items)==null?void 0:D[C])==null?void 0:E.description)&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:(U=(L=d.items[C])==null?void 0:L.description)==null?void 0:U.message})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantité"}),s.jsx("input",{...c(`items.${C}.quantity`,{valueAsNumber:!0}),type:"number",min:"0.01",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prix unitaire HT"}),s.jsx("input",{...c(`items.${C}.unitPriceHt`,{valueAsNumber:!0}),type:"number",min:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Remise (%)"}),s.jsx("input",{...c(`items.${C}.discountRate`,{valueAsNumber:!0}),type:"number",min:"0",max:"100",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"TVA (%)"}),s.jsx("input",{...c(`items.${C}.vatRate`,{valueAsNumber:!0}),type:"number",min:"0",max:"100",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]})]})]},P.id)})})]}),s.jsx("div",{className:"border-t pt-4",children:s.jsx("div",{className:"flex justify-end",children:s.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["Total TTC: ",new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(w())]})})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Conditions"}),s.jsx("textarea",{...c("terms"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Conditions de vente..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),s.jsx("textarea",{...c("notes"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Notes internes..."})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:a,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50",children:a?"Modification...":"Modifier le devis"})]})]})]})})},OX=oe("quotes"),dS={DRAFT:{label:"Brouillon",color:"bg-gray-100 text-gray-800",icon:Je},SUBMITTED_FOR_SERVICE_APPROVAL:{label:"En attente service",color:"bg-yellow-100 text-yellow-800",icon:Je},APPROVED_BY_SERVICE_MANAGER:{label:"Approuvé service",color:"bg-blue-100 text-blue-800",icon:qt},REJECTED_BY_SERVICE_MANAGER:{label:"Rejeté service",color:"bg-red-100 text-red-800",icon:Pn},SUBMITTED_FOR_DG_APPROVAL:{label:"En attente DG",color:"bg-orange-100 text-orange-800",icon:Je},APPROVED_BY_DG:{label:"Approuvé DG",color:"bg-green-100 text-green-800",icon:qt},REJECTED_BY_DG:{label:"Rejeté DG",color:"bg-red-100 text-red-800",icon:Pn},ACCEPTED_BY_CLIENT:{label:"Accepté client",color:"bg-green-100 text-green-800",icon:qt},REJECTED_BY_CLIENT:{label:"Rejeté client",color:"bg-red-100 text-red-800",icon:Pn},EXPIRED:{label:"Expiré",color:"bg-gray-100 text-gray-800",icon:Pn}},_X=()=>{var I,q;const{hasPermission:e,user:t}=Ze(),r=Ne(),[n,a]=j.useState(1),[i,l]=j.useState(""),[o,c]=j.useState(""),[u,d]=j.useState(!1),[m,f]=j.useState(!1),[h,p]=j.useState(!1),[y,b]=j.useState(null),{data:v,isLoading:g,error:x}=ve({queryKey:["quotes",n,i,o],queryFn:()=>OX.getAll({page:n,limit:10,search:i,status:o})}),w=be({mutationFn:({id:T,comments:M})=>fetch(`/api/v1/quotes/${T}/approve`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({comments:M})}).then(V=>{if(!V.ok)throw new Error("Erreur lors de l'approbation");return V.json()}),onSuccess:()=>{r.invalidateQueries({queryKey:["quotes"]})},onError:T=>{alert(`Erreur: ${T.message}`)}}),N=be({mutationFn:({id:T,comments:M})=>fetch(`/api/v1/quotes/${T}/reject`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({comments:M})}).then(V=>{if(!V.ok)throw new Error("Erreur lors du rejet");return V.json()}),onSuccess:()=>{r.invalidateQueries({queryKey:["quotes"]})},onError:T=>{alert(`Erreur: ${T.message}`)}}),k=be({mutationFn:T=>fetch(`/api/v1/quotes/${T}/submit`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(M=>{if(!M.ok)throw new Error("Erreur lors de la soumission");return M.json()}),onSuccess:()=>{r.invalidateQueries({queryKey:["quotes"]})}}),S=T=>{b(T),f(!0)},A=T=>{b(T),p(!0)},P=async T=>{const M=prompt("Commentaires (optionnel):");if(M!==null)try{await w.mutateAsync({id:T.id,comments:M||void 0})}catch(V){console.error("Erreur lors de l'approbation:",V)}},C=async T=>{const M=prompt("Motif du rejet (requis):");if(M)try{await N.mutateAsync({id:T.id,comments:M})}catch(V){console.error("Erreur lors du rejet:",V)}},D=async T=>{if(confirm("Soumettre ce devis pour approbation?"))try{await k.mutateAsync(T.id)}catch(M){console.error("Erreur lors de la soumission:",M)}},E=T=>{var V;const M=window.open("","_blank");M&&(M.document.write(`
        <html>
          <head>
            <title>Devis ${T.quoteNumber}</title>
            <style>
              body { font-family: Arial, sans-serif; margin: 20px; }
              .header { text-align: center; margin-bottom: 30px; }
              .quote-details { margin-bottom: 20px; }
              .table { width: 100%; border-collapse: collapse; }
              .table th, .table td { border: 1px solid #ddd; padding: 8px; text-align: left; }
              .table th { background-color: #f5f5f5; }
              .total { text-align: right; font-weight: bold; }
            </style>
          </head>
          <body>
            <div class="header">
              <h1>DEVIS</h1>
              <h2>${T.quoteNumber}</h2>
            </div>
            <div class="quote-details">
              <p><strong>Client:</strong> ${T.customer.name}</p>
              <p><strong>Date:</strong> ${new Date(T.createdAt).toLocaleDateString()}</p>
              <p><strong>Validité:</strong> Jusqu'au ${new Date(T.validUntil).toLocaleDateString()}</p>
            </div>
            <table class="table">
              <thead>
                <tr>
                  <th>Description</th>
                  <th>Quantité</th>
                  <th>Prix unitaire HT</th>
                  <th>Total HT</th>
                </tr>
              </thead>
              <tbody>
                ${((V=T.items)==null?void 0:V.map(H=>`
                  <tr>
                    <td>${H.description}</td>
                    <td>${H.quantity}</td>
                    <td>${H.unitPriceHt.toLocaleString()} FCFA</td>
                    <td>${H.totalHt.toLocaleString()} FCFA</td>
                  </tr>
                `).join(""))||""}
              </tbody>
            </table>
            <div class="total">
              <p>Sous-total HT: ${T.subtotalHt.toLocaleString()} FCFA</p>
              <p>TVA: ${T.totalVat.toLocaleString()} FCFA</p>
              <p><strong>Total TTC: ${T.totalTtc.toLocaleString()} FCFA</strong></p>
            </div>
          </body>
        </html>
      `),M.document.close(),M.print())};if(g)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(x)return s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:"Erreur lors du chargement des devis"});const L=((I=v==null?void 0:v.data)==null?void 0:I.quotes)||[],U=(q=v==null?void 0:v.data)==null?void 0:q.pagination;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Devis"}),s.jsx("p",{className:"text-gray-600",children:"Créez et gérez vos devis avec workflow d'approbation"})]}),e("quotes.create")&&s.jsxs("button",{onClick:()=>d(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 flex items-center space-x-2",children:[s.jsx($e,{className:"h-4 w-4"}),s.jsx("span",{children:"Nouveau Devis"})]})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(At,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:"Rechercher un devis...",value:i,onChange:T=>l(T.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("select",{value:o,onChange:T=>c(T.target.value),className:"px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Tous les statuts"}),Object.entries(dS).map(([T,M])=>s.jsx("option",{value:T,children:M.label},T))]})]})}),s.jsx(wX,{isOpen:u,onClose:()=>d(!1)}),s.jsx(NX,{isOpen:m,onClose:()=>f(!1),quote:y}),s.jsx(EX,{isOpen:h,onClose:()=>p(!1),quote:y}),s.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Devis"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Montant"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Créé par"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:L.map(T=>{const M=dS[T.status],V=(M==null?void 0:M.icon)||Je;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.quoteNumber}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Valide jusqu'au ",new Date(T.validUntil).toLocaleDateString()]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.customer.name}),s.jsx("div",{className:"text-sm text-gray-500",children:T.customer.customerNumber})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(T.totalTtc)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${M==null?void 0:M.color}`,children:[s.jsx(V,{className:"h-3 w-3 mr-1"}),M==null?void 0:M.label]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[T.creator.firstName," ",T.creator.lastName]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(T.createdAt).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e("quotes.read")&&s.jsx("button",{onClick:()=>S(T),className:"text-blue-600 hover:text-blue-900",title:"Voir détails",children:s.jsx(kt,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>E(T),className:"text-purple-600 hover:text-purple-900",title:"Imprimer",children:s.jsx(qi,{className:"h-4 w-4"})}),s.jsx("button",{className:"text-green-600 hover:text-green-900",title:"Télécharger PDF",children:s.jsx(Ul,{className:"h-4 w-4"})}),e("quotes.update")&&T.status==="DRAFT"&&s.jsx("button",{onClick:()=>A(T),className:"text-indigo-600 hover:text-indigo-900",title:"Modifier",children:s.jsx(Kt,{className:"h-4 w-4"})}),e("quotes.submit")&&T.status==="DRAFT"&&s.jsx("button",{onClick:()=>D(T),className:"text-blue-600 hover:text-blue-900",title:"Soumettre pour approbation",children:s.jsx(eh,{className:"h-4 w-4"})}),e("quotes.approve_service")&&T.status==="SUBMITTED_FOR_SERVICE_APPROVAL"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>P(T),className:"text-green-600 hover:text-green-900",title:"Approuver",children:s.jsx(qt,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>C(T),className:"text-red-600 hover:text-red-900",title:"Rejeter",children:s.jsx(Pn,{className:"h-4 w-4"})})]}),e("quotes.approve_dg")&&T.status==="SUBMITTED_FOR_DG_APPROVAL"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>P(T),className:"text-green-600 hover:text-green-900",title:"Approuver",children:s.jsx(qt,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>C(T),className:"text-red-600 hover:text-red-900",title:"Rejeter",children:s.jsx(Pn,{className:"h-4 w-4"})})]})]})})]},T.id)})})]}),U&&U.totalPages>1&&s.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>a(n-1),disabled:n===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Précédent"}),s.jsx("button",{onClick:()=>a(n+1),disabled:n===U.totalPages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Suivant"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Affichage de"," ",s.jsx("span",{className:"font-medium",children:(n-1)*10+1})," ","à"," ",s.jsx("span",{className:"font-medium",children:Math.min(n*10,U.total)})," ","sur"," ",s.jsx("span",{className:"font-medium",children:U.total})," ","résultats"]})}),s.jsx("div",{children:s.jsx("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:Array.from({length:U.totalPages},(T,M)=>M+1).map(T=>s.jsx("button",{onClick:()=>a(T),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${T===n?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:T},T))})})]})]})]})]})},mS=oe("invoices"),TX=oe("customers"),DX=oe("products"),fS=oe("quotes"),MX=ze({productId:J().optional(),description:B().min(1,"Description requise"),quantity:J().min(.01,"Quantité invalide"),unitPriceHt:J().min(0,"Prix invalide"),discountRate:J().min(0).max(100).default(0),vatRate:J().min(0).max(100).default(18)}),IX=ze({customerId:J().min(1,"Client requis"),customerAddressId:J().optional(),quoteId:J().optional(),invoiceDate:B().min(1,"Date requise"),paymentTerms:J().min(0).max(365).default(30),terms:B().optional(),notes:B().optional(),items:ri(MX).min(1,"Au moins un article requis")}),RX=({isOpen:e,onClose:t,fromQuoteId:r})=>{var E,L,U;const n=Ne(),[a,i]=j.useState(!1),{data:l}=ve({queryKey:["customers"],queryFn:()=>TX.getAll({limit:100})}),{data:o}=ve({queryKey:["products"],queryFn:()=>DX.getAll({limit:100,isActive:!0})}),{data:c}=ve({queryKey:["quotes-approved"],queryFn:()=>fS.getAll({status:"APPROVED_BY_DG",limit:100})}),{register:u,handleSubmit:d,formState:{errors:m},reset:f,control:h,watch:p,setValue:y}=gt({resolver:vt(IX),defaultValues:{invoiceDate:new Date().toISOString().split("T")[0],paymentTerms:30,quoteId:r,items:[{description:"",quantity:1,unitPriceHt:0,discountRate:0,vatRate:18}]}}),{fields:b,append:v,remove:g}=Ja({control:h,name:"items"}),x=p("items"),w=p("quoteId"),N=be({mutationFn:I=>r?mS.create({endpoint:`from-quote/${r}`}):mS.create(I),onSuccess:()=>{n.invalidateQueries({queryKey:["invoices"]}),f(),t()}}),k=async I=>{i(!0);try{await N.mutateAsync(I)}catch(q){console.error("Erreur lors de la création:",q)}finally{i(!1)}},S=()=>x.reduce((I,q)=>{const T=q.quantity*q.unitPriceHt*(1-q.discountRate/100),M=T*(q.vatRate/100);return I+T+M},0),A=async I=>{try{const T=(await fS.getById(I)).data;y("customerId",T.customerId),y("customerAddressId",T.customerAddressId),y("terms",T.terms),y("notes",T.notes);const M=T.items.map(V=>({productId:V.productId,description:V.description,quantity:V.quantity,unitPriceHt:V.unitPriceHt,discountRate:V.discountRate,vatRate:V.vatRate}));y("items",M)}catch(q){console.error("Erreur lors du chargement du devis:",q)}};if(Ee.useEffect(()=>{w&&A(w)},[w]),!e)return null;const P=((E=l==null?void 0:l.data)==null?void 0:E.customers)||[],C=((L=o==null?void 0:o.data)==null?void 0:L.products)||[],D=((U=c==null?void 0:c.data)==null?void 0:U.quotes)||[];return s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-screen overflow-y-auto",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(fl,{className:"h-5 w-5 mr-2"}),r?"Créer une Facture depuis un Devis":"Créer une Facture"]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx(ot,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:d(k),className:"px-6 py-4 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[!r&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Devis de référence (optionnel)"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ue,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsxs("select",{...u("quoteId",{valueAsNumber:!0}),className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Aucun devis"}),D.map(I=>s.jsxs("option",{value:I.id,children:[I.quoteNumber," - ",I.customer.name]},I.id))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ve,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsxs("select",{...u("customerId",{valueAsNumber:!0}),className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",disabled:!!w,children:[s.jsx("option",{value:"",children:"Sélectionner un client"}),P.map(I=>s.jsxs("option",{value:I.id,children:[I.name," (",I.customerNumber,")"]},I.id))]})]}),m.customerId&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.customerId.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de facture"}),s.jsxs("div",{className:"relative",children:[s.jsx(_e,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{...u("invoiceDate"),type:"date",className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),m.invoiceDate&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.invoiceDate.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Délai de paiement (jours)"}),s.jsx("input",{...u("paymentTerms",{valueAsNumber:!0}),type:"number",min:"0",max:"365",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]})]}),!r&&s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"text-md font-medium text-gray-900",children:"Articles"}),s.jsxs("button",{type:"button",onClick:()=>v({description:"",quantity:1,unitPriceHt:0,discountRate:0,vatRate:18}),className:"bg-blue-600 text-white px-3 py-1 rounded-md text-sm hover:bg-blue-700 flex items-center",children:[s.jsx($e,{className:"h-4 w-4 mr-1"}),"Ajouter"]})]}),s.jsx("div",{className:"space-y-4",children:b.map((I,q)=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Article ",q+1]}),b.length>1&&s.jsx("button",{type:"button",onClick:()=>g(q),className:"text-red-600 hover:text-red-800",children:s.jsx(Tt,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Produit (optionnel)"}),s.jsxs("select",{...u(`items.${q}.productId`,{valueAsNumber:!0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Sélectionner un produit"}),C.map(T=>s.jsxs("option",{value:T.id,children:[T.name," (",T.sku,")"]},T.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("input",{...u(`items.${q}.description`),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Description de l'article"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantité"}),s.jsx("input",{...u(`items.${q}.quantity`,{valueAsNumber:!0}),type:"number",min:"0.01",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prix unitaire HT"}),s.jsx("input",{...u(`items.${q}.unitPriceHt`,{valueAsNumber:!0}),type:"number",min:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Remise (%)"}),s.jsx("input",{...u(`items.${q}.discountRate`,{valueAsNumber:!0}),type:"number",min:"0",max:"100",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"TVA (%)"}),s.jsx("input",{...u(`items.${q}.vatRate`,{valueAsNumber:!0}),type:"number",min:"0",max:"100",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]})]})]},I.id))})]}),s.jsx("div",{className:"border-t pt-4",children:s.jsx("div",{className:"flex justify-end",children:s.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["Total TTC: ",new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(S())]})})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Conditions"}),s.jsx("textarea",{...u("terms"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Conditions de paiement..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),s.jsx("textarea",{...u("notes"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Notes internes..."})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:a,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50",children:a?"Création...":"Créer la facture"})]})]})]})})},FX=oe("invoices"),hS={DRAFT:{label:"Brouillon",color:"bg-gray-100 text-gray-800",icon:Je},SENT:{label:"Envoyée",color:"bg-blue-100 text-blue-800",icon:eh},PAID:{label:"Payée",color:"bg-green-100 text-green-800",icon:qt},PARTIAL:{label:"Partiellement payée",color:"bg-yellow-100 text-yellow-800",icon:Je},OVERDUE:{label:"En retard",color:"bg-red-100 text-red-800",icon:Pn},CANCELLED:{label:"Annulée",color:"bg-gray-100 text-gray-800",icon:Pn}},LX=()=>{var v,g;const{hasPermission:e}=Ze(),t=Ne(),[r,n]=j.useState(1),[a,i]=j.useState(""),[l,o]=j.useState(""),[c,u]=j.useState(!1),{data:d,isLoading:m,error:f}=ve({queryKey:["invoices",r,a,l],queryFn:()=>FX.getAll({page:r,limit:10,search:a,status:l})}),h=be({mutationFn:({id:x,status:w})=>fetch(`/api/v1/invoices/${x}/status`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({status:w})}).then(N=>N.json()),onSuccess:()=>{t.invalidateQueries({queryKey:["invoices"]})}}),p=x=>{var N;const w=window.open("","_blank");w&&(w.document.write(`
        <html>
          <head>
            <title>Facture ${x.invoiceNumber}</title>
            <style>
              body { font-family: Arial, sans-serif; margin: 20px; }
              .header { text-align: center; margin-bottom: 30px; }
              .invoice-details { margin-bottom: 20px; }
              .table { width: 100%; border-collapse: collapse; }
              .table th, .table td { border: 1px solid #ddd; padding: 8px; text-align: left; }
              .table th { background-color: #f5f5f5; }
              .total { text-align: right; font-weight: bold; }
            </style>
          </head>
          <body>
            <div class="header">
              <h1>FACTURE</h1>
              <h2>${x.invoiceNumber}</h2>
            </div>
            <div class="invoice-details">
              <p><strong>Client:</strong> ${x.customer.name}</p>
              <p><strong>Date:</strong> ${new Date(x.invoiceDate).toLocaleDateString()}</p>
              <p><strong>Échéance:</strong> ${new Date(x.dueDate).toLocaleDateString()}</p>
            </div>
            <table class="table">
              <thead>
                <tr>
                  <th>Description</th>
                  <th>Quantité</th>
                  <th>Prix unitaire</th>
                  <th>Total HT</th>
                </tr>
              </thead>
              <tbody>
                ${((N=x.items)==null?void 0:N.map(k=>`
                  <tr>
                    <td>${k.description}</td>
                    <td>${k.quantity}</td>
                    <td>${k.unitPriceHt.toLocaleString()} FCFA</td>
                    <td>${k.totalHt.toLocaleString()} FCFA</td>
                  </tr>
                `).join(""))||""}
              </tbody>
            </table>
            <div class="total">
              <p>Sous-total HT: ${x.subtotalHt.toLocaleString()} FCFA</p>
              <p>TVA: ${x.totalVat.toLocaleString()} FCFA</p>
              <p><strong>Total TTC: ${x.totalTtc.toLocaleString()} FCFA</strong></p>
            </div>
          </body>
        </html>
      `),w.document.close(),w.print())};if(m)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(f)return s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:"Erreur lors du chargement des factures"});const y=((v=d==null?void 0:d.data)==null?void 0:v.invoices)||[],b=(g=d==null?void 0:d.data)==null?void 0:g.pagination;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Factures"}),s.jsx("p",{className:"text-gray-600",children:"Créez et gérez vos factures clients"})]}),e("invoices.create")&&s.jsxs("button",{onClick:()=>u(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 flex items-center space-x-2",children:[s.jsx($e,{className:"h-4 w-4"}),s.jsx("span",{children:"Nouvelle Facture"})]})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(At,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:"Rechercher une facture...",value:a,onChange:x=>i(x.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("select",{value:l,onChange:x=>o(x.target.value),className:"px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Tous les statuts"}),Object.entries(hS).map(([x,w])=>s.jsx("option",{value:x,children:w.label},x))]})]})}),s.jsx(RX,{isOpen:c,onClose:()=>u(!1)}),s.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Facture"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Montant"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Échéance"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Créée par"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y.map(x=>{const w=hS[x.status],N=(w==null?void 0:w.icon)||Je,k=new Date(x.dueDate)<new Date&&!["PAID","CANCELLED"].includes(x.status);return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.invoiceNumber}),s.jsx("div",{className:"text-sm text-gray-500",children:new Date(x.invoiceDate).toLocaleDateString()})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.customer.name}),s.jsx("div",{className:"text-sm text-gray-500",children:x.customer.customerNumber})]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(x.totalTtc)}),x.balanceDue>0&&s.jsxs("div",{className:"text-sm text-red-600",children:["Reste: ",new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(x.balanceDue)]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${k?"bg-red-100 text-red-800":w==null?void 0:w.color}`,children:[s.jsx(N,{className:"h-3 w-3 mr-1"}),k?"En retard":w==null?void 0:w.label]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.jsx("div",{className:k?"text-red-600 font-medium":"",children:new Date(x.dueDate).toLocaleDateString()})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[x.creator.firstName," ",x.creator.lastName]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e("invoices.read")&&s.jsx("button",{className:"text-blue-600 hover:text-blue-900",title:"Voir détails",children:s.jsx(kt,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>p(x),className:"text-purple-600 hover:text-purple-900",title:"Imprimer",children:s.jsx(qi,{className:"h-4 w-4"})}),s.jsx("button",{className:"text-green-600 hover:text-green-900",title:"Télécharger PDF",children:s.jsx(Ul,{className:"h-4 w-4"})}),e("invoices.update")&&x.status==="DRAFT"&&s.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",title:"Modifier",children:s.jsx(Kt,{className:"h-4 w-4"})}),e("invoices.send")&&x.status==="DRAFT"&&s.jsx("button",{onClick:()=>h.mutate({id:x.id,status:"SENT"}),className:"text-blue-600 hover:text-blue-900",title:"Envoyer",children:s.jsx(eh,{className:"h-4 w-4"})})]})})]},x.id)})})]}),b&&b.totalPages>1&&s.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>n(r-1),disabled:r===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Précédent"}),s.jsx("button",{onClick:()=>n(r+1),disabled:r===b.totalPages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Suivant"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Affichage de"," ",s.jsx("span",{className:"font-medium",children:(r-1)*10+1})," ","à"," ",s.jsx("span",{className:"font-medium",children:Math.min(r*10,b.total)})," ","sur"," ",s.jsx("span",{className:"font-medium",children:b.total})," ","résultats"]})}),s.jsx("div",{children:s.jsx("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:Array.from({length:b.totalPages},(x,w)=>w+1).map(x=>s.jsx("button",{onClick:()=>n(x),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${x===r?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:x},x))})})]})]})]})]})},$X=oe("payments"),BX=oe("customers"),zX=ze({invoiceId:J().min(1,"Facture requise"),amount:J().min(.01,"Montant invalide")}),UX=ze({customerId:J().min(1,"Client requis"),amount:J().min(.01,"Montant invalide"),paymentDate:B().min(1,"Date requise"),paymentMethod:fr(["TRANSFER","CHECK","CARD","CASH","OTHER"]),reference:B().optional(),notes:B().optional(),invoiceAllocations:ri(zX).optional()}),qX=({isOpen:e,onClose:t,customerId:r})=>{var D;const n=Ne(),[a,i]=j.useState(!1),[l,o]=j.useState(!1),{data:c}=ve({queryKey:["customers"],queryFn:()=>BX.getAll({limit:100})}),u=r||0,{data:d}=ve({queryKey:["unpaid-invoices",u],queryFn:()=>fetch(`/api/v1/payments/customer/${u}/unpaid-invoices`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(E=>E.json()),enabled:!!u}),{register:m,handleSubmit:f,formState:{errors:h},reset:p,control:y,watch:b}=gt({resolver:vt(UX),defaultValues:{customerId:r,paymentDate:new Date().toISOString().split("T")[0],paymentMethod:"TRANSFER",invoiceAllocations:[]}}),{fields:v,append:g,remove:x}=Ja({control:y,name:"invoiceAllocations"}),w=b("customerId"),N=b("invoiceAllocations"),k=be({mutationFn:E=>$X.create(E),onSuccess:()=>{n.invalidateQueries({queryKey:["payments"]}),n.invalidateQueries({queryKey:["invoices"]}),p(),t()}}),S=async E=>{i(!0);try{await k.mutateAsync(E)}catch(L){console.error("Erreur lors de la création:",L)}finally{i(!1)}},A=()=>(N==null?void 0:N.reduce((E,L)=>E+(L.amount||0),0))||0;if(!e)return null;const P=((D=c==null?void 0:c.data)==null?void 0:D.customers)||[],C=(d==null?void 0:d.data)||[];return s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-screen overflow-y-auto",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(Hs,{className:"h-5 w-5 mr-2"}),"Enregistrer un Paiement"]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx(ot,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:f(S),className:"px-6 py-4 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ve,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsxs("select",{...m("customerId",{valueAsNumber:!0}),className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",disabled:!!r,children:[s.jsx("option",{value:"",children:"Sélectionner un client"}),P.map(E=>s.jsxs("option",{value:E.id,children:[E.name," (",E.customerNumber,")"]},E.id))]})]}),h.customerId&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.customerId.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Montant (FCFA)"}),s.jsx("input",{...m("amount",{valueAsNumber:!0}),type:"number",min:"0.01",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00"}),h.amount&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.amount.message})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de paiement"}),s.jsxs("div",{className:"relative",children:[s.jsx(_e,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{...m("paymentDate"),type:"date",className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),h.paymentDate&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.paymentDate.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mode de paiement"}),s.jsxs("select",{...m("paymentMethod"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"TRANSFER",children:"Virement"}),s.jsx("option",{value:"CHECK",children:"Chèque"}),s.jsx("option",{value:"CARD",children:"Carte"}),s.jsx("option",{value:"CASH",children:"Espèces"}),s.jsx("option",{value:"OTHER",children:"Autre"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Référence"}),s.jsx("input",{...m("reference"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Numéro de transaction, chèque, etc."})]}),w&&C.length>0&&s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"text-md font-medium text-gray-900",children:"Allocation aux factures"}),s.jsx("button",{type:"button",onClick:()=>o(!l),className:"text-blue-600 hover:text-blue-800 text-sm",children:l?"Masquer":"Affecter aux factures"})]}),l&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Factures impayées"}),s.jsxs("button",{type:"button",onClick:()=>g({invoiceId:0,amount:0}),className:"bg-green-600 text-white px-2 py-1 rounded text-xs hover:bg-green-700 flex items-center",children:[s.jsx($e,{className:"h-3 w-3 mr-1"}),"Ajouter"]})]}),v.map((E,L)=>s.jsxs("div",{className:"flex items-center space-x-3 bg-gray-50 p-3 rounded",children:[s.jsxs("select",{...m(`invoiceAllocations.${L}.invoiceId`,{valueAsNumber:!0}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Sélectionner une facture"}),C.map(U=>s.jsxs("option",{value:U.id,children:[U.invoiceNumber," - ",new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(U.balanceDue)]},U.id))]}),s.jsx("input",{...m(`invoiceAllocations.${L}.amount`,{valueAsNumber:!0}),type:"number",min:"0.01",step:"0.01",placeholder:"Montant",className:"w-32 px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"}),s.jsx("button",{type:"button",onClick:()=>x(L),className:"text-red-600 hover:text-red-800",children:s.jsx(Tt,{className:"h-4 w-4"})})]},E.id)),A()>0&&s.jsxs("div",{className:"text-sm text-gray-600",children:["Total alloué: ",new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(A())]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),s.jsx("textarea",{...m("notes"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Notes sur le paiement..."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:a,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50",children:a?"Enregistrement...":"Enregistrer le paiement"})]})]})]})})},pS=oe("payments"),VX={TRANSFER:{label:"Virement",icon:Hs,color:"text-blue-600"},CHECK:{label:"Chèque",icon:XI,color:"text-green-600"},CARD:{label:"Carte",icon:dR,color:"text-purple-600"},CASH:{label:"Espèces",icon:hR,color:"text-yellow-600"},OTHER:{label:"Autre",icon:Hs,color:"text-gray-600"}},KX=()=>{var y,b;const{hasPermission:e}=Ze(),t=Ne(),[r,n]=j.useState(1),[a,i]=j.useState(""),[l,o]=j.useState(!1),{data:c,isLoading:u,error:d}=ve({queryKey:["payments",r,a],queryFn:()=>pS.getAll({page:r,limit:10,search:a})}),m=be({mutationFn:v=>pS.delete(v),onSuccess:()=>{t.invalidateQueries({queryKey:["payments"]})}});if(u)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(d)return s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:"Erreur lors du chargement des paiements"});const f=((y=c==null?void 0:c.data)==null?void 0:y.payments)||[],h=(b=c==null?void 0:c.data)==null?void 0:b.pagination,p=async v=>{if(window.confirm(`Êtes-vous sûr de vouloir supprimer le paiement ${v.paymentNumber} ?`))try{await m.mutateAsync(v.id)}catch(g){console.error("Erreur lors de la suppression:",g)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Paiements"}),s.jsx("p",{className:"text-gray-600",children:"Enregistrez et suivez les paiements clients"})]}),e("payments.create")&&s.jsxs("button",{onClick:()=>o(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 flex items-center space-x-2",children:[s.jsx($e,{className:"h-4 w-4"}),s.jsx("span",{children:"Nouveau Paiement"})]})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(At,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:"Rechercher un paiement...",value:a,onChange:v=>i(v.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]})})}),s.jsx(qX,{isOpen:l,onClose:()=>o(!1)}),s.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Paiement"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Montant"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mode de paiement"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Créé par"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(v=>{const g=VX[v.paymentMethod],x=(g==null?void 0:g.icon)||Hs;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.paymentNumber}),v.reference&&s.jsxs("div",{className:"text-sm text-gray-500",children:["Réf: ",v.reference]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.customer.name}),s.jsx("div",{className:"text-sm text-gray-500",children:v.customer.customerNumber})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(v.amount)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 ${g==null?void 0:g.color}`,children:[s.jsx(x,{className:"h-3 w-3 mr-1"}),g==null?void 0:g.label]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(v.paymentDate).toLocaleDateString()}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[v.creator.firstName," ",v.creator.lastName]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e("payments.read")&&s.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:s.jsx(kt,{className:"h-4 w-4"})}),e("payments.update")&&s.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",children:s.jsx(Kt,{className:"h-4 w-4"})}),e("payments.delete")&&s.jsx("button",{onClick:()=>p(v),className:"text-red-600 hover:text-red-900",children:s.jsx(Tt,{className:"h-4 w-4"})})]})})]},v.id)})})]}),h&&h.totalPages>1&&s.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>n(r-1),disabled:r===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Précédent"}),s.jsx("button",{onClick:()=>n(r+1),disabled:r===h.totalPages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Suivant"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Affichage de"," ",s.jsx("span",{className:"font-medium",children:(r-1)*10+1})," ","à"," ",s.jsx("span",{className:"font-medium",children:Math.min(r*10,h.total)})," ","sur"," ",s.jsx("span",{className:"font-medium",children:h.total})," ","résultats"]})}),s.jsx("div",{children:s.jsx("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:Array.from({length:h.totalPages},(v,g)=>g+1).map(v=>s.jsx("button",{onClick:()=>n(v),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${v===r?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:v},v))})})]})]})]})]})},HX=oe("products"),WX=ze({sku:B().min(1,"SKU requis"),name:B().min(1,"Nom requis"),description:B().optional(),type:fr(["PRODUCT","SERVICE","SUBSCRIPTION"]),category:B().optional(),unit:B().default("pièce"),priceHt:J().min(0,"Prix invalide"),vatRate:J().min(0).max(100).default(18),costPrice:J().min(0).optional(),stockQuantity:J().min(0).default(0),stockAlertThreshold:J().min(0).default(0),weight:J().min(0).optional(),dimensions:B().optional(),imageUrl:B().url("URL invalide").optional().or(nl(""))}),QX={PRODUCT:{label:"Produit",icon:dr,description:"Article physique avec stock"},SERVICE:{label:"Service",icon:g4,description:"Prestation de service"},SUBSCRIPTION:{label:"Abonnement",icon:Ic,description:"Service récurrent"}},GX=({isOpen:e,onClose:t})=>{const r=Ne(),[n,a]=j.useState(!1),{register:i,handleSubmit:l,formState:{errors:o},reset:c,watch:u}=gt({resolver:vt(WX),defaultValues:{type:"SERVICE",unit:"pièce",vatRate:18,stockQuantity:0,stockAlertThreshold:0}}),d=u("type"),m=be({mutationFn:h=>HX.create(h),onSuccess:()=>{r.invalidateQueries({queryKey:["products"]}),c(),t()}}),f=async h=>{a(!0);try{await m.mutateAsync(h)}catch(p){console.error("Erreur lors de la création:",p)}finally{a(!1)}};return e?s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-screen overflow-y-auto",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(dr,{className:"h-5 w-5 mr-2"}),"Créer un Produit/Service"]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx(ot,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:l(f),className:"px-6 py-4 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:Object.entries(QX).map(([h,p])=>{const y=p.icon;return s.jsxs("label",{className:"flex items-center p-3 border border-gray-200 rounded-lg cursor-pointer hover:bg-gray-50",children:[s.jsx("input",{...i("type"),type:"radio",value:h,className:"mr-3"}),s.jsx(y,{className:"h-5 w-5 mr-2 text-gray-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm",children:p.label}),s.jsx("div",{className:"text-xs text-gray-500",children:p.description})]})]},h)})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SKU"}),s.jsxs("div",{className:"relative",children:[s.jsx(m4,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{...i("sku"),type:"text",className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"PROD-001"})]}),o.sku&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.sku.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom"}),s.jsx("input",{...i("name"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Nom du produit/service"}),o.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.name.message})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{...i("description"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Description détaillée..."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Catégorie"}),s.jsx("input",{...i("category"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Développement, Formation, etc."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unité"}),s.jsx("input",{...i("unit"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"pièce, heure, jour, etc."})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("h4",{className:"text-md font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(mt,{className:"h-4 w-4 mr-2"}),"Tarification"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prix HT (FCFA)"}),s.jsx("input",{...i("priceHt",{valueAsNumber:!0}),type:"number",min:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"}),o.priceHt&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.priceHt.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Taux TVA (%)"}),s.jsx("input",{...i("vatRate",{valueAsNumber:!0}),type:"number",min:"0",max:"100",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prix de revient (FCFA)"}),s.jsx("input",{...i("costPrice",{valueAsNumber:!0}),type:"number",min:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]})]})]}),d==="PRODUCT"&&s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Gestion du Stock"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantité en stock"}),s.jsx("input",{...i("stockQuantity",{valueAsNumber:!0}),type:"number",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Seuil d'alerte"}),s.jsx("input",{...i("stockAlertThreshold",{valueAsNumber:!0}),type:"number",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]})]})]}),d==="PRODUCT"&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Poids (kg)"}),s.jsx("input",{...i("weight",{valueAsNumber:!0}),type:"number",min:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dimensions"}),s.jsx("input",{...i("dimensions"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"L x l x h (cm)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL de l'image"}),s.jsx("input",{...i("imageUrl"),type:"url",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"https://exemple.com/image.jpg"}),o.imageUrl&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.imageUrl.message})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50",children:n?"Création...":"Créer le produit"})]})]})]})}):null},xS=oe("products"),YX={PRODUCT:{label:"Produit",icon:dr,color:"bg-blue-100 text-blue-800"},SERVICE:{label:"Service",icon:g4,color:"bg-green-100 text-green-800"},SUBSCRIPTION:{label:"Abonnement",icon:Ic,color:"bg-purple-100 text-purple-800"}},XX=()=>{var v,g;const{hasPermission:e}=Ze(),t=Ne(),[r,n]=j.useState(1),[a,i]=j.useState(""),[l,o]=j.useState(""),[c,u]=j.useState(!1),{data:d,isLoading:m,error:f}=ve({queryKey:["products",r,a,l],queryFn:()=>xS.getAll({page:r,limit:10,search:a,category:l})}),h=be({mutationFn:x=>xS.delete(x),onSuccess:()=>{t.invalidateQueries({queryKey:["products"]})}});if(m)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(f)return s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:"Erreur lors du chargement des produits"});const p=((v=d==null?void 0:d.data)==null?void 0:v.products)||[],y=(g=d==null?void 0:d.data)==null?void 0:g.pagination,b=async x=>{if(window.confirm(`Êtes-vous sûr de vouloir supprimer le produit ${x.name} ?`))try{await h.mutateAsync(x.id)}catch(w){console.error("Erreur lors de la suppression:",w)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Produits"}),s.jsx("p",{className:"text-gray-600",children:"Gérez votre catalogue de produits et services"})]}),e("products.create")&&s.jsxs("button",{onClick:()=>u(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 flex items-center space-x-2",children:[s.jsx($e,{className:"h-4 w-4"}),s.jsx("span",{children:"Nouveau Produit"})]})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(At,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:"Rechercher un produit...",value:a,onChange:x=>i(x.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("select",{value:l,onChange:x=>o(x.target.value),className:"px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Toutes les catégories"}),s.jsx("option",{value:"Développement Web",children:"Développement Web"}),s.jsx("option",{value:"Développement Mobile",children:"Développement Mobile"}),s.jsx("option",{value:"Maintenance",children:"Maintenance"}),s.jsx("option",{value:"Formation",children:"Formation"})]})]})}),s.jsx(GX,{isOpen:c,onClose:()=>u(!1)}),s.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produit"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Catégorie"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prix HT"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(x=>{const w=YX[x.type],N=(w==null?void 0:w.icon)||dr;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:s.jsx("div",{className:"h-10 w-10 rounded-lg bg-gray-100 flex items-center justify-center",children:s.jsx(N,{className:"h-5 w-5 text-gray-600"})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.name}),s.jsxs("div",{className:"text-sm text-gray-500",children:["SKU: ",x.sku]})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${w==null?void 0:w.color}`,children:[s.jsx(N,{className:"h-3 w-3 mr-1"}),w==null?void 0:w.label]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:x.category||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(x.priceHt)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:x.type==="PRODUCT"?s.jsxs("div",{children:[s.jsxs("div",{className:x.stockQuantity<=x.stockAlertThreshold?"text-red-600 font-medium":"",children:[x.stockQuantity," ",x.unit]}),x.stockQuantity<=x.stockAlertThreshold&&s.jsx("div",{className:"text-xs text-red-500",children:"Stock faible"})]}):s.jsx("span",{className:"text-gray-400",children:"N/A"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${x.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:x.isActive?"Actif":"Inactif"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e("products.read")&&s.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:s.jsx(kt,{className:"h-4 w-4"})}),e("products.update")&&s.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",children:s.jsx(Kt,{className:"h-4 w-4"})}),e("products.delete")&&s.jsx("button",{onClick:()=>b(x),className:"text-red-600 hover:text-red-900",children:s.jsx(Tt,{className:"h-4 w-4"})})]})})]},x.id)})})]}),y&&y.totalPages>1&&s.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>n(r-1),disabled:r===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Précédent"}),s.jsx("button",{onClick:()=>n(r+1),disabled:r===y.totalPages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Suivant"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Affichage de"," ",s.jsx("span",{className:"font-medium",children:(r-1)*10+1})," ","à"," ",s.jsx("span",{className:"font-medium",children:Math.min(r*10,y.total)})," ","sur"," ",s.jsx("span",{className:"font-medium",children:y.total})," ","résultats"]})}),s.jsx("div",{children:s.jsx("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:Array.from({length:y.totalPages},(x,w)=>w+1).map(x=>s.jsx("button",{onClick:()=>n(x),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${x===r?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:x},x))})})]})]})]})]})},ZX=oe("expenses"),JX=ze({supplierId:J().optional(),category:B().min(1,"Catégorie requise"),description:B().min(1,"Description requise"),amountHt:J().min(0,"Montant invalide"),vatAmount:J().min(0).default(0),expenseDate:B().min(1,"Date requise"),paymentDate:B().optional(),paymentMethod:fr(["TRANSFER","CHECK","CARD","CASH","OTHER"]),receiptUrl:B().url("URL invalide").optional().or(nl("")),notes:B().optional()}),eZ=["Fournitures de bureau","Transport","Repas et hébergement","Formation","Équipement informatique","Télécommunications","Marketing","Frais bancaires","Assurances","Maintenance","Autre"],tZ=({isOpen:e,onClose:t})=>{const r=Ne(),[n,a]=j.useState(!1),{register:i,handleSubmit:l,formState:{errors:o},reset:c,watch:u}=gt({resolver:vt(JX),defaultValues:{expenseDate:new Date().toISOString().split("T")[0],paymentMethod:"CARD",vatAmount:0}}),d=u("amountHt"),m=u("vatAmount"),f=be({mutationFn:y=>ZX.create(y),onSuccess:()=>{r.invalidateQueries({queryKey:["expenses"]}),c(),t()}}),h=async y=>{a(!0);try{await f.mutateAsync(y)}catch(b){console.error("Erreur lors de la création:",b)}finally{a(!1)}},p=()=>(d||0)+(m||0);return e?s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-screen overflow-y-auto",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(fl,{className:"h-5 w-5 mr-2"}),"Créer une Dépense"]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx(ot,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:l(h),className:"px-6 py-4 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Catégorie"}),s.jsxs("select",{...i("category"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Sélectionner une catégorie"}),eZ.map(y=>s.jsx("option",{value:y,children:y},y))]}),o.category&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.category.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de dépense"}),s.jsxs("div",{className:"relative",children:[s.jsx(_e,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{...i("expenseDate"),type:"date",className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),o.expenseDate&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.expenseDate.message})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{...i("description"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Description de la dépense..."}),o.description&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.description.message})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("h4",{className:"text-md font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(mt,{className:"h-4 w-4 mr-2"}),"Montants"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Montant HT (FCFA)"}),s.jsx("input",{...i("amountHt",{valueAsNumber:!0}),type:"number",min:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"}),o.amountHt&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.amountHt.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"TVA (FCFA)"}),s.jsx("input",{...i("vatAmount",{valueAsNumber:!0}),type:"number",min:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total TTC"}),s.jsx("div",{className:"w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-md text-gray-700",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(p())})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mode de paiement"}),s.jsxs("select",{...i("paymentMethod"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"TRANSFER",children:"Virement"}),s.jsx("option",{value:"CHECK",children:"Chèque"}),s.jsx("option",{value:"CARD",children:"Carte"}),s.jsx("option",{value:"CASH",children:"Espèces"}),s.jsx("option",{value:"OTHER",children:"Autre"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de paiement (optionnel)"}),s.jsx("input",{...i("paymentDate"),type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL du reçu"}),s.jsx("input",{...i("receiptUrl"),type:"url",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"https://exemple.com/recu.pdf"}),o.receiptUrl&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.receiptUrl.message})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),s.jsx("textarea",{...i("notes"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Notes sur la dépense..."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50",children:n?"Création...":"Créer la dépense"})]})]})]})}):null},yS=oe("expenses"),gS={PENDING:{label:"En attente",color:"bg-yellow-100 text-yellow-800",icon:Je},PAID:{label:"Payée",color:"bg-green-100 text-green-800",icon:qt},REIMBURSED:{label:"Remboursée",color:"bg-blue-100 text-blue-800",icon:mt}},rZ=()=>{var x,w;const{hasPermission:e}=Ze(),t=Ne(),[r,n]=j.useState(1),[a,i]=j.useState(""),[l,o]=j.useState(""),[c,u]=j.useState(""),[d,m]=j.useState(!1),{data:f,isLoading:h,error:p}=ve({queryKey:["expenses",r,a,l,c],queryFn:()=>yS.getAll({page:r,limit:10,search:a,status:l,category:c})}),y=be({mutationFn:N=>yS.delete(N),onSuccess:()=>{t.invalidateQueries({queryKey:["expenses"]})}});if(h)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(p)return s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:"Erreur lors du chargement des dépenses"});const b=((x=f==null?void 0:f.data)==null?void 0:x.expenses)||[],v=(w=f==null?void 0:f.data)==null?void 0:w.pagination,g=async N=>{if(window.confirm(`Êtes-vous sûr de vouloir supprimer la dépense ${N.expenseNumber} ?`))try{await y.mutateAsync(N.id)}catch(k){console.error("Erreur lors de la suppression:",k)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Dépenses"}),s.jsx("p",{className:"text-gray-600",children:"Suivez et gérez vos dépenses d'entreprise"})]}),e("expenses.create")&&s.jsxs("button",{onClick:()=>m(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 flex items-center space-x-2",children:[s.jsx($e,{className:"h-4 w-4"}),s.jsx("span",{children:"Nouvelle Dépense"})]})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(At,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:"Rechercher une dépense...",value:a,onChange:N=>i(N.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("select",{value:l,onChange:N=>o(N.target.value),className:"px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Tous les statuts"}),Object.entries(gS).map(([N,k])=>s.jsx("option",{value:N,children:k.label},N))]}),s.jsxs("select",{value:c,onChange:N=>u(N.target.value),className:"px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Toutes les catégories"}),s.jsx("option",{value:"Fournitures",children:"Fournitures"}),s.jsx("option",{value:"Transport",children:"Transport"}),s.jsx("option",{value:"Repas",children:"Repas"}),s.jsx("option",{value:"Hébergement",children:"Hébergement"}),s.jsx("option",{value:"Formation",children:"Formation"}),s.jsx("option",{value:"Équipement",children:"Équipement"})]})]})}),s.jsx(tZ,{isOpen:d,onClose:()=>m(!1)}),s.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dépense"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Catégorie"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fournisseur"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Montant"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(N=>{var A;const k=gS[N.status],S=(k==null?void 0:k.icon)||Je;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:s.jsx(fl,{className:"h-8 w-8 text-gray-400"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:N.expenseNumber}),s.jsx("div",{className:"text-sm text-gray-500",children:N.description})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800",children:N.category})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:((A=N.supplier)==null?void 0:A.name)||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(N.totalTtc)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${k==null?void 0:k.color}`,children:[s.jsx(S,{className:"h-3 w-3 mr-1"}),k==null?void 0:k.label]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(N.expenseDate).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e("expenses.read")&&s.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:s.jsx(kt,{className:"h-4 w-4"})}),e("expenses.update")&&s.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",children:s.jsx(Kt,{className:"h-4 w-4"})}),e("expenses.delete")&&s.jsx("button",{onClick:()=>g(N),className:"text-red-600 hover:text-red-900",children:s.jsx(Tt,{className:"h-4 w-4"})})]})})]},N.id)})})]}),v&&v.totalPages>1&&s.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>n(r-1),disabled:r===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Précédent"}),s.jsx("button",{onClick:()=>n(r+1),disabled:r===v.totalPages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Suivant"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Affichage de"," ",s.jsx("span",{className:"font-medium",children:(r-1)*10+1})," ","à"," ",s.jsx("span",{className:"font-medium",children:Math.min(r*10,v.total)})," ","sur"," ",s.jsx("span",{className:"font-medium",children:v.total})," ","résultats"]})}),s.jsx("div",{children:s.jsx("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:Array.from({length:v.totalPages},(N,k)=>k+1).map(N=>s.jsx("button",{onClick:()=>n(N),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${N===r?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:N},N))})})]})]})]})]})},nZ=oe("users"),sZ=oe("services"),aZ=ze({email:B().email("Email invalide"),password:B().min(6,"Le mot de passe doit contenir au moins 6 caractères"),firstName:B().min(1,"Prénom requis"),lastName:B().min(1,"Nom requis"),role:fr(["ADMIN","GENERAL_DIRECTOR","SERVICE_MANAGER","EMPLOYEE","ACCOUNTANT"]),serviceId:J().optional(),isActive:Xd().default(!0)}),iZ={ADMIN:"Administrateur",GENERAL_DIRECTOR:"Directeur Général",SERVICE_MANAGER:"Responsable de Service",EMPLOYEE:"Employé",ACCOUNTANT:"Comptable"},lZ=({isOpen:e,onClose:t})=>{var y;const r=Ne(),[n,a]=j.useState(!1),{data:i}=ve({queryKey:["services"],queryFn:()=>sZ.getAll()}),{register:l,handleSubmit:o,formState:{errors:c},reset:u,watch:d}=gt({resolver:vt(aZ),defaultValues:{isActive:!0}}),m=d("role"),f=be({mutationFn:b=>nZ.create(b),onSuccess:()=>{r.invalidateQueries({queryKey:["users"]}),u(),t()}}),h=async b=>{a(!0);try{await f.mutateAsync(b)}catch(v){console.error("Erreur lors de la création:",v)}finally{a(!1)}};if(!e)return null;const p=((y=i==null?void 0:i.data)==null?void 0:y.services)||[];return s.jsx("div",{className:"fixed inset-0 bg-gray-600 dark:bg-gray-900 bg-opacity-75 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full max-h-screen overflow-y-auto",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Créer un Utilisateur"}),s.jsx("button",{onClick:t,className:"text-gray-400 dark:text-gray-300 hover:text-gray-600 dark:hover:text-gray-200",children:s.jsx(ot,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:o(h),className:"px-6 py-4 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Prénom"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ve,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500 h-4 w-4"}),s.jsx("input",{...l("firstName"),type:"text",className:"pl-10 w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Prénom"})]}),c.firstName&&s.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:c.firstName.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nom"}),s.jsx("input",{...l("lastName"),type:"text",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Nom"}),c.lastName&&s.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:c.lastName.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(zo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{...l("email"),type:"email",className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"email@exemple.com"})]}),c.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.email.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mot de passe"}),s.jsxs("div",{className:"relative",children:[s.jsx(f4,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{...l("password"),type:"password",className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Mot de passe"})]}),c.password&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.password.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rôle"}),s.jsxs("div",{className:"relative",children:[s.jsx(au,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsxs("select",{...l("role"),className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Sélectionner un rôle"}),Object.entries(iZ).map(([b,v])=>s.jsx("option",{value:b,children:v},b))]})]}),c.role&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.role.message})]}),m&&!["ADMIN","GENERAL_DIRECTOR"].includes(m)&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service"}),s.jsxs("div",{className:"relative",children:[s.jsx(Xa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsxs("select",{...l("serviceId",{valueAsNumber:!0}),className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Sélectionner un service"}),p.map(b=>s.jsx("option",{value:b.id,children:b.name},b.id))]})]}),c.serviceId&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.serviceId.message})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{...l("isActive"),type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"Utilisateur actif"})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50",children:n?"Création...":"Créer"})]})]})]})})},vS=oe("users"),bS={ADMIN:"Administrateur",GENERAL_DIRECTOR:"Directeur Général",SERVICE_MANAGER:"Responsable de Service",EMPLOYEE:"Employé",ACCOUNTANT:"Comptable"},oZ=()=>{var N,k;const{hasPermission:e}=Ze(),t=Ne(),[r,n]=j.useState(1),[a,i]=j.useState(""),[l,o]=j.useState(""),[c,u]=j.useState(!1),[d,m]=j.useState(null),[f,h]=j.useState(!1),{data:p,isLoading:y,error:b}=ve({queryKey:["users",r,a,l],queryFn:()=>vS.getAll({page:r,limit:10,search:a,role:l})}),v=be({mutationFn:S=>vS.delete(S),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}});if(y)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(b)return s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:"Erreur lors du chargement des utilisateurs"});const g=((N=p==null?void 0:p.data)==null?void 0:N.users)||[],x=(k=p==null?void 0:p.data)==null?void 0:k.pagination,w=async S=>{if(window.confirm(`Êtes-vous sûr de vouloir supprimer l'utilisateur ${S.firstName} ${S.lastName} ?`))try{await v.mutateAsync(S.id)}catch(A){console.error("Erreur lors de la suppression:",A)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Utilisateurs"}),s.jsx("p",{className:"text-gray-600",children:"Gérez les utilisateurs et leurs permissions"})]}),e("users.create")&&s.jsxs("button",{onClick:()=>u(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 flex items-center space-x-2",children:[s.jsx($e,{className:"h-4 w-4"}),s.jsx("span",{children:"Nouvel Utilisateur"})]})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(At,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:"Rechercher un utilisateur...",value:a,onChange:S=>i(S.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("select",{value:l,onChange:S=>o(S.target.value),className:"px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Tous les rôles"}),Object.entries(bS).map(([S,A])=>s.jsx("option",{value:S,children:A},S))]})]})}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider bg-gray-50 dark:bg-gray-700",children:"Utilisateur"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider bg-gray-50 dark:bg-gray-700",children:"Rôle"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider bg-gray-50 dark:bg-gray-700",children:"Service"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider bg-gray-50 dark:bg-gray-700",children:"Dernière connexion"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider bg-gray-50 dark:bg-gray-700",children:"Statut"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider bg-gray-50 dark:bg-gray-700",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:g.map(S=>{var A;return s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:S.avatarUrl?s.jsx("img",{className:"h-10 w-10 rounded-full",src:S.avatarUrl,alt:""}):s.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 dark:bg-gray-600 flex items-center justify-center",children:s.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:[S.firstName[0],S.lastName[0]]})})}),s.jsxs("div",{className:"ml-4",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[S.firstName," ",S.lastName]}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:S.email})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:[s.jsx(au,{className:"h-3 w-3 mr-1"}),bS[S.role]]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:((A=S.service)==null?void 0:A.name)||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:S.lastLogin?new Date(S.lastLogin).toLocaleDateString():"Jamais"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${S.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:S.isActive?"Actif":"Inactif"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e("users.read")&&s.jsx("button",{onClick:()=>m(S),className:"text-blue-600 hover:text-blue-900",children:s.jsx(kt,{className:"h-4 w-4"})}),e("users.update")&&s.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",children:s.jsx(Kt,{className:"h-4 w-4"})}),e("users.update")&&s.jsx("button",{className:"text-yellow-600 hover:text-yellow-900",children:s.jsx(aR,{className:"h-4 w-4"})}),e("users.manage_permissions")&&s.jsx("button",{onClick:()=>{m(S),h(!0)},className:"text-purple-600 hover:text-purple-900",title:"Gérer les permissions",children:s.jsx(au,{className:"h-4 w-4"})}),e("users.delete")&&s.jsx("button",{onClick:()=>w(S),className:"text-red-600 hover:text-red-900",children:s.jsx(Tt,{className:"h-4 w-4"})})]})})]},S.id)})})]}),x&&x.totalPages>1&&s.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>n(r-1),disabled:r===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Précédent"}),s.jsx("button",{onClick:()=>n(r+1),disabled:r===x.totalPages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Suivant"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Affichage de"," ",s.jsx("span",{className:"font-medium",children:(r-1)*10+1})," ","à"," ",s.jsx("span",{className:"font-medium",children:Math.min(r*10,x.total)})," ","sur"," ",s.jsx("span",{className:"font-medium",children:x.total})," ","résultats"]})}),s.jsx("div",{children:s.jsx("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:Array.from({length:x.totalPages},(S,A)=>A+1).map(S=>s.jsx("button",{onClick:()=>n(S),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${S===r?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:S},S))})})]})]})]}),s.jsx(lZ,{isOpen:c,onClose:()=>u(!1)})]})},cZ=oe("services"),uZ=ze({name:B().min(1,"Nom requis"),description:B().optional()}),dZ=({isOpen:e,onClose:t})=>{const r=Ne(),[n,a]=j.useState(!1),{register:i,handleSubmit:l,formState:{errors:o},reset:c}=gt({resolver:vt(uZ)}),u=be({mutationFn:m=>cZ.create(m),onSuccess:()=>{r.invalidateQueries({queryKey:["services"]}),c(),t()}}),d=async m=>{a(!0);try{await u.mutateAsync(m)}catch(f){console.error("Erreur lors de la création:",f)}finally{a(!1)}};return e?s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(Xa,{className:"h-5 w-5 mr-2"}),"Créer un Service"]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx(ot,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:l(d),className:"px-6 py-4 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom du service"}),s.jsx("input",{...i("name"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Service Commercial"}),o.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.name.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ue,{className:"absolute left-3 top-3 text-gray-400 h-4 w-4"}),s.jsx("textarea",{...i("description"),rows:4,className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Description du service et de ses responsabilités..."})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50",children:n?"Création...":"Créer le service"})]})]})]})}):null},jS=oe("services"),mZ=()=>{var p;const{hasPermission:e}=Ze(),t=Ne(),[r,n]=j.useState(""),[a,i]=j.useState(!1),[l,o]=j.useState(null),{data:c,isLoading:u,error:d}=ve({queryKey:["services",r],queryFn:()=>jS.getAll({search:r})}),m=be({mutationFn:y=>jS.delete(y),onSuccess:()=>{t.invalidateQueries({queryKey:["services"]})}});if(u)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(d)return s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:"Erreur lors du chargement des services"});const f=((p=c==null?void 0:c.data)==null?void 0:p.services)||[],h=async y=>{if(window.confirm(`Êtes-vous sûr de vouloir supprimer le service ${y.name} ?`))try{await m.mutateAsync(y.id)}catch(b){console.error("Erreur lors de la suppression:",b)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Services"}),s.jsx("p",{className:"text-gray-600",children:"Organisez votre entreprise en services"})]}),e("admin.system_settings")&&s.jsxs("button",{onClick:()=>i(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 flex items-center space-x-2",children:[s.jsx($e,{className:"h-4 w-4"}),s.jsx("span",{children:"Nouveau Service"})]})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(At,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:"Rechercher un service...",value:r,onChange:y=>n(y.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]})})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(y=>{var b;return s.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Xa,{className:"h-8 w-8 text-blue-600"})}),s.jsxs("div",{className:"ml-4 flex-1",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:y.name}),s.jsx("p",{className:"text-sm text-gray-500",children:y.description})]})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(Xr,{className:"h-4 w-4 mr-1"}),s.jsxs("span",{children:[((b=y._count)==null?void 0:b.users)||0," utilisateurs"]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:e("admin.system_settings")&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>o(y),className:"text-blue-600 hover:text-blue-900",children:s.jsx(kt,{className:"h-4 w-4"})}),s.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",children:s.jsx(Kt,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>h(y),className:"text-red-600 hover:text-red-900",children:s.jsx(Tt,{className:"h-4 w-4"})})]})})]})]})},y.id)})}),f.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Xa,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"Aucun service trouvé"}),s.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Commencez par créer un service pour organiser votre entreprise."}),e("admin.system_settings")&&s.jsx("div",{className:"mt-6",children:s.jsx("button",{onClick:()=>i(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Créer un service"})})]}),s.jsx(dZ,{isOpen:a,onClose:()=>i(!1)})]})},fZ=oe("users"),k0={ADMIN:"Administrateur",GENERAL_DIRECTOR:"Directeur Général",SERVICE_MANAGER:"Responsable de Service",EMPLOYEE:"Employé",ACCOUNTANT:"Comptable"},wS={users:{label:"Utilisateurs",color:"bg-blue-100 text-blue-800",permissions:[{key:"users.create",label:"Créer des utilisateurs"},{key:"users.read",label:"Consulter les utilisateurs"},{key:"users.update",label:"Modifier les utilisateurs"},{key:"users.delete",label:"Supprimer les utilisateurs"},{key:"users.manage_permissions",label:"Gérer les permissions"}]},customers:{label:"Clients",color:"bg-green-100 text-green-800",permissions:[{key:"customers.create",label:"Créer des clients"},{key:"customers.read",label:"Consulter les clients"},{key:"customers.update",label:"Modifier les clients"},{key:"customers.delete",label:"Supprimer les clients"}]},quotes:{label:"Devis",color:"bg-yellow-100 text-yellow-800",permissions:[{key:"quotes.create",label:"Créer des devis"},{key:"quotes.read",label:"Consulter les devis"},{key:"quotes.update",label:"Modifier les devis"},{key:"quotes.delete",label:"Supprimer les devis"},{key:"quotes.submit_for_approval",label:"Soumettre pour approbation"},{key:"quotes.approve_service",label:"Approuver (Service)"},{key:"quotes.approve_dg",label:"Approuver (DG)"}]},invoices:{label:"Factures",color:"bg-purple-100 text-purple-800",permissions:[{key:"invoices.create",label:"Créer des factures"},{key:"invoices.read",label:"Consulter les factures"},{key:"invoices.update",label:"Modifier les factures"},{key:"invoices.delete",label:"Supprimer les factures"},{key:"invoices.send",label:"Envoyer les factures"}]},payments:{label:"Paiements",color:"bg-indigo-100 text-indigo-800",permissions:[{key:"payments.create",label:"Enregistrer des paiements"},{key:"payments.read",label:"Consulter les paiements"},{key:"payments.update",label:"Modifier les paiements"},{key:"payments.delete",label:"Supprimer les paiements"}]},products:{label:"Produits",color:"bg-pink-100 text-pink-800",permissions:[{key:"products.create",label:"Créer des produits"},{key:"products.read",label:"Consulter les produits"},{key:"products.update",label:"Modifier les produits"},{key:"products.delete",label:"Supprimer les produits"}]},expenses:{label:"Dépenses",color:"bg-red-100 text-red-800",permissions:[{key:"expenses.create",label:"Créer des dépenses"},{key:"expenses.read",label:"Consulter les dépenses"},{key:"expenses.update",label:"Modifier les dépenses"},{key:"expenses.delete",label:"Supprimer les dépenses"}]},reports:{label:"Rapports",color:"bg-gray-100 text-gray-800",permissions:[{key:"reports.financial",label:"Rapports financiers"},{key:"reports.sales",label:"Rapports de vente"},{key:"reports.audit",label:"Logs d'audit"}]},employees:{label:"Employés",color:"bg-teal-100 text-teal-800",permissions:[{key:"employees.create",label:"Créer des employés"},{key:"employees.read",label:"Consulter les employés"},{key:"employees.update",label:"Modifier les employés"},{key:"employees.delete",label:"Supprimer les employés"}]},leaves:{label:"Congés",color:"bg-cyan-100 text-cyan-800",permissions:[{key:"leaves.create",label:"Créer des demandes"},{key:"leaves.read",label:"Consulter les demandes"},{key:"leaves.update",label:"Modifier les demandes"},{key:"leaves.approve",label:"Approuver les demandes"}]},admin:{label:"Administration",color:"bg-orange-100 text-orange-800",permissions:[{key:"admin.system_settings",label:"Paramètres système"},{key:"admin.backup",label:"Sauvegardes"},{key:"admin.logs",label:"Logs système"}]}},hZ=()=>{var w,N;const{hasPermission:e}=Ze(),t=Ne(),[r,n]=j.useState(null),[a,i]=j.useState([]),[l,o]=j.useState(""),[c,u]=j.useState(!1),{data:d,isLoading:m}=ve({queryKey:["users",l],queryFn:()=>fZ.getAll({search:l,limit:100})}),f=be({mutationFn:({userId:k,permissions:S})=>fetch(`/api/v1/users/${k}/permissions`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({permissions:S})}).then(A=>A.json()),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]}),u(!1)}}),h=async k=>{n(k),u(!1);try{const A=await(await fetch(`/api/v1/users/${k.id}/permissions`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();i(A.data||[])}catch(S){console.error("Erreur lors du chargement des permissions:",S),i([])}},p=k=>{i(S=>S.includes(k)?S.filter(A=>A!==k):[...S,k])},y=async()=>{if(r)try{await f.mutateAsync({userId:r.id,permissions:a})}catch(k){console.error("Erreur lors de la sauvegarde:",k)}},b=()=>Object.values(wS).flatMap(k=>k.permissions.map(S=>S.key)),v=()=>{i(b())},g=()=>{i([])};if(m)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});const x=((w=d==null?void 0:d.data)==null?void 0:w.users)||[];return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Permissions"}),s.jsx("p",{className:"text-gray-600",children:"Attribuez des permissions spécifiques à chaque utilisateur"})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"bg-white shadow rounded-lg",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Utilisateurs"}),s.jsxs("div",{className:"mt-3 relative",children:[s.jsx(At,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:"Rechercher un utilisateur...",value:l,onChange:k=>o(k.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]})]}),s.jsx("div",{className:"max-h-96 overflow-y-auto",children:x.map(k=>s.jsx("div",{onClick:()=>h(k),className:`p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-50 transition-colors ${(r==null?void 0:r.id)===k.id?"bg-blue-50 border-blue-200":""}`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:s.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center",children:s.jsxs("span",{className:"text-xs font-medium text-gray-700",children:[k.firstName[0],k.lastName[0]]})})}),s.jsxs("div",{className:"ml-3 flex-1",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[k.firstName," ",k.lastName]}),s.jsx("div",{className:"text-xs text-gray-500",children:k.email}),s.jsx("div",{className:"text-xs text-blue-600",children:k0[k.role]})]})]})},k.id))})]})}),s.jsx("div",{className:"lg:col-span-2",children:r?s.jsxs("div",{className:"bg-white shadow rounded-lg",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Permissions de ",r.firstName," ",r.lastName]}),s.jsxs("p",{className:"text-sm text-gray-500",children:[k0[r.role]," • ",((N=r.service)==null?void 0:N.name)||"Aucun service"]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:c?s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:y,disabled:f.isPending,className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 flex items-center space-x-2 disabled:opacity-50",children:[s.jsx(uR,{className:"h-4 w-4"}),s.jsx("span",{children:"Sauvegarder"})]}),s.jsxs("button",{onClick:()=>{u(!1),h(r)},className:"bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 flex items-center space-x-2",children:[s.jsx(ot,{className:"h-4 w-4"}),s.jsx("span",{children:"Annuler"})]})]}):s.jsxs("button",{onClick:()=>u(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 flex items-center space-x-2",children:[s.jsx(Kt,{className:"h-4 w-4"}),s.jsx("span",{children:"Modifier"})]})})]}),c&&s.jsxs("div",{className:"mt-4 flex items-center space-x-4",children:[s.jsx("button",{onClick:v,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Tout sélectionner"}),s.jsx("button",{onClick:g,className:"text-sm text-red-600 hover:text-red-800 font-medium",children:"Tout désélectionner"}),s.jsxs("div",{className:"text-sm text-gray-500",children:[a.length," permission(s) sélectionnée(s)"]})]})]}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"space-y-6",children:Object.entries(wS).map(([k,S])=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(au,{className:"h-5 w-5 text-gray-400 mr-2"}),s.jsx("h4",{className:"text-lg font-medium text-gray-900",children:S.label}),s.jsxs("span",{className:`ml-2 inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${S.color}`,children:[S.permissions.length," permissions"]})]}),c&&s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("button",{onClick:()=>{const A=S.permissions.map(C=>C.key),P=A.every(C=>a.includes(C));i(P?C=>C.filter(D=>!A.includes(D)):C=>[...new Set([...C,...A])])},className:"text-sm text-blue-600 hover:text-blue-800",children:S.permissions.every(A=>a.includes(A.key))?"Désélectionner tout":"Sélectionner tout"})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:S.permissions.map(A=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-md",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-3 h-3 rounded-full mr-3 ${a.includes(A.key)?"bg-green-500":"bg-gray-300"}`}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.label}),s.jsx("div",{className:"text-xs text-gray-500",children:A.key})]})]}),c&&s.jsx("button",{onClick:()=>p(A.key),className:`w-6 h-6 rounded border-2 flex items-center justify-center transition-colors ${a.includes(A.key)?"bg-blue-600 border-blue-600 text-white":"border-gray-300 hover:border-blue-500"}`,children:a.includes(A.key)&&s.jsx(eR,{className:"h-4 w-4"})})]},A.key))})]},k))})})]}):s.jsxs("div",{className:"bg-white shadow rounded-lg p-12 text-center",children:[s.jsx(Xr,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Sélectionnez un utilisateur"}),s.jsx("p",{className:"text-gray-500",children:"Choisissez un utilisateur dans la liste pour configurer ses permissions"})]})})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Permissions par Rôle (Défaut)"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Permissions standard attribuées automatiquement selon le rôle"})]}),s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(k0).map(([k,S])=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx(au,{className:"h-5 w-5 text-blue-600 mr-2"}),s.jsx("h4",{className:"font-medium text-gray-900",children:S})]}),s.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[k==="ADMIN"&&s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-green-600",children:"✓ Accès complet"}),s.jsx("div",{children:"Toutes les fonctionnalités"})]}),k==="GENERAL_DIRECTOR"&&s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-blue-600",children:"✓ Validation finale"}),s.jsx("div",{children:"Approbation devis, rapports complets"})]}),k==="SERVICE_MANAGER"&&s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-purple-600",children:"✓ Gestion service"}),s.jsx("div",{children:"Son service + validation devis"})]}),k==="EMPLOYEE"&&s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-yellow-600",children:"✓ Opérations courantes"}),s.jsx("div",{children:"Création devis, gestion clients"})]}),k==="ACCOUNTANT"&&s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-indigo-600",children:"✓ Gestion financière"}),s.jsx("div",{children:"Factures, paiements, rapports"})]})]})]},k))})})]})]})},pZ=oe("employees"),xZ=oe("services"),yZ=ze({firstName:B().min(1,"Prénom requis"),lastName:B().min(1,"Nom requis"),email:B().email("Email invalide").optional().or(nl("")),phone:B().optional(),address:B().optional(),dateOfBirth:B().min(1,"Date de naissance requise"),placeOfBirth:B().optional(),nationality:B().default("Ivoirienne"),socialSecurityNumber:B().optional(),bankAccount:B().optional(),emergencyContact:B().optional(),serviceId:J().min(1,"Service requis"),position:B().min(1,"Poste requis"),department:B().optional(),manager:B().optional(),hireDate:B().min(1,"Date d'embauche requise"),contractType:fr(["CDI","CDD","STAGE","FREELANCE"]),baseSalary:J().min(0,"Salaire invalide"),workingHours:J().min(0).max(80,"Heures de travail invalides").default(40)}),gZ=({isOpen:e,onClose:t})=>{var h;const r=Ne(),[n,a]=j.useState(!1),{data:i}=ve({queryKey:["services"],queryFn:()=>xZ.getAll()}),{register:l,handleSubmit:o,formState:{errors:c},reset:u}=gt({resolver:vt(yZ),defaultValues:{nationality:"Ivoirienne",contractType:"CDI",workingHours:40}}),d=be({mutationFn:p=>pZ.create(p),onSuccess:()=>{r.invalidateQueries({queryKey:["employees"]}),u(),t()}}),m=async p=>{a(!0);try{await d.mutateAsync(p)}catch(y){console.error("Erreur lors de la création:",y)}finally{a(!1)}};if(!e)return null;const f=((h=i==null?void 0:i.data)==null?void 0:h.services)||[];return s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-screen overflow-y-auto",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(Ve,{className:"h-5 w-5 mr-2"}),"Créer un Employé"]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx(ot,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:o(m),className:"px-6 py-4 space-y-6",children:[s.jsxs("div",{className:"border-b pb-4",children:[s.jsxs("h4",{className:"text-md font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Informations Personnelles"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prénom"}),s.jsx("input",{...l("firstName"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Prénom"}),c.firstName&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.firstName.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom"}),s.jsx("input",{...l("lastName"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Nom"}),c.lastName&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.lastName.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(zo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{...l("email"),type:"email",className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"email@exemple.com"})]}),c.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.email.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Téléphone"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{...l("phone"),type:"tel",className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"+225 07 07 07 07 07"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de naissance"}),s.jsxs("div",{className:"relative",children:[s.jsx(_e,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{...l("dateOfBirth"),type:"date",className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),c.dateOfBirth&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.dateOfBirth.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Lieu de naissance"}),s.jsx("input",{...l("placeOfBirth"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Abidjan, Côte d'Ivoire"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nationalité"}),s.jsx("input",{...l("nationality"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Ivoirienne"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Numéro de sécurité sociale"}),s.jsx("input",{...l("socialSecurityNumber"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"123456789"})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse"}),s.jsxs("div",{className:"relative",children:[s.jsx(Jf,{className:"absolute left-3 top-3 text-gray-400 h-4 w-4"}),s.jsx("textarea",{...l("address"),rows:2,className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Adresse complète"})]})]})]}),s.jsxs("div",{className:"border-b pb-4",children:[s.jsxs("h4",{className:"text-md font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(JI,{className:"h-4 w-4 mr-2"}),"Informations Professionnelles"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service"}),s.jsxs("div",{className:"relative",children:[s.jsx(Xa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsxs("select",{...l("serviceId",{valueAsNumber:!0}),className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Sélectionner un service"}),f.map(p=>s.jsx("option",{value:p.id,children:p.name},p.id))]})]}),c.serviceId&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.serviceId.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Poste"}),s.jsx("input",{...l("position"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Développeur, Commercial, etc."}),c.position&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.position.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Département"}),s.jsx("input",{...l("department"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"IT, Ventes, etc."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manager"}),s.jsx("input",{...l("manager"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Nom du manager"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date d'embauche"}),s.jsx("input",{...l("hireDate"),type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"}),c.hireDate&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.hireDate.message})]})]})]}),s.jsxs("div",{className:"border-b pb-4",children:[s.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Contrat Initial"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type de contrat"}),s.jsxs("select",{...l("contractType"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"CDI",children:"CDI"}),s.jsx("option",{value:"CDD",children:"CDD"}),s.jsx("option",{value:"STAGE",children:"Stage"}),s.jsx("option",{value:"FREELANCE",children:"Freelance"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Salaire de base (FCFA)"}),s.jsx("input",{...l("baseSalary",{valueAsNumber:!0}),type:"number",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"500000"}),c.baseSalary&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.baseSalary.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Heures de travail/semaine"}),s.jsx("input",{...l("workingHours",{valueAsNumber:!0}),type:"number",min:"0",max:"80",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"40"}),c.workingHours&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.workingHours.message})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Informations Complémentaires"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Compte bancaire (IBAN)"}),s.jsx("input",{...l("bankAccount"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"CI05 CI000 00000000000000 00"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact d'urgence"}),s.jsx("input",{...l("emergencyContact"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Nom et téléphone"})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50",children:n?"Création...":"Créer l'employé"})]})]})]})})},NS=oe("employees"),vZ=()=>{var v,g;const{hasPermission:e}=Ze(),t=Ne(),[r,n]=j.useState(1),[a,i]=j.useState(""),[l,o]=j.useState(""),[c,u]=j.useState(!1),{data:d,isLoading:m,error:f}=ve({queryKey:["employees",r,a,l],queryFn:()=>NS.getAll({page:r,limit:10,search:a,serviceId:l})}),h=be({mutationFn:x=>NS.delete(x),onSuccess:()=>{t.invalidateQueries({queryKey:["employees"]})}});if(m)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(f)return s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:"Erreur lors du chargement des employés"});const p=((v=d==null?void 0:d.data)==null?void 0:v.employees)||[],y=(g=d==null?void 0:d.data)==null?void 0:g.pagination,b=async x=>{if(window.confirm(`Êtes-vous sûr de vouloir supprimer l'employé ${x.firstName} ${x.lastName} ?`))try{await h.mutateAsync(x.id)}catch(w){console.error("Erreur lors de la suppression:",w)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Employés"}),s.jsx("p",{className:"text-gray-600",children:"Gérez les informations des employés et leurs contrats"})]}),e("employees.create")&&s.jsxs("button",{onClick:()=>u(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 flex items-center space-x-2",children:[s.jsx($e,{className:"h-4 w-4"}),s.jsx("span",{children:"Nouvel Employé"})]})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(At,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:"Rechercher un employé...",value:a,onChange:x=>i(x.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("select",{value:l,onChange:x=>o(x.target.value),className:"px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Tous les services"}),s.jsx("option",{value:"1",children:"Service Commercial"}),s.jsx("option",{value:"2",children:"Service Progitek"}),s.jsx("option",{value:"3",children:"Service Comptabilité"})]})]})}),s.jsx(gZ,{isOpen:c,onClose:()=>u(!1)}),s.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employé"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Poste"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date d'embauche"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(x=>{var w;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:s.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:s.jsx(Ve,{className:"h-5 w-5 text-gray-600"})})}),s.jsxs("div",{className:"ml-4",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[x.firstName," ",x.lastName]}),s.jsx("div",{className:"text-sm text-gray-500",children:x.employeeNumber}),x.email&&s.jsx("div",{className:"text-sm text-gray-500",children:x.email})]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:x.position}),x.department&&s.jsx("div",{className:"text-sm text-gray-500",children:x.department})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:((w=x.service)==null?void 0:w.name)||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(x.hireDate).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${x.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:x.isActive?"Actif":"Inactif"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e("employees.read")&&s.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:s.jsx(kt,{className:"h-4 w-4"})}),e("contracts.read")&&s.jsx("button",{className:"text-purple-600 hover:text-purple-900",children:s.jsx(_e,{className:"h-4 w-4"})}),e("salaries.read")&&s.jsx("button",{className:"text-green-600 hover:text-green-900",children:s.jsx(mt,{className:"h-4 w-4"})}),e("employees.update")&&s.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",children:s.jsx(Kt,{className:"h-4 w-4"})}),e("employees.delete")&&s.jsx("button",{onClick:()=>b(x),className:"text-red-600 hover:text-red-900",children:s.jsx(Tt,{className:"h-4 w-4"})})]})})]},x.id)})})]}),y&&y.totalPages>1&&s.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>n(r-1),disabled:r===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Précédent"}),s.jsx("button",{onClick:()=>n(r+1),disabled:r===y.totalPages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Suivant"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Affichage de"," ",s.jsx("span",{className:"font-medium",children:(r-1)*10+1})," ","à"," ",s.jsx("span",{className:"font-medium",children:Math.min(r*10,y.total)})," ","sur"," ",s.jsx("span",{className:"font-medium",children:y.total})," ","résultats"]})}),s.jsx("div",{children:s.jsx("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:Array.from({length:y.totalPages},(x,w)=>w+1).map(x=>s.jsx("button",{onClick:()=>n(x),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${x===r?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:x},x))})})]})]})]})]})},bZ=oe("leaves"),jZ=oe("employees"),wZ=ze({employeeId:J().min(1,"Employé requis"),leaveType:fr(["ANNUAL","SICK","PERSONAL","MATERNITY","PATERNITY","OTHER"]),startDate:B().min(1,"Date de début requise"),endDate:B().min(1,"Date de fin requise"),reason:B().min(1,"Motif requis"),notes:B().optional()}),NZ={ANNUAL:"Congés annuels",SICK:"Congé maladie",PERSONAL:"Congé personnel",MATERNITY:"Congé maternité",PATERNITY:"Congé paternité",OTHER:"Autre"},kZ=({isOpen:e,onClose:t,employeeId:r})=>{var g;const n=Ne(),[a,i]=j.useState(!1),{data:l}=ve({queryKey:["employees"],queryFn:()=>jZ.getAll({limit:100})}),{register:o,handleSubmit:c,formState:{errors:u},reset:d,watch:m}=gt({resolver:vt(wZ),defaultValues:{employeeId:r,leaveType:"ANNUAL",startDate:new Date().toISOString().split("T")[0]}}),f=m("startDate"),h=m("endDate"),p=be({mutationFn:x=>bZ.create(x),onSuccess:()=>{n.invalidateQueries({queryKey:["leaves"]}),d(),t()}}),y=async x=>{i(!0);try{await p.mutateAsync(x)}catch(w){console.error("Erreur lors de la création:",w)}finally{i(!1)}},b=()=>{if(f&&h){const x=new Date(f),w=new Date(h),N=Math.abs(w.getTime()-x.getTime());return Math.ceil(N/(1e3*60*60*24))+1}return 0};if(!e)return null;const v=((g=l==null?void 0:l.data)==null?void 0:g.employees)||[];return s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-screen overflow-y-auto",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(_e,{className:"h-5 w-5 mr-2"}),"Demande de Congé"]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx(ot,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:c(y),className:"px-6 py-4 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employé"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ve,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsxs("select",{...o("employeeId",{valueAsNumber:!0}),className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",disabled:!!r,children:[s.jsx("option",{value:"",children:"Sélectionner un employé"}),v.map(x=>s.jsxs("option",{value:x.id,children:[x.firstName," ",x.lastName," - ",x.position]},x.id))]})]}),u.employeeId&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.employeeId.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type de congé"}),s.jsx("select",{...o("leaveType"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:Object.entries(NZ).map(([x,w])=>s.jsx("option",{value:x,children:w},x))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de début"}),s.jsxs("div",{className:"relative",children:[s.jsx(_e,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{...o("startDate"),type:"date",className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),u.startDate&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.startDate.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de fin"}),s.jsxs("div",{className:"relative",children:[s.jsx(_e,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{...o("endDate"),type:"date",className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),u.endDate&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.endDate.message})]})]}),f&&h&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Je,{className:"h-5 w-5 text-blue-600 mr-2"}),s.jsxs("span",{className:"text-sm font-medium text-blue-800",children:["Durée: ",b()," jour",b()>1?"s":""]})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Motif"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ue,{className:"absolute left-3 top-3 text-gray-400 h-4 w-4"}),s.jsx("textarea",{...o("reason"),rows:3,className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Motif de la demande de congé..."})]}),u.reason&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.reason.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes complémentaires"}),s.jsx("textarea",{...o("notes"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Informations complémentaires..."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:a,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50",children:a?"Création...":"Créer la demande"})]})]})]})})},SZ=oe("leaves"),kS={PENDING:{label:"En attente",color:"bg-yellow-100 text-yellow-800",icon:Je},APPROVED:{label:"Approuvé",color:"bg-green-100 text-green-800",icon:qt},REJECTED:{label:"Rejeté",color:"bg-red-100 text-red-800",icon:Pn}},AZ={ANNUAL:"Congés annuels",SICK:"Congé maladie",PERSONAL:"Congé personnel",MATERNITY:"Congé maternité",PATERNITY:"Congé paternité",OTHER:"Autre"},CZ=()=>{var w,N;const{hasPermission:e,user:t}=Ze(),r=Ne(),[n,a]=j.useState(1),[i,l]=j.useState(""),[o,c]=j.useState(""),[u,d]=j.useState(!1),{data:m,isLoading:f,error:h}=ve({queryKey:["leaves",n,i,o],queryFn:()=>SZ.getAll({page:n,limit:10,search:i,status:o})}),p=be({mutationFn:({id:k,comments:S})=>fetch(`/api/v1/leaves/${k}/approve`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({comments:S})}).then(A=>A.json()),onSuccess:()=>{r.invalidateQueries({queryKey:["leaves"]})}}),y=be({mutationFn:({id:k,comments:S})=>fetch(`/api/v1/leaves/${k}/reject`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({comments:S})}).then(A=>A.json()),onSuccess:()=>{r.invalidateQueries({queryKey:["leaves"]})}});if(f)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(h)return s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:"Erreur lors du chargement des demandes de congé"});const b=((w=m==null?void 0:m.data)==null?void 0:w.leaveRequests)||[],v=(N=m==null?void 0:m.data)==null?void 0:N.pagination,g=async k=>{const S=prompt("Commentaires (optionnel):");try{await p.mutateAsync({id:k.id,comments:S||void 0})}catch(A){console.error("Erreur lors de l'approbation:",A)}},x=async k=>{const S=prompt("Motif du rejet (requis):");if(S)try{await y.mutateAsync({id:k.id,comments:S})}catch(A){console.error("Erreur lors du rejet:",A)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Congés"}),s.jsx("p",{className:"text-gray-600",children:"Gérez les demandes de congé et les approbations"})]}),e("leaves.create")&&s.jsxs("button",{onClick:()=>d(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 flex items-center space-x-2",children:[s.jsx($e,{className:"h-4 w-4"}),s.jsx("span",{children:"Nouvelle Demande"})]})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(At,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:"Rechercher une demande...",value:i,onChange:k=>l(k.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("select",{value:o,onChange:k=>c(k.target.value),className:"px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Tous les statuts"}),Object.entries(kS).map(([k,S])=>s.jsx("option",{value:k,children:S.label},k))]})]})}),s.jsx(kZ,{isOpen:u,onClose:()=>d(!1)}),s.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employé"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type de congé"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Période"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Durée"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Demandé le"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(k=>{var P;const S=kS[k.status],A=(S==null?void 0:S.icon)||Je;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:s.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center",children:s.jsx(Ve,{className:"h-4 w-4 text-gray-600"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[k.employee.firstName," ",k.employee.lastName]}),s.jsx("div",{className:"text-sm text-gray-500",children:(P=k.employee.service)==null?void 0:P.name})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:AZ[k.leaveType]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.jsxs("div",{children:[s.jsxs("div",{children:["Du ",new Date(k.startDate).toLocaleDateString()]}),s.jsxs("div",{children:["Au ",new Date(k.endDate).toLocaleDateString()]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[k.days," jour",k.days>1?"s":""]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${S==null?void 0:S.color}`,children:[s.jsx(A,{className:"h-3 w-3 mr-1"}),S==null?void 0:S.label]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(k.createdAt).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e("leaves.approve")&&k.status==="PENDING"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>g(k),className:"text-green-600 hover:text-green-900",title:"Approuver",children:s.jsx(qt,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>x(k),className:"text-red-600 hover:text-red-900",title:"Rejeter",children:s.jsx(Pn,{className:"h-4 w-4"})})]}),s.jsx("button",{className:"text-blue-600 hover:text-blue-900",title:"Voir détails",children:s.jsx(_e,{className:"h-4 w-4"})})]})})]},k.id)})})]}),v&&v.totalPages>1&&s.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>a(n-1),disabled:n===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Précédent"}),s.jsx("button",{onClick:()=>a(n+1),disabled:n===v.totalPages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Suivant"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Affichage de"," ",s.jsx("span",{className:"font-medium",children:(n-1)*10+1})," ","à"," ",s.jsx("span",{className:"font-medium",children:Math.min(n*10,v.total)})," ","sur"," ",s.jsx("span",{className:"font-medium",children:v.total})," ","résultats"]})}),s.jsx("div",{children:s.jsx("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:Array.from({length:v.totalPages},(k,S)=>S+1).map(k=>s.jsx("button",{onClick:()=>a(k),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${k===n?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:k},k))})})]})]})]})]})},SS={calculateNetSalary:(e,t=0,r=0,n=0,a=0,i=0,l=0)=>{const o=e+t+r+n,c=a+i+l,u=o-c;return{grossSalary:Math.round(o*100)/100,totalDeductions:Math.round(c*100)/100,netSalary:Math.round(u*100)/100}},calculateSocialContributions:e=>({cnps:Math.round(e*.036*100)/100,fdfp:Math.round(e*.012*100)/100,total:Math.round(e*(.036+.012)*100)/100}),calculateIncomeTax:e=>{const t=e*12;let r=0;return t<=5e5?r=0:t<=15e5?r=(t-5e5)*.15:t<=3e6?r=15e4+(t-15e5)*.2:r=45e4+(t-3e6)*.25,Math.round(r/12*100)/100},formatCurrency:e=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(e),generatePayslipNumber:(e,t)=>{const r=t.getFullYear(),n=(t.getMonth()+1).toString().padStart(2,"0");return`BP-${e}-${r}${n}`},calculateWorkingDays:(e,t)=>{const r=new Date(e,t,0).getDate();let n=0;for(let a=1;a<=r;a++){const l=new Date(e,t-1,a).getDay();l!==0&&l!==6&&n++}return n},calculateProrata:(e,t,r)=>Math.round(e*t/r*100)/100,validateSalaryData:e=>{const t=[];return e.employeeId||t.push("Employé requis"),(!e.baseSalary||e.baseSalary<0)&&t.push("Salaire de base invalide"),e.overtime<0&&t.push("Heures supplémentaires invalides"),e.socialContributions<0&&t.push("Cotisations sociales invalides"),e.taxes<0&&t.push("Impôts invalides"),{isValid:t.length===0,errors:t}},generateExcelData:e=>e.map(t=>{var r;return{"N° Employé":t.employee.employeeNumber,Nom:`${t.employee.firstName} ${t.employee.lastName}`,Service:((r=t.employee.service)==null?void 0:r.name)||"",Poste:t.employee.position,Période:new Date(t.paymentDate).toLocaleDateString("fr-FR",{year:"numeric",month:"long"}),"Salaire de Base":t.baseSalary,"Heures Sup.":t.overtime,Primes:t.bonuses,Indemnités:t.allowances,"Salaire Brut":t.grossSalary,"Cotisations Sociales":t.socialContributions,Impôts:t.taxes,"Autres Déductions":t.otherDeductions,"Total Déductions":t.totalDeductions,"Salaire Net":t.netSalary,Statut:t.status==="PAID"?"Payé":"En attente"}})},PZ=oe("salaries"),EZ=oe("employees"),OZ=ze({employeeId:J().min(1,"Employé requis"),paymentDate:B().min(1,"Date de paiement requise"),workingDays:J().min(1).max(31).default(22),baseSalary:J().min(0,"Salaire de base invalide"),overtime:J().min(0).default(0),bonuses:J().min(0).default(0),allowances:J().min(0).default(0),paidLeave:J().min(0).default(0),cnpsEmployee:J().min(0).default(0),cnamEmployee:J().min(0).default(0),fdfpEmployee:J().min(0).default(0),socialContributions:J().min(0).default(0),taxes:J().min(0).default(0),nonTaxableAmount:J().min(0).default(0),otherDeductions:J().min(0).default(0),loanDeductions:J().min(0).default(0),notes:B().optional()}),_Z=({isOpen:e,onClose:t,employeeId:r})=>{var N;const n=Ne(),[a,i]=j.useState(!1),{data:l}=ve({queryKey:["employees"],queryFn:()=>EZ.getAll({limit:100})}),{register:o,handleSubmit:c,formState:{errors:u},reset:d,watch:m,setValue:f}=gt({resolver:vt(OZ),defaultValues:{employeeId:r,paymentDate:new Date().toISOString().split("T")[0],workingDays:22,overtime:0,bonuses:0,allowances:0,paidLeave:0,cnpsEmployee:0,cnamEmployee:0,fdfpEmployee:0,socialContributions:0,taxes:0,nonTaxableAmount:0,otherDeductions:0,loanDeductions:0}}),h=m();Ee.useEffect(()=>{const k=h.baseSalary||0,S=h.overtime||0,A=h.bonuses||0,P=h.allowances||0,C=k+S+A+P;if(C>0){const D=SS.calculateSocialContributions(C),E=SS.calculateIncomeTax(C);f("socialContributions",D.total),f("taxes",E)}},[h.baseSalary,h.overtime,h.bonuses,h.allowances,f]);const p=be({mutationFn:k=>PZ.create(k),onSuccess:()=>{n.invalidateQueries({queryKey:["salaries"]}),d(),t()}}),y=async k=>{i(!0);try{await p.mutateAsync(k)}catch(S){console.error("Erreur lors de la création:",S)}finally{i(!1)}},b=()=>{const k=h.baseSalary||0,S=h.overtime||0,A=h.bonuses||0,P=h.allowances||0,C=h.socialContributions||0,D=h.taxes||0,E=h.otherDeductions||0,L=k+S+A+P,U=C+D+E,I=L-U;return{grossSalary:L,totalDeductions:U,netSalary:I}};if(!e)return null;const v=((N=l==null?void 0:l.data)==null?void 0:N.employees)||[],{grossSalary:g,totalDeductions:x,netSalary:w}=b();return s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-screen overflow-y-auto",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(mt,{className:"h-5 w-5 mr-2"}),"Créer un Salaire"]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx(ot,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:c(y),className:"px-6 py-4 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employé"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ve,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsxs("select",{...o("employeeId",{valueAsNumber:!0}),className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",disabled:!!r,children:[s.jsx("option",{value:"",children:"Sélectionner un employé"}),v.map(k=>s.jsxs("option",{value:k.id,children:[k.firstName," ",k.lastName," - ",k.position]},k.id))]})]}),u.employeeId&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.employeeId.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de paiement"}),s.jsxs("div",{className:"relative",children:[s.jsx(_e,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{...o("paymentDate"),type:"date",className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),u.paymentDate&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.paymentDate.message})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre de jours travaillés"}),s.jsx("input",{...o("workingDays",{valueAsNumber:!0}),type:"number",min:"1",max:"31",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"22"}),u.workingDays&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.workingDays.message})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsxs("h4",{className:"text-md font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(mt,{className:"h-4 w-4 mr-2"}),"Éléments de Rémunération"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Salaire de base (FCFA)"}),s.jsx("input",{...o("baseSalary",{valueAsNumber:!0}),type:"number",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"500000"}),u.baseSalary&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.baseSalary.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Heures supplémentaires (FCFA)"}),s.jsx("input",{...o("overtime",{valueAsNumber:!0}),type:"number",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Primes (FCFA)"}),s.jsx("input",{...o("bonuses",{valueAsNumber:!0}),type:"number",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Indemnités (FCFA)"}),s.jsx("input",{...o("allowances",{valueAsNumber:!0}),type:"number",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Congés payés (FCFA)"}),s.jsx("input",{...o("paidLeave",{valueAsNumber:!0}),type:"number",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sommes non taxables (FCFA)"}),s.jsx("input",{...o("nonTaxableAmount",{valueAsNumber:!0}),type:"number",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Cotisations Salariales"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CNPS Employé (FCFA)"}),s.jsx("input",{...o("cnpsEmployee",{valueAsNumber:!0}),type:"number",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CNAM Employé (FCFA)"}),s.jsx("input",{...o("cnamEmployee",{valueAsNumber:!0}),type:"number",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"FDFP Employé (FCFA)"}),s.jsx("input",{...o("fdfpEmployee",{valueAsNumber:!0}),type:"number",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cotisations sociales (FCFA)"}),s.jsx("input",{...o("socialContributions",{valueAsNumber:!0}),type:"number",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Autres Déductions"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Impôts (FCFA)"}),s.jsx("input",{...o("taxes",{valueAsNumber:!0}),type:"number",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Remboursement prêt (FCFA)"}),s.jsx("input",{...o("loanDeductions",{valueAsNumber:!0}),type:"number",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Autres déductions (FCFA)"}),s.jsx("input",{...o("otherDeductions",{valueAsNumber:!0}),type:"number",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]})]})]}),s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[s.jsxs("h4",{className:"text-md font-medium text-gray-900 mb-3 flex items-center",children:[s.jsx(u4,{className:"h-4 w-4 mr-2"}),"Calculs Automatiques"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-semibold text-green-600",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(g)}),s.jsx("div",{className:"text-gray-600",children:"Salaire Brut"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-semibold text-red-600",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(x)}),s.jsx("div",{className:"text-gray-600",children:"Total Déductions"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xl font-bold text-blue-600",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(w)}),s.jsx("div",{className:"text-gray-600",children:"Salaire Net"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),s.jsx("textarea",{...o("notes"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Notes sur le salaire..."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:a,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50",children:a?"Création...":"Créer le salaire"})]})]})]})})},TZ=ze({paymentDate:B().min(1,"Date de paiement requise"),paymentMethod:fr(["TRANSFER","CHECK","CASH"]),reference:B().optional(),notes:B().optional()}),DZ=({isOpen:e,onClose:t,salary:r,onPay:n})=>{const[a,i]=j.useState(!1),{register:l,handleSubmit:o,formState:{errors:c},reset:u}=gt({resolver:vt(TZ),defaultValues:{paymentDate:new Date().toISOString().split("T")[0],paymentMethod:"TRANSFER"}}),d=async m=>{i(!0);try{await n(m),u(),t()}catch(f){console.error("Erreur lors du paiement:",f)}finally{i(!1)}};return!e||!r?null:s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(mt,{className:"h-5 w-5 mr-2"}),"Payer le Salaire"]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx(ot,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"px-6 py-4",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Détails du Salaire"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Employé:"}),s.jsxs("span",{className:"font-medium",children:[r.employee.firstName," ",r.employee.lastName]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Période:"}),s.jsx("span",{children:new Date(r.paymentDate).toLocaleDateString("fr-FR",{year:"numeric",month:"long"})})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Salaire Brut:"}),s.jsx("span",{className:"font-medium text-green-600",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(r.grossSalary)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Déductions:"}),s.jsxs("span",{className:"font-medium text-red-600",children:["-",new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(r.totalDeductions)]})]}),s.jsxs("div",{className:"flex justify-between border-t pt-2",children:[s.jsx("span",{className:"font-bold",children:"Salaire Net:"}),s.jsx("span",{className:"font-bold text-blue-600 text-lg",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(r.netSalary)})]})]})]}),s.jsxs("form",{onSubmit:o(d),className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de paiement"}),s.jsxs("div",{className:"relative",children:[s.jsx(_e,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{...l("paymentDate"),type:"date",className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),c.paymentDate&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.paymentDate.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mode de paiement"}),s.jsxs("div",{className:"relative",children:[s.jsx(Hs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsxs("select",{...l("paymentMethod"),className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"TRANSFER",children:"Virement bancaire"}),s.jsx("option",{value:"CHECK",children:"Chèque"}),s.jsx("option",{value:"CASH",children:"Espèces"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Référence"}),s.jsx("input",{...l("reference"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Numéro de virement, chèque, etc."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ue,{className:"absolute left-3 top-3 text-gray-400 h-4 w-4"}),s.jsx("textarea",{...l("notes"),rows:3,className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Notes sur le paiement..."})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:a,className:"px-4 py-2 bg-green-600 text-white rounded-md text-sm font-medium hover:bg-green-700 disabled:opacity-50",children:a?"Traitement...":"Confirmer le Paiement"})]})]})]})]})})},MZ=({salary:e,onClose:t})=>{var i;Ee.useEffect(()=>{const o=setTimeout(()=>{window.print(),t()},500);return()=>clearTimeout(o)},[t]);const r=l=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(l),n=l=>new Date(l).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}),a=l=>new Date(l).toLocaleDateString("fr-FR",{year:"numeric",month:"long"});return s.jsxs("div",{className:"print:block hidden",children:[s.jsxs("div",{className:"max-w-4xl mx-auto p-8 bg-white",children:[s.jsx("div",{className:"border-b-2 border-blue-600 pb-6 mb-8",children:s.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-blue-600 mb-2",children:"PARABELLUM GROUPS"}),s.jsxs("div",{className:"text-sm space-y-1",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Raison sociale :"})," Parabellum Groups SARL"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Adresse :"})," Abidjan, Côte d'Ivoire"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Téléphone :"})," +225 07 07 07 07 07"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Email :"})," contact@parabellum.com"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"SIRET :"})," CI-123456789"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"N° CNPS Employeur :"})," 1234567"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"N° CNAM Employeur :"})," 7654321"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"BULLETIN DE PAIE"}),s.jsxs("div",{className:"text-lg font-semibold text-gray-600 mb-4",children:["Période : ",a(e.paymentDate)]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[s.jsxs("p",{children:["Édité le ",n(new Date)]}),s.jsxs("p",{children:["N° Bulletin : BP-",e.employee.employeeNumber,"-",new Date(e.paymentDate).getFullYear(),(new Date(e.paymentDate).getMonth()+1).toString().padStart(2,"0")]})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800 border-b border-gray-300 pb-2",children:"INFORMATIONS SALARIÉ"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"grid grid-cols-2",children:[s.jsx("span",{className:"text-gray-600",children:"Nom et Prénom :"}),s.jsxs("span",{className:"font-medium",children:[e.employee.firstName," ",e.employee.lastName]})]}),s.jsxs("div",{className:"grid grid-cols-2",children:[s.jsx("span",{className:"text-gray-600",children:"N° Matricule :"}),s.jsx("span",{className:"font-mono",children:e.employee.employeeNumber})]}),e.employee.registrationNumber&&s.jsxs("div",{className:"grid grid-cols-2",children:[s.jsx("span",{className:"text-gray-600",children:"N° Registre :"}),s.jsx("span",{className:"font-mono",children:e.employee.registrationNumber})]}),s.jsxs("div",{className:"grid grid-cols-2",children:[s.jsx("span",{className:"text-gray-600",children:"Poste :"}),s.jsx("span",{children:e.employee.position})]}),s.jsxs("div",{className:"grid grid-cols-2",children:[s.jsx("span",{className:"text-gray-600",children:"Service :"}),s.jsx("span",{children:(i=e.employee.service)==null?void 0:i.name})]}),e.employee.category&&s.jsxs("div",{className:"grid grid-cols-2",children:[s.jsx("span",{className:"text-gray-600",children:"Catégorie :"}),s.jsx("span",{children:e.employee.category})]}),e.employee.level&&s.jsxs("div",{className:"grid grid-cols-2",children:[s.jsx("span",{className:"text-gray-600",children:"Échelon :"}),s.jsx("span",{children:e.employee.level})]}),s.jsxs("div",{className:"grid grid-cols-2",children:[s.jsx("span",{className:"text-gray-600",children:"Date d'embauche :"}),s.jsx("span",{children:n(e.employee.hireDate)})]}),e.employee.address&&s.jsxs("div",{className:"grid grid-cols-2",children:[s.jsx("span",{className:"text-gray-600",children:"Adresse :"}),s.jsx("span",{children:e.employee.address})]}),e.employee.cnpsNumber&&s.jsxs("div",{className:"grid grid-cols-2",children:[s.jsx("span",{className:"text-gray-600",children:"N° CNPS :"}),s.jsx("span",{className:"font-mono",children:e.employee.cnpsNumber})]}),e.employee.cnamNumber&&s.jsxs("div",{className:"grid grid-cols-2",children:[s.jsx("span",{className:"text-gray-600",children:"N° CNAM :"}),s.jsx("span",{className:"font-mono",children:e.employee.cnamNumber})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800 border-b border-gray-300 pb-2",children:"INFORMATIONS PÉRIODE"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"grid grid-cols-2",children:[s.jsx("span",{className:"text-gray-600",children:"Période de paie :"}),s.jsx("span",{className:"font-medium",children:a(e.paymentDate)})]}),s.jsxs("div",{className:"grid grid-cols-2",children:[s.jsx("span",{className:"text-gray-600",children:"Jours travaillés :"}),s.jsxs("span",{className:"font-medium",children:[e.workingDays||22," jours"]})]}),s.jsxs("div",{className:"grid grid-cols-2",children:[s.jsx("span",{className:"text-gray-600",children:"Date de paiement :"}),s.jsx("span",{children:n(e.paymentDate)})]}),e.paymentMethod&&s.jsxs("div",{className:"grid grid-cols-2",children:[s.jsx("span",{className:"text-gray-600",children:"Mode de paiement :"}),s.jsx("span",{children:e.paymentMethod==="TRANSFER"?"Virement bancaire":e.paymentMethod==="CHECK"?"Chèque":e.paymentMethod==="CASH"?"Espèces":"Autre"})]}),e.reference&&s.jsxs("div",{className:"grid grid-cols-2",children:[s.jsx("span",{className:"text-gray-600",children:"Référence :"}),s.jsx("span",{className:"font-mono",children:e.reference})]})]})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800 border-b border-gray-300 pb-2",children:"DÉTAIL DE LA RÉMUNÉRATION"}),s.jsxs("table",{className:"w-full border-collapse border border-gray-400 text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100",children:[s.jsx("th",{className:"border border-gray-400 px-3 py-2 text-left font-bold",children:"LIBELLÉ"}),s.jsx("th",{className:"border border-gray-400 px-3 py-2 text-center font-bold",children:"BASE/TAUX"}),s.jsx("th",{className:"border border-gray-400 px-3 py-2 text-right font-bold",children:"GAINS"}),s.jsx("th",{className:"border border-gray-400 px-3 py-2 text-right font-bold",children:"RETENUES"})]})}),s.jsxs("tbody",{children:[s.jsx("tr",{className:"bg-green-50",children:s.jsx("td",{className:"border border-gray-400 px-3 py-2 font-bold",colSpan:4,children:"ÉLÉMENTS DE RÉMUNÉRATION"})}),s.jsxs("tr",{children:[s.jsx("td",{className:"border border-gray-400 px-3 py-2",children:"Salaire de base"}),s.jsxs("td",{className:"border border-gray-400 px-3 py-2 text-center",children:[e.workingDays||22," jours"]}),s.jsx("td",{className:"border border-gray-400 px-3 py-2 text-right font-medium",children:r(e.baseSalary)}),s.jsx("td",{className:"border border-gray-400 px-3 py-2 text-right",children:"-"})]}),e.overtime>0&&s.jsxs("tr",{children:[s.jsx("td",{className:"border border-gray-400 px-3 py-2",children:"Heures supplémentaires"}),s.jsx("td",{className:"border border-gray-400 px-3 py-2 text-center",children:"-"}),s.jsx("td",{className:"border border-gray-400 px-3 py-2 text-right font-medium",children:r(e.overtime)}),s.jsx("td",{className:"border border-gray-400 px-3 py-2 text-right",children:"-"})]}),e.bonuses>0&&s.jsxs("tr",{children:[s.jsx("td",{className:"border border-gray-400 px-3 py-2",children:"Primes et gratifications"}),s.jsx("td",{className:"border border-gray-400 px-3 py-2 text-center",children:"-"}),s.jsx("td",{className:"border border-gray-400 px-3 py-2 text-right font-medium",children:r(e.bonuses)}),s.jsx("td",{className:"border border-gray-400 px-3 py-2 text-right",children:"-"})]}),e.allowances>0&&s.jsxs("tr",{children:[s.jsx("td",{className:"border border-gray-400 px-3 py-2",children:"Indemnités diverses"}),s.jsx("td",{className:"border border-gray-400 px-3 py-2 text-center",children:"-"}),s.jsx("td",{className:"border border-gray-400 px-3 py-2 text-right font-medium",children:r(e.allowances)}),s.jsx("td",{className:"border border-gray-400 px-3 py-2 text-right",children:"-"})]}),e.paidLeave>0&&s.jsxs("tr",{children:[s.jsx("td",{className:"border border-gray-400 px-3 py-2",children:"Congés payés"}),s.jsx("td",{className:"border border-gray-400 px-3 py-2 text-center",children:"-"}),s.jsx("td",{className:"border border-gray-400 px-3 py-2 text-right font-medium",children:r(e.paidLeave)}),s.jsx("td",{className:"border border-gray-400 px-3 py-2 text-right",children:"-"})]}),s.jsx("tr",{className:"bg-red-50",children:s.jsx("td",{className:"border border-gray-400 px-3 py-2 font-bold",colSpan:4,children:"COTISATIONS SALARIALES"})}),e.cnpsEmployee>0&&s.jsxs("tr",{children:[s.jsx("td",{className:"border border-gray-400 px-3 py-2",children:"CNPS (Retraite)"}),s.jsx("td",{className:"border border-gray-400 px-3 py-2 text-center",children:"3,6%"}),s.jsx("td",{className:"border border-gray-400 px-3 py-2 text-right",children:"-"}),s.jsx("td",{className:"border border-gray-400 px-3 py-2 text-right font-medium",children:r(e.cnpsEmployee)})]}),e.cnamEmployee>0&&s.jsxs("tr",{children:[s.jsx("td",{className:"border border-gray-400 px-3 py-2",children:"CNAM (Maladie)"}),s.jsx("td",{className:"border border-gray-400 px-3 py-2 text-center",children:"3,5%"}),s.jsx("td",{className:"border border-gray-400 px-3 py-2 text-right",children:"-"}),s.jsx("td",{className:"border border-gray-400 px-3 py-2 text-right font-medium",children:r(e.cnamEmployee)})]}),e.fdfpEmployee>0&&s.jsxs("tr",{children:[s.jsx("td",{className:"border border-gray-400 px-3 py-2",children:"FDFP (Formation)"}),s.jsx("td",{className:"border border-gray-400 px-3 py-2 text-center",children:"0,4%"}),s.jsx("td",{className:"border border-gray-400 px-3 py-2 text-right",children:"-"}),s.jsx("td",{className:"border border-gray-400 px-3 py-2 text-right font-medium",children:r(e.fdfpEmployee)})]}),s.jsx("tr",{className:"bg-yellow-50",children:s.jsx("td",{className:"border border-gray-400 px-3 py-2 font-bold",colSpan:4,children:"PRÉLÈVEMENTS FISCAUX"})}),e.taxes>0&&s.jsxs("tr",{children:[s.jsx("td",{className:"border border-gray-400 px-3 py-2",children:"Impôt sur le revenu (IGR)"}),s.jsx("td",{className:"border border-gray-400 px-3 py-2 text-center",children:"Progressif"}),s.jsx("td",{className:"border border-gray-400 px-3 py-2 text-right",children:"-"}),s.jsx("td",{className:"border border-gray-400 px-3 py-2 text-right font-medium",children:r(e.taxes)})]}),(e.loanDeductions>0||e.otherDeductions>0)&&s.jsxs(s.Fragment,{children:[s.jsx("tr",{className:"bg-orange-50",children:s.jsx("td",{className:"border border-gray-400 px-3 py-2 font-bold",colSpan:4,children:"AUTRES DÉDUCTIONS"})}),e.loanDeductions>0&&s.jsxs("tr",{children:[s.jsx("td",{className:"border border-gray-400 px-3 py-2",children:"Remboursement prêt"}),s.jsx("td",{className:"border border-gray-400 px-3 py-2 text-center",children:"-"}),s.jsx("td",{className:"border border-gray-400 px-3 py-2 text-right",children:"-"}),s.jsx("td",{className:"border border-gray-400 px-3 py-2 text-right font-medium",children:r(e.loanDeductions)})]}),e.otherDeductions>0&&s.jsxs("tr",{children:[s.jsx("td",{className:"border border-gray-400 px-3 py-2",children:"Autres retenues"}),s.jsx("td",{className:"border border-gray-400 px-3 py-2 text-center",children:"-"}),s.jsx("td",{className:"border border-gray-400 px-3 py-2 text-right",children:"-"}),s.jsx("td",{className:"border border-gray-400 px-3 py-2 text-right font-medium",children:r(e.otherDeductions)})]})]}),s.jsxs("tr",{className:"bg-gray-100 font-bold text-base",children:[s.jsx("td",{className:"border border-gray-400 px-3 py-3",children:"TOTAUX"}),s.jsx("td",{className:"border border-gray-400 px-3 py-3 text-center",children:"-"}),s.jsx("td",{className:"border border-gray-400 px-3 py-3 text-right text-green-600",children:r(e.grossSalary)}),s.jsx("td",{className:"border border-gray-400 px-3 py-3 text-right text-red-600",children:r(e.totalDeductions)})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-lg p-4 text-center",children:[s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"SALAIRE BRUT"}),s.jsx("div",{className:"text-xl font-bold text-green-600",children:r(e.grossSalary)})]}),s.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-lg p-4 text-center",children:[s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"TOTAL RETENUES"}),s.jsx("div",{className:"text-xl font-bold text-red-600",children:r(e.totalDeductions)})]}),s.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-lg p-4 text-center",children:[s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"NET À PAYER"}),s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r(e.netSalary)})]})]}),e.nonTaxableAmount>0&&s.jsxs("div",{className:"mb-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"SOMMES NON SOUMISES À COTISATION"}),s.jsx("div",{className:"text-sm",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Avantages en nature, frais professionnels :"}),s.jsx("span",{className:"font-medium",children:r(e.nonTaxableAmount)})]})})]}),e.employee.bankAccount&&s.jsxs("div",{className:"mb-8 bg-gray-50 border border-gray-200 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"INFORMATIONS BANCAIRES"}),s.jsx("div",{className:"text-sm",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Compte bancaire (IBAN) :"}),s.jsx("span",{className:"font-mono",children:e.employee.bankAccount})]})})]}),e.notes&&s.jsxs("div",{className:"mb-8",children:[s.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"OBSERVATIONS"}),s.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 text-sm",children:e.notes})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"font-medium mb-8",children:"Signature de l'Employeur"}),s.jsx("div",{className:"border-b border-gray-400 w-48 mx-auto"}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Cachet et signature"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"font-medium mb-8",children:"Signature du Salarié"}),s.jsx("div",{className:"border-b border-gray-400 w-48 mx-auto"}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Pour réception"})]})]}),s.jsxs("div",{className:"border-t border-gray-400 pt-4 text-center text-xs text-gray-600 space-y-1",children:[s.jsx("p",{className:"font-medium",children:"Ce bulletin de paie est établi conformément aux dispositions du Code du Travail de Côte d'Ivoire"}),s.jsx("p",{children:"Conservez ce bulletin sans limitation de durée - Article L.143-3 du Code du Travail"}),s.jsxs("p",{children:["Document généré électroniquement le ",n(new Date)," par le système Parabellum Groups"]}),s.jsxs("div",{className:"flex justify-center space-x-8 mt-2 text-xs",children:[s.jsx("span",{children:"CNPS Employeur : 1234567"}),s.jsx("span",{children:"CNAM Employeur : 7654321"}),s.jsx("span",{children:"FDFP : 9876543"})]})]})]}),s.jsx("style",{children:`
        @media print {
          body { 
            margin: 0; 
            font-family: 'Arial', sans-serif;
            font-size: 12px;
            line-height: 1.4;
          }
          .no-print { display: none !important; }
          .print-break { page-break-before: always; }
          .print-avoid-break { page-break-inside: avoid; }
          table { 
            page-break-inside: auto;
            border-collapse: collapse;
          }
          tr { 
            page-break-inside: avoid; 
            page-break-after: auto; 
          }
          thead { display: table-header-group; }
          tfoot { display: table-footer-group; }
          th, td {
            border: 1px solid #666 !important;
            padding: 6px !important;
          }
          .bg-gray-100 { background-color: #f5f5f5 !important; }
          .bg-green-50 { background-color: #f0f9f0 !important; }
          .bg-red-50 { background-color: #fef2f2 !important; }
          .bg-yellow-50 { background-color: #fffbeb !important; }
          .bg-orange-50 { background-color: #fff7ed !important; }
          .text-blue-600 { color: #2563eb !important; }
          .text-green-600 { color: #16a34a !important; }
          .text-red-600 { color: #dc2626 !important; }
          .border-blue-600 { border-color: #2563eb !important; }
        }
      `})]})},AS=oe("salaries"),S0={PENDING:{label:"En attente",color:"bg-yellow-100 text-yellow-800",icon:Je},PAID:{label:"Payé",color:"bg-green-100 text-green-800",icon:qt}},IZ=()=>{var I,q;const{hasPermission:e}=Ze(),t=Ne(),[r,n]=j.useState(1),[a,i]=j.useState(""),[l,o]=j.useState(""),[c,u]=j.useState(new Date().getFullYear().toString()),[d,m]=j.useState(""),[f,h]=j.useState(!1),[p,y]=j.useState(!1),[b,v]=j.useState(null),[g,x]=j.useState(!1),{data:w,isLoading:N,error:k}=ve({queryKey:["salaries",r,a,l,c,d],queryFn:()=>AS.getAll({page:r,limit:10,search:a,status:l,year:c,month:d})}),S=be({mutationFn:({id:T,paymentData:M})=>fetch(`/api/v1/salaries/${T}/pay`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(M)}).then(V=>V.json()),onSuccess:()=>{t.invalidateQueries({queryKey:["salaries"]}),y(!1)}}),A=be({mutationFn:T=>AS.delete(T),onSuccess:()=>{t.invalidateQueries({queryKey:["salaries"]})}});if(N)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(k)return s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:"Erreur lors du chargement des salaires"});const P=((I=w==null?void 0:w.data)==null?void 0:I.salaries)||[],C=(q=w==null?void 0:w.data)==null?void 0:q.pagination,D=T=>{v(T),y(!0)},E=T=>{v(T),x(!0)},L=async T=>{if(window.confirm(`Êtes-vous sûr de vouloir supprimer le salaire de ${T.employee.firstName} ${T.employee.lastName} ?`))try{await A.mutateAsync(T.id)}catch(M){console.error("Erreur lors de la suppression:",M)}},U=[{value:"1",label:"Janvier"},{value:"2",label:"Février"},{value:"3",label:"Mars"},{value:"4",label:"Avril"},{value:"5",label:"Mai"},{value:"6",label:"Juin"},{value:"7",label:"Juillet"},{value:"8",label:"Août"},{value:"9",label:"Septembre"},{value:"10",label:"Octobre"},{value:"11",label:"Novembre"},{value:"12",label:"Décembre"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Salaires"}),s.jsx("p",{className:"text-gray-600",children:"Gérez les salaires et bulletins de paie"})]}),e("salaries.create")&&s.jsxs("button",{onClick:()=>h(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 flex items-center space-x-2",children:[s.jsx($e,{className:"h-4 w-4"}),s.jsx("span",{children:"Nouveau Salaire"})]})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(At,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:"Rechercher un employé...",value:a,onChange:T=>i(T.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),s.jsx("select",{value:c,onChange:T=>u(T.target.value),className:"px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:Array.from({length:5},(T,M)=>new Date().getFullYear()-M).map(T=>s.jsx("option",{value:T,children:T},T))}),s.jsxs("select",{value:d,onChange:T=>m(T.target.value),className:"px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Tous les mois"}),U.map(T=>s.jsx("option",{value:T.value,children:T.label},T.value))]}),s.jsxs("select",{value:l,onChange:T=>o(T.target.value),className:"px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Tous les statuts"}),Object.entries(S0).map(([T,M])=>s.jsx("option",{value:T,children:M.label},T))]})]})}),s.jsx(_Z,{isOpen:f,onClose:()=>h(!1)}),s.jsx(DZ,{isOpen:p,onClose:()=>y(!1),salary:b,onPay:T=>S.mutate({id:b.id,paymentData:T})}),g&&b&&s.jsx(MZ,{salary:b,onClose:()=>x(!1)}),s.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employé"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Période"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Salaire Brut"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Déductions"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Salaire Net"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:P.map(T=>{var H;const M=S0[T.status]||S0.PENDING,V=M.icon;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:s.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center",children:s.jsx(Ve,{className:"h-4 w-4 text-gray-600"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[T.employee.firstName," ",T.employee.lastName]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[T.employee.position," - ",(H=T.employee.service)==null?void 0:H.name]})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(T.paymentDate).toLocaleDateString("fr-FR",{year:"numeric",month:"long"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(T.grossSalary)}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600",children:["-",new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(T.totalDeductions)]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-600",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(T.netSalary)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${M.color}`,children:[s.jsx(V,{className:"h-3 w-3 mr-1"}),M.label]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e("salaries.read")&&s.jsx("button",{onClick:()=>E(T),className:"text-purple-600 hover:text-purple-900",title:"Imprimer bulletin",children:s.jsx(qi,{className:"h-4 w-4"})}),s.jsx("button",{className:"text-green-600 hover:text-green-900",title:"Télécharger PDF",children:s.jsx(Ul,{className:"h-4 w-4"})}),e("salaries.update")&&T.status==="PENDING"&&s.jsx("button",{onClick:()=>D(T),className:"text-blue-600 hover:text-blue-900",title:"Marquer comme payé",children:s.jsx(mt,{className:"h-4 w-4"})}),e("salaries.read")&&s.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",title:"Voir détails",children:s.jsx(kt,{className:"h-4 w-4"})}),e("salaries.update")&&s.jsx("button",{className:"text-yellow-600 hover:text-yellow-900",title:"Modifier",children:s.jsx(Kt,{className:"h-4 w-4"})}),e("salaries.delete")&&T.status==="PENDING"&&s.jsx("button",{onClick:()=>L(T),className:"text-red-600 hover:text-red-900",title:"Supprimer",children:s.jsx(Tt,{className:"h-4 w-4"})})]})})]},T.id)})})]}),C&&C.totalPages>1&&s.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>n(r-1),disabled:r===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Précédent"}),s.jsx("button",{onClick:()=>n(r+1),disabled:r===C.totalPages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Suivant"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Affichage de"," ",s.jsx("span",{className:"font-medium",children:(r-1)*10+1})," ","à"," ",s.jsx("span",{className:"font-medium",children:Math.min(r*10,C.total)})," ","sur"," ",s.jsx("span",{className:"font-medium",children:C.total})," ","résultats"]})}),s.jsx("div",{children:s.jsx("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:Array.from({length:C.totalPages},(T,M)=>M+1).map(T=>s.jsx("button",{onClick:()=>n(T),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${T===r?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:T},T))})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(mt,{className:"h-8 w-8 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Total Brut"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",notation:"compact"}).format(P.reduce((T,M)=>T+M.grossSalary,0))})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(mt,{className:"h-8 w-8 text-red-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Total Déductions"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",notation:"compact"}).format(P.reduce((T,M)=>T+M.totalDeductions,0))})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(mt,{className:"h-8 w-8 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Total Net"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",notation:"compact"}).format(P.reduce((T,M)=>T+M.netSalary,0))})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Ve,{className:"h-8 w-8 text-purple-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Employés"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:new Set(P.map(T=>T.employeeId)).size})]})]})})]})]})},RZ=oe("loans"),FZ=oe("employees"),LZ=ze({employeeId:J().min(1,"Employé requis"),amount:J().min(1,"Montant invalide"),interestRate:J().min(0).max(100).default(0),monthlyPayment:J().min(1,"Mensualité invalide"),startDate:B().min(1,"Date de début requise"),endDate:B().min(1,"Date de fin requise"),purpose:B().min(1,"Objet du prêt requis"),notes:B().optional()}),$Z=({isOpen:e,onClose:t,employeeId:r})=>{var N;const n=Ne(),[a,i]=j.useState(!1),{data:l}=ve({queryKey:["employees"],queryFn:()=>FZ.getAll({limit:100})}),{register:o,handleSubmit:c,formState:{errors:u},reset:d,watch:m,setValue:f}=gt({resolver:vt(LZ),defaultValues:{employeeId:r,interestRate:0,startDate:new Date().toISOString().split("T")[0]}}),h=m("amount"),p=m("interestRate"),y=m("startDate"),b=m("endDate"),v=be({mutationFn:k=>RZ.create(k),onSuccess:()=>{n.invalidateQueries({queryKey:["loans"]}),d(),t()}}),g=async k=>{i(!0);try{await v.mutateAsync(k)}catch(S){console.error("Erreur lors de la création:",S)}finally{i(!1)}},x=()=>{if(h&&y&&b){const k=new Date(y),S=new Date(b),A=(S.getFullYear()-k.getFullYear())*12+(S.getMonth()-k.getMonth());if(A>0){const P=h,C=(p||0)/100/12;if(C>0){const D=P*(C*Math.pow(1+C,A))/(Math.pow(1+C,A)-1);f("monthlyPayment",Math.round(D))}else f("monthlyPayment",Math.round(P/A))}}};if(Ee.useEffect(()=>{x()},[h,p,y,b]),!e)return null;const w=((N=l==null?void 0:l.data)==null?void 0:N.employees)||[];return s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-screen overflow-y-auto",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(mt,{className:"h-5 w-5 mr-2"}),"Créer un Prêt Employé"]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx(ot,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:c(g),className:"px-6 py-4 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employé"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ve,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsxs("select",{...o("employeeId",{valueAsNumber:!0}),className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",disabled:!!r,children:[s.jsx("option",{value:"",children:"Sélectionner un employé"}),w.map(k=>s.jsxs("option",{value:k.id,children:[k.firstName," ",k.lastName," - ",k.position]},k.id))]})]}),u.employeeId&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.employeeId.message})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Montant du prêt (FCFA)"}),s.jsxs("div",{className:"relative",children:[s.jsx(mt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{...o("amount",{valueAsNumber:!0}),type:"number",min:"1",className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"500000"})]}),u.amount&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.amount.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Taux d'intérêt annuel (%)"}),s.jsx("input",{...o("interestRate",{valueAsNumber:!0}),type:"number",min:"0",max:"100",step:"0.1",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"5.0"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de début"}),s.jsxs("div",{className:"relative",children:[s.jsx(_e,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{...o("startDate"),type:"date",className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),u.startDate&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.startDate.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de fin"}),s.jsxs("div",{className:"relative",children:[s.jsx(_e,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{...o("endDate"),type:"date",className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),u.endDate&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.endDate.message})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mensualité (FCFA)"}),s.jsxs("div",{className:"relative",children:[s.jsx(u4,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{...o("monthlyPayment",{valueAsNumber:!0}),type:"number",min:"1",className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 bg-gray-50",placeholder:"Calculé automatiquement"})]}),u.monthlyPayment&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.monthlyPayment.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Objet du prêt"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ue,{className:"absolute left-3 top-3 text-gray-400 h-4 w-4"}),s.jsx("textarea",{...o("purpose"),rows:3,className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Achat véhicule, travaux maison, formation, etc."})]}),u.purpose&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.purpose.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes complémentaires"}),s.jsx("textarea",{...o("notes"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Conditions particulières, garanties, etc."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:a,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50",children:a?"Création...":"Créer le prêt"})]})]})]})})},CS=oe("loans"),PS={ACTIVE:{label:"Actif",color:"bg-green-100 text-green-800",icon:qt},COMPLETED:{label:"Remboursé",color:"bg-blue-100 text-blue-800",icon:qt},CANCELLED:{label:"Annulé",color:"bg-red-100 text-red-800",icon:Je}},BZ=()=>{var v,g;const{hasPermission:e}=Ze(),t=Ne(),[r,n]=j.useState(1),[a,i]=j.useState(""),[l,o]=j.useState(""),[c,u]=j.useState(!1),{data:d,isLoading:m,error:f}=ve({queryKey:["loans",r,a,l],queryFn:()=>CS.getAll({page:r,limit:10,search:a,status:l})}),h=be({mutationFn:x=>CS.delete(x),onSuccess:()=>{t.invalidateQueries({queryKey:["loans"]})}});if(m)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(f)return s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:"Erreur lors du chargement des prêts"});const p=((v=d==null?void 0:d.data)==null?void 0:v.loans)||[],y=(g=d==null?void 0:d.data)==null?void 0:g.pagination,b=async x=>{if(window.confirm(`Êtes-vous sûr de vouloir supprimer le prêt de ${x.employee.firstName} ${x.employee.lastName} ?`))try{await h.mutateAsync(x.id)}catch(w){console.error("Erreur lors de la suppression:",w)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Prêts"}),s.jsx("p",{className:"text-gray-600",children:"Gérez les prêts accordés aux employés"})]}),e("loans.create")&&s.jsxs("button",{onClick:()=>u(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 flex items-center space-x-2",children:[s.jsx($e,{className:"h-4 w-4"}),s.jsx("span",{children:"Nouveau Prêt"})]})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(At,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:"Rechercher un prêt...",value:a,onChange:x=>i(x.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("select",{value:l,onChange:x=>o(x.target.value),className:"px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Tous les statuts"}),Object.entries(PS).map(([x,w])=>s.jsx("option",{value:x,children:w.label},x))]})]})}),s.jsx($Z,{isOpen:c,onClose:()=>u(!1)}),s.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employé"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prêt"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Montant"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mensualité"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Restant"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(x=>{const w=PS[x.status],N=(w==null?void 0:w.icon)||Je;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:s.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center",children:s.jsx(Ve,{className:"h-4 w-4 text-gray-600"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[x.employee.firstName," ",x.employee.lastName]}),s.jsx("div",{className:"text-sm text-gray-500",children:x.employee.position})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.loanNumber}),s.jsx("div",{className:"text-sm text-gray-500",children:x.purpose})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(x.amount)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(x.monthlyPayment)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(x.remainingAmount)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${w==null?void 0:w.color}`,children:[s.jsx(N,{className:"h-3 w-3 mr-1"}),w==null?void 0:w.label]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e("loans.read")&&s.jsx("button",{className:"text-blue-600 hover:text-blue-900",title:"Voir détails",children:s.jsx(kt,{className:"h-4 w-4"})}),s.jsx("button",{className:"text-green-600 hover:text-green-900",title:"Historique paiements",children:s.jsx(_e,{className:"h-4 w-4"})}),e("loans.update")&&s.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",title:"Modifier",children:s.jsx(Kt,{className:"h-4 w-4"})}),e("loans.delete")&&x.status==="ACTIVE"&&s.jsx("button",{onClick:()=>b(x),className:"text-red-600 hover:text-red-900",title:"Supprimer",children:s.jsx(Tt,{className:"h-4 w-4"})})]})})]},x.id)})})]}),y&&y.totalPages>1&&s.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>n(r-1),disabled:r===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Précédent"}),s.jsx("button",{onClick:()=>n(r+1),disabled:r===y.totalPages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Suivant"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Affichage de"," ",s.jsx("span",{className:"font-medium",children:(r-1)*10+1})," ","à"," ",s.jsx("span",{className:"font-medium",children:Math.min(r*10,y.total)})," ","sur"," ",s.jsx("span",{className:"font-medium",children:y.total})," ","résultats"]})}),s.jsx("div",{children:s.jsx("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:Array.from({length:y.totalPages},(x,w)=>w+1).map(x=>s.jsx("button",{onClick:()=>n(x),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${x===r?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:x},x))})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(mt,{className:"h-8 w-8 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Total Prêts"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",notation:"compact"}).format(p.reduce((x,w)=>x+w.amount,0))})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(mt,{className:"h-8 w-8 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Remboursé"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",notation:"compact"}).format(p.reduce((x,w)=>x+(w.amount-w.remainingAmount),0))})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(mt,{className:"h-8 w-8 text-red-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Restant Dû"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",notation:"compact"}).format(p.reduce((x,w)=>x+w.remainingAmount,0))})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Ve,{className:"h-8 w-8 text-purple-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Emprunteurs"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:new Set(p.map(x=>x.employeeId)).size})]})]})})]})]})},zZ=oe("contracts"),UZ=oe("employees"),qZ=ze({employeeId:J().min(1,"Employé requis"),contractType:fr(["CDI","CDD","STAGE","FREELANCE"]),startDate:B().min(1,"Date de début requise"),endDate:B().optional(),baseSalary:J().min(0,"Salaire invalide"),workingHours:J().min(0).max(80,"Heures invalides"),benefits:B().optional(),terms:B().optional()}),VZ=({isOpen:e,onClose:t,employeeId:r})=>{var b;const n=Ne(),[a,i]=j.useState(!1),{data:l}=ve({queryKey:["employees"],queryFn:()=>UZ.getAll({limit:100})}),{register:o,handleSubmit:c,formState:{errors:u},reset:d,watch:m}=gt({resolver:vt(qZ),defaultValues:{employeeId:r,contractType:"CDI",startDate:new Date().toISOString().split("T")[0],workingHours:40}}),f=m("contractType"),h=be({mutationFn:v=>zZ.create(v),onSuccess:()=>{n.invalidateQueries({queryKey:["contracts"]}),n.invalidateQueries({queryKey:["employees"]}),d(),t()}}),p=async v=>{i(!0);try{await h.mutateAsync(v)}catch(g){console.error("Erreur lors de la création:",g)}finally{i(!1)}};if(!e)return null;const y=((b=l==null?void 0:l.data)==null?void 0:b.employees)||[];return s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-screen overflow-y-auto",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(Ue,{className:"h-5 w-5 mr-2"}),"Créer un Contrat"]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx(ot,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:c(p),className:"px-6 py-4 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employé"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ve,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsxs("select",{...o("employeeId",{valueAsNumber:!0}),className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",disabled:!!r,children:[s.jsx("option",{value:"",children:"Sélectionner un employé"}),y.map(v=>s.jsxs("option",{value:v.id,children:[v.firstName," ",v.lastName," (",v.employeeNumber,")"]},v.id))]})]}),u.employeeId&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.employeeId.message})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type de contrat"}),s.jsxs("select",{...o("contractType"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"CDI",children:"CDI - Contrat à Durée Indéterminée"}),s.jsx("option",{value:"CDD",children:"CDD - Contrat à Durée Déterminée"}),s.jsx("option",{value:"STAGE",children:"Stage"}),s.jsx("option",{value:"FREELANCE",children:"Freelance"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de début"}),s.jsxs("div",{className:"relative",children:[s.jsx(_e,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{...o("startDate"),type:"date",className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),u.startDate&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.startDate.message})]})]}),f==="CDD"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de fin"}),s.jsx("input",{...o("endDate"),type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Salaire de base (FCFA)"}),s.jsxs("div",{className:"relative",children:[s.jsx(mt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{...o("baseSalary",{valueAsNumber:!0}),type:"number",min:"0",className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"500000"})]}),u.baseSalary&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.baseSalary.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Heures de travail/semaine"}),s.jsxs("div",{className:"relative",children:[s.jsx(Je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{...o("workingHours",{valueAsNumber:!0}),type:"number",min:"0",max:"80",className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"40"})]}),u.workingHours&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.workingHours.message})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Avantages"}),s.jsx("textarea",{...o("benefits"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Mutuelle, tickets restaurant, voiture de fonction, etc."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Conditions particulières"}),s.jsx("textarea",{...o("terms"),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Clauses particulières du contrat..."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:a,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50",children:a?"Création...":"Créer le contrat"})]})]})]})})},KZ={CDI:"Contrat à Durée Indéterminée",CDD:"Contrat à Durée Déterminée",STAGE:"Convention de Stage",FREELANCE:"Contrat de Freelance"},HZ=({contract:e,onClose:t})=>{var a,i;Ee.useEffect(()=>{const o=setTimeout(()=>{window.print(),t()},500);return()=>clearTimeout(o)},[t]);const r=l=>new Date(l).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"}),n=l=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(l);return s.jsxs("div",{className:"print:block hidden",children:[s.jsxs("div",{className:"max-w-4xl mx-auto p-8 bg-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8 border-b-2 border-blue-600 pb-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("img",{src:"/parrabellum.jpg",alt:"Parabellum Groups",className:"w-16 h-16 rounded-full object-cover"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-blue-600",children:"PARABELLUM GROUPS"}),s.jsx("p",{className:"text-gray-600",children:"Solution technique innovante"}),s.jsxs("div",{className:"text-sm text-gray-500 space-y-1",children:[s.jsx("p",{children:"Abidjan, Côte d'Ivoire"}),s.jsx("p",{children:"+225 07 07 07 07 07"}),s.jsx("p",{children:"contact@parabellum.com"})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"CONTRAT DE TRAVAIL"}),s.jsx("div",{className:"text-lg font-semibold text-gray-600 mt-2",children:e.contractType==="CDI"?"Contrat à Durée Indéterminée":e.contractType==="CDD"?"Contrat à Durée Déterminée":e.contractType==="STAGE"?"Convention de Stage":"Contrat de Freelance"}),s.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:["Établi le ",r(new Date)]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800 border-b border-gray-300 pb-2",children:"L'EMPLOYEUR"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Raison sociale :"})," Parabellum Groups SARL"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Siège social :"})," Abidjan, Côte d'Ivoire"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"SIRET :"})," CI-123456789"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"N° CNPS :"})," 1234567"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Représenté par :"})," M. Koffi KOUASSI, Directeur Général"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Ci-après dénommé :"}),` "L'Employeur"`]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800 border-b border-gray-300 pb-2",children:"LE SALARIÉ"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Nom et Prénom :"})," ",e.employee.firstName," ",e.employee.lastName]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Date de naissance :"})," ",r(e.employee.dateOfBirth)]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Lieu de naissance :"})," ",e.employee.placeOfBirth||"Non renseigné"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Nationalité :"})," ",e.employee.nationality||"Ivoirienne"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Adresse :"})," ",e.employee.address||"Non renseignée"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"N° CNPS :"})," ",e.employee.cnpsNumber||"À attribuer"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Ci-après dénommé :"}),' "Le Salarié"']})]})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800 border-b border-gray-300 pb-2",children:"CONDITIONS DU CONTRAT"}),s.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between border-b border-gray-200 pb-2",children:[s.jsx("span",{className:"font-medium",children:"Type de contrat :"}),s.jsx("span",{children:KZ[e.contractType]})]}),s.jsxs("div",{className:"flex justify-between border-b border-gray-200 pb-2",children:[s.jsx("span",{className:"font-medium",children:"Date de prise d'effet :"}),s.jsx("span",{children:r(e.startDate)})]}),e.endDate&&s.jsxs("div",{className:"flex justify-between border-b border-gray-200 pb-2",children:[s.jsx("span",{className:"font-medium",children:"Date de fin :"}),s.jsx("span",{children:r(e.endDate)})]}),s.jsxs("div",{className:"flex justify-between border-b border-gray-200 pb-2",children:[s.jsx("span",{className:"font-medium",children:"Poste occupé :"}),s.jsx("span",{children:e.employee.position})]}),s.jsxs("div",{className:"flex justify-between border-b border-gray-200 pb-2",children:[s.jsx("span",{className:"font-medium",children:"Service :"}),s.jsx("span",{children:(a=e.employee.service)==null?void 0:a.name})]})]}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between border-b border-gray-200 pb-2",children:[s.jsx("span",{className:"font-medium",children:"Salaire de base :"}),s.jsx("span",{className:"font-bold text-green-600",children:n(e.baseSalary)})]}),s.jsxs("div",{className:"flex justify-between border-b border-gray-200 pb-2",children:[s.jsx("span",{className:"font-medium",children:"Heures de travail :"}),s.jsxs("span",{children:[e.workingHours,"h/semaine"]})]}),s.jsxs("div",{className:"flex justify-between border-b border-gray-200 pb-2",children:[s.jsx("span",{className:"font-medium",children:"Période d'essai :"}),s.jsx("span",{children:e.contractType==="CDI"?"3 mois":"N/A"})]}),s.jsxs("div",{className:"flex justify-between border-b border-gray-200 pb-2",children:[s.jsx("span",{className:"font-medium",children:"Préavis :"}),s.jsx("span",{children:e.contractType==="CDI"?"1 mois":"Selon durée"})]})]})]})]}),e.benefits&&s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800 border-b border-gray-300 pb-2",children:"AVANTAGES ET BÉNÉFICES"}),s.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 text-sm",children:e.benefits})]}),e.terms&&s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800 border-b border-gray-300 pb-2",children:"CLAUSES PARTICULIÈRES"}),s.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 text-sm",children:e.terms})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800 border-b border-gray-300 pb-2",children:"CLAUSES GÉNÉRALES"}),s.jsxs("div",{className:"space-y-4 text-sm text-gray-700",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Article 1 - Fonctions"}),s.jsxs("p",{children:["Le salarié s'engage à exercer les fonctions de ",s.jsx("strong",{children:e.employee.position})," au sein du service ",s.jsx("strong",{children:(i=e.employee.service)==null?void 0:i.name}),"."]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Article 2 - Lieu de travail"}),s.jsx("p",{children:"Le lieu de travail est fixé au siège social de l'entreprise à Abidjan, Côte d'Ivoire. L'employeur se réserve le droit de modifier ce lieu en fonction des nécessités du service."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Article 3 - Horaires"}),s.jsxs("p",{children:["La durée hebdomadaire de travail est fixée à ",s.jsxs("strong",{children:[e.workingHours," heures"]}),", réparties selon les besoins du service et dans le respect de la législation en vigueur."]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Article 4 - Rémunération"}),s.jsxs("p",{children:["Le salaire mensuel brut est fixé à ",s.jsx("strong",{children:n(e.baseSalary)}),", payable mensuellement à terme échu."]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Article 5 - Congés"}),s.jsx("p",{children:"Le salarié bénéficie des congés payés conformément à la législation ivoirienne, soit 2,5 jours ouvrables par mois de service effectif."})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Article 6 - Confidentialité"}),s.jsx("p",{children:"Le salarié s'engage à respecter la confidentialité des informations de l'entreprise et de ses clients, pendant et après l'exécution du présent contrat."})]}),e.contractType==="CDI"&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Article 7 - Période d'essai"}),s.jsx("p",{children:"Le présent contrat est conclu sous réserve d'une période d'essai de trois (3) mois, renouvelable une fois."})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"font-medium mb-8",children:"L'EMPLOYEUR"}),s.jsx("div",{className:"border-b border-gray-400 w-48 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-600",children:"M. Koffi KOUASSI"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Directeur Général"}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Date et signature"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"font-medium mb-8",children:"LE SALARIÉ"}),s.jsx("div",{className:"border-b border-gray-400 w-48 mx-auto mb-2"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[e.employee.firstName," ",e.employee.lastName]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Lu et approuvé, date et signature"})]})]}),s.jsxs("div",{className:"border-t border-gray-400 pt-4 text-center text-xs text-gray-600 space-y-1",children:[s.jsx("p",{className:"font-medium",children:"Contrat établi en deux exemplaires originaux conformément au Code du Travail de Côte d'Ivoire"}),s.jsxs("p",{children:["Document généré électroniquement le ",r(new Date)," par le système Parabellum Groups"]}),s.jsxs("div",{className:"flex justify-center space-x-8 mt-2",children:[s.jsx("span",{children:"CNPS Employeur : 1234567"}),s.jsx("span",{children:"SIRET : CI-123456789"})]})]})]}),s.jsx("style",{children:`
        @media print {
          body { 
            margin: 0; 
            font-family: 'Arial', sans-serif;
            font-size: 12px;
            line-height: 1.5;
          }
          .no-print { display: none !important; }
          .print-break { page-break-before: always; }
          .print-avoid-break { page-break-inside: avoid; }
          .border-blue-600 { border-color: #2563eb !important; }
          .text-blue-600 { color: #2563eb !important; }
          .text-green-600 { color: #16a34a !important; }
          .bg-gray-50 { background-color: #f9fafb !important; }
          .border-gray-200 { border-color: #e5e7eb !important; }
          .border-gray-300 { border-color: #d1d5db !important; }
          .border-gray-400 { border-color: #9ca3af !important; }
        }
      `})]})},ES=oe("contracts"),WZ={CDI:"CDI - Contrat à Durée Indéterminée",CDD:"CDD - Contrat à Durée Déterminée",STAGE:"Stage",FREELANCE:"Freelance"},QZ=()=>{var C,D;const{hasPermission:e}=Ze(),t=Ne(),[r,n]=j.useState(1),[a,i]=j.useState(""),[l,o]=j.useState(""),[c,u]=j.useState(""),[d,m]=j.useState(!1),[f,h]=j.useState(null),[p,y]=j.useState(!1),{data:b,isLoading:v,error:g}=ve({queryKey:["contracts",r,a,l,c],queryFn:()=>ES.getAll({page:r,limit:10,search:a,contractType:l,isActive:c==="active"?!0:c==="inactive"?!1:void 0})}),x=be({mutationFn:E=>ES.delete(E),onSuccess:()=>{t.invalidateQueries({queryKey:["contracts"]})}}),w=be({mutationFn:({id:E,endDate:L,reason:U})=>fetch(`/api/v1/contracts/${E}/terminate`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({endDate:L,reason:U})}).then(I=>I.json()),onSuccess:()=>{t.invalidateQueries({queryKey:["contracts"]})}});if(v)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(g)return s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:"Erreur lors du chargement des contrats"});const N=((C=b==null?void 0:b.data)==null?void 0:C.contracts)||[],k=(D=b==null?void 0:b.data)==null?void 0:D.pagination,S=async E=>{if(window.confirm(`Êtes-vous sûr de vouloir supprimer le contrat de ${E.employee.firstName} ${E.employee.lastName} ?`))try{await x.mutateAsync(E.id)}catch(L){console.error("Erreur lors de la suppression:",L)}},A=async E=>{const L=prompt("Date de fin du contrat (YYYY-MM-DD):"),U=prompt("Motif de résiliation:");if(L&&U)try{await w.mutateAsync({id:E.id,endDate:L,reason:U})}catch(I){console.error("Erreur lors de la résiliation:",I)}},P=E=>{h(E),y(!0)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Gestion des Contrats"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Gérez les contrats de travail des employés"})]}),e("contracts.create")&&s.jsxs("button",{onClick:()=>m(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 flex items-center space-x-2",children:[s.jsx($e,{className:"h-4 w-4"}),s.jsx("span",{children:"Nouveau Contrat"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Ue,{className:"h-8 w-8 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Contrats"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:N.length})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Je,{className:"h-8 w-8 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"CDI"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:N.filter(E=>E.contractType==="CDI").length})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(_e,{className:"h-8 w-8 text-yellow-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"CDD"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:N.filter(E=>E.contractType==="CDD").length})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(mt,{className:"h-8 w-8 text-purple-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Masse Salariale"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",notation:"compact"}).format(N.reduce((E,L)=>E+L.baseSalary,0))})]})]})})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(At,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:"Rechercher un contrat...",value:a,onChange:E=>i(E.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),s.jsxs("select",{value:l,onChange:E=>o(E.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[s.jsx("option",{value:"",children:"Tous les types"}),Object.entries(WZ).map(([E,L])=>s.jsx("option",{value:E,children:L},E))]}),s.jsxs("select",{value:c,onChange:E=>u(E.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[s.jsx("option",{value:"",children:"Tous les statuts"}),s.jsx("option",{value:"active",children:"Actifs"}),s.jsx("option",{value:"inactive",children:"Inactifs"})]})]})}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Employé"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Type de contrat"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Période"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Salaire de base"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Heures/semaine"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:N.map(E=>{var L;return s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:s.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-300 dark:bg-gray-600 flex items-center justify-center",children:s.jsx(Ve,{className:"h-4 w-4 text-gray-600 dark:text-gray-300"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[E.employee.firstName," ",E.employee.lastName]}),s.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[E.employee.position," - ",(L=E.employee.service)==null?void 0:L.name]})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${E.contractType==="CDI"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":E.contractType==="CDD"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":E.contractType==="STAGE"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"}`,children:E.contractType})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:s.jsxs("div",{children:[s.jsxs("div",{children:["Début: ",new Date(E.startDate).toLocaleDateString()]}),E.endDate&&s.jsxs("div",{children:["Fin: ",new Date(E.endDate).toLocaleDateString()]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(E.baseSalary)}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:[E.workingHours,"h"]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${E.isActive?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:E.isActive?"Actif":"Inactif"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e("contracts.read")&&s.jsx("button",{onClick:()=>P(E),className:"text-purple-600 hover:text-purple-900 dark:text-purple-400 dark:hover:text-purple-300",title:"Imprimer contrat",children:s.jsx(qi,{className:"h-4 w-4"})}),s.jsx("button",{className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",title:"Voir détails",children:s.jsx(kt,{className:"h-4 w-4"})}),e("contracts.update")&&s.jsx("button",{className:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300",title:"Modifier",children:s.jsx(Kt,{className:"h-4 w-4"})}),e("contracts.update")&&E.isActive&&s.jsx("button",{onClick:()=>A(E),className:"text-orange-600 hover:text-orange-900 dark:text-orange-400 dark:hover:text-orange-300",title:"Résilier",children:s.jsx(_e,{className:"h-4 w-4"})}),e("contracts.delete")&&!E.isActive&&s.jsx("button",{onClick:()=>S(E),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",title:"Supprimer",children:s.jsx(Tt,{className:"h-4 w-4"})})]})})]},E.id)})})]}),k&&k.totalPages>1&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 px-4 py-3 flex items-center justify-between border-t border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>n(r-1),disabled:r===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50",children:"Précédent"}),s.jsx("button",{onClick:()=>n(r+1),disabled:r===k.totalPages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50",children:"Suivant"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Affichage de"," ",s.jsx("span",{className:"font-medium",children:(r-1)*10+1})," ","à"," ",s.jsx("span",{className:"font-medium",children:Math.min(r*10,k.total)})," ","sur"," ",s.jsx("span",{className:"font-medium",children:k.total})," ","résultats"]})}),s.jsx("div",{children:s.jsx("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:Array.from({length:k.totalPages},(E,L)=>L+1).map(E=>s.jsx("button",{onClick:()=>n(E),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${E===r?"z-10 bg-blue-50 border-blue-500 text-blue-600 dark:bg-blue-900 dark:border-blue-400 dark:text-blue-300":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400 dark:hover:bg-gray-600"}`,children:E},E))})})]})]})]}),s.jsx(VZ,{isOpen:d,onClose:()=>m(!1)}),p&&f&&s.jsx(HZ,{contract:f,onClose:()=>y(!1)})]})},GZ=oe("prospects"),YZ=ze({companyName:B().min(1,"Nom de l'entreprise requis"),contactName:B().min(1,"Nom du contact requis"),position:B().optional(),email:B().email("Email invalide").optional().or(nl("")),phone:B().optional(),address:B().optional(),website:B().url("URL invalide").optional().or(nl("")),industry:B().optional(),companySize:fr(["1-10","11-50","51-200","201-1000","1000+"]).optional(),estimatedValue:J().min(0).optional(),priority:fr(["A","B","C"]).default("B"),source:B().optional(),notes:B().optional(),hasBudget:Xd().default(!1),isDecisionMaker:Xd().default(!1),hasNeed:Xd().default(!1),timeline:B().optional()}),XZ=({isOpen:e,onClose:t})=>{const r=Ne(),[n,a]=j.useState(!1),{register:i,handleSubmit:l,formState:{errors:o},reset:c,watch:u,setValue:d}=gt({resolver:vt(YZ),defaultValues:{priority:"B",hasBudget:!1,isDecisionMaker:!1,hasNeed:!1}}),m=u("priority"),f=u("hasBudget"),h=u("isDecisionMaker"),p=u("hasNeed"),y=be({mutationFn:v=>GZ.create(v),onSuccess:()=>{r.invalidateQueries({queryKey:["prospects"]}),c(),t()}}),b=async v=>{a(!0);try{await y.mutateAsync(v)}catch(g){console.error("Erreur lors de la création:",g)}finally{a(!1)}};return Ee.useEffect(()=>{const v=[f,h,p].filter(Boolean).length;let g="C";v>=3?g="A":v>=2&&(g="B"),m!==g&&d("priority",g)},[f,h,p,m,d]),e?s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-screen overflow-y-auto",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(_n,{className:"h-5 w-5 mr-2"}),"Ajouter un Prospect"]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx(ot,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:l(b),className:"px-6 py-4 space-y-6",children:[s.jsxs("div",{className:"border-b pb-4",children:[s.jsxs("h4",{className:"text-md font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(Xa,{className:"h-4 w-4 mr-2"}),"Informations Entreprise"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom de l'entreprise"}),s.jsx("input",{...i("companyName"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"ACME Corporation"}),o.companyName&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.companyName.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Secteur d'activité"}),s.jsx("input",{...i("industry"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Technologie, Finance, etc."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Taille de l'entreprise"}),s.jsxs("select",{...i("companySize"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Sélectionner"}),s.jsx("option",{value:"1-10",children:"1-10 employés"}),s.jsx("option",{value:"11-50",children:"11-50 employés"}),s.jsx("option",{value:"51-200",children:"51-200 employés"}),s.jsx("option",{value:"201-1000",children:"201-1000 employés"}),s.jsx("option",{value:"1000+",children:"1000+ employés"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Site web"}),s.jsx("input",{...i("website"),type:"url",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"https://exemple.com"}),o.website&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.website.message})]})]})]}),s.jsxs("div",{className:"border-b pb-4",children:[s.jsxs("h4",{className:"text-md font-medium text-gray-900 mb-4 flex items-center",children:[s.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Contact Principal"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom du contact"}),s.jsx("input",{...i("contactName"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Jean Dupont"}),o.contactName&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.contactName.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Poste/Fonction"}),s.jsx("input",{...i("position"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Directeur IT, CEO, etc."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(zo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{...i("email"),type:"email",className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"contact@exemple.com"})]}),o.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.email.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Téléphone"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{...i("phone"),type:"tel",className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"+225 07 07 07 07 07"})]})]})]})]}),s.jsxs("div",{className:"border-b pb-4",children:[s.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Qualification BANT"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{...i("hasBudget"),type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsxs("label",{className:"ml-2 block text-sm text-gray-900",children:[s.jsx("strong",{children:"Budget"})," : Le prospect a un budget défini"]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{...i("isDecisionMaker"),type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsxs("label",{className:"ml-2 block text-sm text-gray-900",children:[s.jsx("strong",{children:"Authority"})," : Contact est décideur ou influenceur"]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{...i("hasNeed"),type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsxs("label",{className:"ml-2 block text-sm text-gray-900",children:[s.jsx("strong",{children:"Need"})," : Besoin identifié et confirmé"]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Timeline"}),s.jsxs("select",{...i("timeline"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Sélectionner"}),s.jsx("option",{value:"immediate",children:"Immédiat (< 1 mois)"}),s.jsx("option",{value:"short",children:"Court terme (1-3 mois)"}),s.jsx("option",{value:"medium",children:"Moyen terme (3-6 mois)"}),s.jsx("option",{value:"long",children:"Long terme (> 6 mois)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valeur estimée (FCFA)"}),s.jsxs("div",{className:"relative",children:[s.jsx(mt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{...i("estimatedValue",{valueAsNumber:!0}),type:"number",min:"0",className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"1000000"})]})]})]})]}),s.jsxs("div",{className:"mt-4 bg-gray-50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Priorité calculée :"}),s.jsxs("span",{className:`inline-flex items-center px-3 py-1 text-sm font-semibold rounded-full ${m==="A"?"bg-red-100 text-red-800":m==="B"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:["Priorité ",m]})]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[m==="A"&&"Prospect chaud - À contacter en priorité",m==="B"&&"Prospect tiède - Suivi régulier",m==="C"&&"Prospect froid - Nurturing long terme"]})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source du prospect"}),s.jsxs("select",{...i("source"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Sélectionner"}),s.jsx("option",{value:"linkedin",children:"LinkedIn"}),s.jsx("option",{value:"website",children:"Site web"}),s.jsx("option",{value:"referral",children:"Recommandation"}),s.jsx("option",{value:"event",children:"Événement"}),s.jsx("option",{value:"cold-call",children:"Appel à froid"}),s.jsx("option",{value:"advertising",children:"Publicité"}),s.jsx("option",{value:"other",children:"Autre"})]})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adresse"}),s.jsxs("div",{className:"relative",children:[s.jsx(Jf,{className:"absolute left-3 top-3 text-gray-400 h-4 w-4"}),s.jsx("textarea",{...i("address"),rows:2,className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Adresse complète de l'entreprise"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes de qualification"}),s.jsx("textarea",{...i("notes"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Besoins identifiés, contexte, objections potentielles..."})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50",children:n?"Création...":"Ajouter le prospect"})]})]})]})}):null},ZZ=()=>s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("div",{className:"min-w-full p-6",children:[s.jsxs("div",{className:"flex flex-col items-center mb-8",children:[s.jsxs("div",{className:"bg-blue-100 border-2 border-blue-300 rounded-lg p-6 text-center max-w-md",children:[s.jsx(_n,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),s.jsx("h3",{className:"font-bold text-blue-900",children:"Phase 1 : Préparation"}),s.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Définition de la Cible &",s.jsx("br",{}),"Préparation des Outils"]})]}),s.jsx(Bn,{className:"h-6 w-6 text-gray-400 my-4"})]}),s.jsxs("div",{className:"flex flex-col items-center mb-8",children:[s.jsxs("div",{className:"bg-yellow-100 border-2 border-yellow-300 rounded-lg p-6 max-w-4xl",children:[s.jsx("h3",{className:"font-bold text-yellow-900 text-center mb-4",children:"Phase 2 : Recherche & Qualification"}),s.jsxs("div",{className:"flex items-center justify-center space-x-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(At,{className:"h-6 w-6 text-yellow-600 mx-auto mb-2"}),s.jsx("div",{className:"text-sm font-medium",children:"Identification"}),s.jsx("div",{className:"text-xs text-gray-600",children:"Création de la liste"})]}),s.jsx(Qw,{className:"h-4 w-4 text-gray-400"}),s.jsxs("div",{className:"text-center",children:[s.jsx(Ue,{className:"h-6 w-6 text-yellow-600 mx-auto mb-2"}),s.jsx("div",{className:"text-sm font-medium",children:"Qualification"}),s.jsx("div",{className:"text-xs text-gray-600",children:"Questions clés BANT"})]}),s.jsx(Qw,{className:"h-4 w-4 text-gray-400"}),s.jsxs("div",{className:"text-center",children:[s.jsx(_n,{className:"h-6 w-6 text-yellow-600 mx-auto mb-2"}),s.jsx("div",{className:"text-sm font-medium",children:"Priorisation"}),s.jsx("div",{className:"text-xs text-gray-600",children:"Score A-B-C"})]})]})]}),s.jsx(Bn,{className:"h-6 w-6 text-gray-400 my-4"})]}),s.jsxs("div",{className:"flex flex-col items-center mb-8",children:[s.jsxs("div",{className:"bg-purple-100 border-2 border-purple-300 rounded-lg p-6 text-center max-w-md",children:[s.jsx(Ws,{className:"h-8 w-8 text-purple-600 mx-auto mb-2"}),s.jsx("h3",{className:"font-bold text-purple-900",children:"Phase 3 : Prise de Contact"}),s.jsxs("p",{className:"text-sm text-purple-700 mt-1",children:["Email & Phoning",s.jsx("br",{}),s.jsx("strong",{children:"Objectif: Fixer un RDV"})]})]}),s.jsx(Bn,{className:"h-6 w-6 text-gray-400 my-4"})]}),s.jsxs("div",{className:"flex flex-col items-center mb-8",children:[s.jsx("div",{className:"bg-gray-100 border-2 border-gray-300 rounded-lg p-4 text-center",children:s.jsx("h3",{className:"font-bold text-gray-900",children:"Contact Réussi ?"})}),s.jsxs("div",{className:"flex items-center justify-center space-x-12 mt-6",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"bg-green-100 border border-green-300 rounded px-3 py-1 text-green-800 font-medium",children:"OUI"}),s.jsx(Bn,{className:"h-6 w-6 text-green-400 my-4"}),s.jsxs("div",{className:"bg-indigo-100 border-2 border-indigo-300 rounded-lg p-6 text-center max-w-md",children:[s.jsx(_e,{className:"h-8 w-8 text-indigo-600 mx-auto mb-2"}),s.jsx("h3",{className:"font-bold text-indigo-900",children:"Phase 4 : Entretien Découverte"}),s.jsxs("p",{className:"text-sm text-indigo-700 mt-1",children:["Écoute active & Diagnostic",s.jsx("br",{}),s.jsx("strong",{children:"Objectif: Comprendre le besoin"})]})]})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"bg-red-100 border border-red-300 rounded px-3 py-1 text-red-800 font-medium",children:"NON"}),s.jsx(Bn,{className:"h-6 w-6 text-red-400 my-4"}),s.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-lg p-4 text-center max-w-sm",children:[s.jsx(Ic,{className:"h-6 w-6 text-red-600 mx-auto mb-2"}),s.jsx("h4",{className:"font-medium text-red-900",children:"Retour en Phase 2"}),s.jsxs("p",{className:"text-xs text-red-700",children:["Nouvelle tentative plus tard",s.jsx("br",{}),"ou passage au prospect suivant"]})]})]})]})]}),s.jsxs("div",{className:"flex flex-col items-center mb-8",children:[s.jsx(Bn,{className:"h-6 w-6 text-gray-400 my-4"}),s.jsx("div",{className:"bg-gray-100 border-2 border-gray-300 rounded-lg p-4 text-center",children:s.jsx("h3",{className:"font-bold text-gray-900",children:"Besoin & Budget identifiés ?"})}),s.jsxs("div",{className:"flex items-center justify-center space-x-12 mt-6",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"bg-green-100 border border-green-300 rounded px-3 py-1 text-green-800 font-medium",children:"OUI"}),s.jsx(Bn,{className:"h-6 w-6 text-green-400 my-4"}),s.jsxs("div",{className:"bg-green-100 border-2 border-green-300 rounded-lg p-6 text-center max-w-md",children:[s.jsx(Ue,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),s.jsx("h3",{className:"font-bold text-green-900",children:"Phase 5 : Proposition & Conclusion"}),s.jsxs("p",{className:"text-sm text-green-700 mt-1",children:["Présentation de l'offre",s.jsx("br",{}),"Réponse aux objections",s.jsx("br",{}),s.jsx("strong",{children:"Objectif: Signature"})]})]})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"bg-red-100 border border-red-300 rounded px-3 py-1 text-red-800 font-medium",children:"NON"}),s.jsx(Bn,{className:"h-6 w-6 text-red-400 my-4"}),s.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-lg p-4 text-center max-w-sm",children:[s.jsx(Ic,{className:"h-6 w-6 text-red-600 mx-auto mb-2"}),s.jsx("h4",{className:"font-medium text-red-900",children:"Retour en Phase 4"}),s.jsxs("p",{className:"text-xs text-red-700",children:["Approfondir les questions",s.jsx("br",{}),"ou qualification en 'non-chaud'"]})]})]})]})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(Bn,{className:"h-6 w-6 text-gray-400 my-4"}),s.jsx("div",{className:"bg-gray-100 border-2 border-gray-300 rounded-lg p-4 text-center",children:s.jsx("h3",{className:"font-bold text-gray-900",children:"Conclusion ?"})}),s.jsxs("div",{className:"flex items-center justify-center space-x-12 mt-6",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"bg-green-100 border border-green-300 rounded px-3 py-1 text-green-800 font-medium",children:"SIGNATURE"}),s.jsx(Bn,{className:"h-6 w-6 text-green-400 my-4"}),s.jsxs("div",{className:"bg-green-200 border-2 border-green-400 rounded-lg p-6 text-center max-w-md",children:[s.jsx(qt,{className:"h-10 w-10 text-green-600 mx-auto mb-3"}),s.jsx("h3",{className:"font-bold text-green-900 text-lg",children:"🎉 Prospect converti en Client !"}),s.jsx("p",{className:"text-sm text-green-700 mt-2",children:"Transfert vers le processus de livraison"})]})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"bg-red-100 border border-red-300 rounded px-3 py-1 text-red-800 font-medium",children:"REFUS"}),s.jsx(Bn,{className:"h-6 w-6 text-red-400 my-4"}),s.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-lg p-4 text-center max-w-sm",children:[s.jsx(Ic,{className:"h-6 w-6 text-red-600 mx-auto mb-2"}),s.jsx("h4",{className:"font-medium text-red-900",children:"Retour en Phase 2"}),s.jsxs("p",{className:"text-xs text-red-700",children:["Analyse de l'échec",s.jsx("br",{}),"Nurturing pour plus tard"]})]})]})]})]}),s.jsxs("div",{className:"mt-12 bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Légende du Workflow"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-gray-800 mb-2",children:"Critères de Qualification BANT :"}),s.jsxs("ul",{className:"space-y-1 text-gray-600",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Budget"})," : Le prospect a-t-il les moyens ?"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Authority"})," : Parle-t-on au décideur ?"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Need"})," : Y a-t-il un besoin réel ?"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Timeline"})," : Quel est le timing ?"]})]})]}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-gray-800 mb-2",children:"Priorisation A-B-C :"}),s.jsxs("ul",{className:"space-y-1 text-gray-600",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"A (Chaud)"})," : Besoin urgent + budget confirmé"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"B (Tiède)"})," : Intérêt mais timing incertain"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"C (Froid)"})," : Veille ou nurturing long terme"]})]})]})]})]})]})}),OS=oe("prospects"),Dd=[{id:"preparation",name:"Préparation",description:"Définition de la cible & préparation des outils",color:"bg-blue-100 text-blue-800",icon:_n},{id:"research",name:"Recherche & Qualification",description:"Identification, qualification et priorisation",color:"bg-yellow-100 text-yellow-800",icon:At},{id:"contact",name:"Prise de Contact",description:"Email & phoning - Objectif: Fixer un RDV",color:"bg-purple-100 text-purple-800",icon:Ws},{id:"discovery",name:"Entretien Découverte",description:"Écoute active & diagnostic - Comprendre le besoin",color:"bg-indigo-100 text-indigo-800",icon:_e},{id:"proposal",name:"Proposition & Conclusion",description:"Présentation offre & réponse objections",color:"bg-green-100 text-green-800",icon:Ue},{id:"won",name:"Client Converti",description:"Prospect converti en client",color:"bg-green-100 text-green-800",icon:qt},{id:"lost",name:"Perdu/Nurturing",description:"Analyse échec & nurturing futur",color:"bg-red-100 text-red-800",icon:Pn}],JZ=()=>{var y,b,v;const{hasPermission:e}=Ze(),t=Ne(),[r,n]=j.useState("preparation"),[a,i]=j.useState(!1),[l,o]=j.useState(!0),{data:c,isLoading:u}=ve({queryKey:["prospects",r],queryFn:()=>OS.getAll({stage:r,limit:50})}),{data:d}=ve({queryKey:["prospection-stats"],queryFn:()=>OS.getAll({endpoint:"stats"})}),m=be({mutationFn:({id:g,newStage:x,notes:w})=>fetch(`/api/v1/prospects/${g}/move`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({stage:x,notes:w})}).then(N=>N.json()),onSuccess:()=>{t.invalidateQueries({queryKey:["prospects"]}),t.invalidateQueries({queryKey:["prospection-stats"]})}});if(u)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});const f=((y=c==null?void 0:c.data)==null?void 0:y.prospects)||[],h=(d==null?void 0:d.data)||{},p=async(g,x)=>{var N;const w=prompt(`Notes pour le passage à l'étape "${(N=Dd.find(k=>k.id===x))==null?void 0:N.name}" :`);if(w!==null)try{await m.mutateAsync({id:g.id,newStage:x,notes:w})}catch(k){console.error("Erreur lors du déplacement:",k)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Prospection Commerciale"}),s.jsx("p",{className:"text-gray-600",children:"Gérez votre pipeline de prospection étape par étape"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:()=>o(!l),className:"bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 flex items-center space-x-2",children:[s.jsx(Ka,{className:"h-4 w-4"}),s.jsxs("span",{children:[l?"Masquer":"Afficher"," Diagramme"]})]}),e("prospects.create")&&s.jsxs("button",{onClick:()=>i(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 flex items-center space-x-2",children:[s.jsx($e,{className:"h-4 w-4"}),s.jsx("span",{children:"Nouveau Prospect"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Xr,{className:"h-8 w-8 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Total Prospects"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:h.totalProspects||0})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(_n,{className:"h-8 w-8 text-yellow-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-500",children:"En Cours"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:h.activeProspects||0})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(qt,{className:"h-8 w-8 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Convertis"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:h.convertedProspects||0})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Ka,{className:"h-8 w-8 text-purple-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Taux Conversion"}),s.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[h.conversionRate||0,"%"]})]})]})})]}),l&&s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:"Diagramme du Processus"}),s.jsx(ZZ,{})]}),s.jsxs("div",{className:"bg-white shadow rounded-lg",children:[s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"-mb-px flex space-x-8 px-6",children:Dd.map(g=>{var k;const x=g.icon,w=r===g.id,N=((k=h.byStage)==null?void 0:k[g.id])||0;return s.jsxs("button",{onClick:()=>n(g.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${w?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(x,{className:"h-4 w-4"}),s.jsx("span",{children:g.name}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${g.color}`,children:N})]},g.id)})})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:(b=Dd.find(g=>g.id===r))==null?void 0:b.name}),s.jsx("p",{className:"text-gray-600",children:(v=Dd.find(g=>g.id===r))==null?void 0:v.description})]}),s.jsx("div",{className:"space-y-4",children:f.length>0?f.map(g=>s.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:g.companyName}),s.jsxs("p",{className:"text-sm text-gray-500",children:[g.contactName," - ",g.position]})]}),s.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${g.priority==="A"?"bg-red-100 text-red-800":g.priority==="B"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:["Priorité ",g.priority]})]}),s.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-sm text-gray-500",children:[s.jsxs("span",{children:["📧 ",g.email]}),s.jsxs("span",{children:["📞 ",g.phone]}),s.jsxs("span",{children:["💰 ",g.estimatedValue?`${g.estimatedValue.toLocaleString()} FCFA`:"N/A"]}),s.jsxs("span",{children:["📅 ",new Date(g.lastContact).toLocaleDateString()]})]}),g.notes&&s.jsxs("p",{className:"mt-2 text-sm text-gray-600 italic",children:['"',g.notes,'"']})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{className:"text-blue-600 hover:text-blue-900",title:"Voir détails",children:s.jsx(kt,{className:"h-4 w-4"})}),s.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",title:"Modifier",children:s.jsx(Kt,{className:"h-4 w-4"})}),r==="research"&&s.jsxs("button",{onClick:()=>p(g,"contact"),className:"bg-purple-600 text-white px-3 py-1 rounded text-xs hover:bg-purple-700 flex items-center",children:[s.jsx(Ws,{className:"h-3 w-3 mr-1"}),"Contacter"]}),r==="contact"&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>p(g,"discovery"),className:"bg-indigo-600 text-white px-3 py-1 rounded text-xs hover:bg-indigo-700 flex items-center",children:[s.jsx(_e,{className:"h-3 w-3 mr-1"}),"RDV Fixé"]}),s.jsx("button",{onClick:()=>p(g,"research"),className:"bg-gray-600 text-white px-3 py-1 rounded text-xs hover:bg-gray-700",children:"Rappeler +tard"})]}),r==="discovery"&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>p(g,"proposal"),className:"bg-green-600 text-white px-3 py-1 rounded text-xs hover:bg-green-700 flex items-center",children:[s.jsx(Ue,{className:"h-3 w-3 mr-1"}),"Proposer"]}),s.jsx("button",{onClick:()=>p(g,"lost"),className:"bg-red-600 text-white px-3 py-1 rounded text-xs hover:bg-red-700",children:"Non qualifié"})]}),r==="proposal"&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>p(g,"won"),className:"bg-green-600 text-white px-3 py-1 rounded text-xs hover:bg-green-700 flex items-center",children:[s.jsx(qt,{className:"h-3 w-3 mr-1"}),"Signé"]}),s.jsx("button",{onClick:()=>p(g,"lost"),className:"bg-red-600 text-white px-3 py-1 rounded text-xs hover:bg-red-700",children:"Refusé"})]})]})]})},g.id)):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(_n,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"Aucun prospect à cette étape"}),s.jsx("p",{className:"mt-2 text-sm text-gray-500",children:r==="preparation"?"Commencez par ajouter des prospects à qualifier":"Les prospects apparaîtront ici quand ils atteindront cette étape"})]})})]})]}),s.jsx(XZ,{isOpen:a,onClose:()=>i(!1)}),s.jsxs("div",{className:"bg-white shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Guide des Bonnes Pratiques"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"border border-blue-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx(_n,{className:"h-5 w-5 text-blue-600 mr-2"}),s.jsx("h4",{className:"font-medium text-blue-900",children:"Phase 1 : Préparation"})]}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[s.jsx("li",{children:"• Définir le profil client idéal (ICP)"}),s.jsx("li",{children:"• Préparer les outils (CRM, scripts, supports)"}),s.jsx("li",{children:"• Fixer les objectifs quantitatifs"})]})]}),s.jsxs("div",{className:"border border-yellow-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx(At,{className:"h-5 w-5 text-yellow-600 mr-2"}),s.jsx("h4",{className:"font-medium text-yellow-900",children:"Phase 2 : Recherche"})]}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[s.jsx("li",{children:"• Identifier les prospects (LinkedIn, annuaires)"}),s.jsx("li",{children:"• Qualifier : BANT (Budget, Authority, Need, Timeline)"}),s.jsx("li",{children:"• Prioriser : A (chaud), B (tiède), C (froid)"})]})]}),s.jsxs("div",{className:"border border-purple-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx(Ws,{className:"h-5 w-5 text-purple-600 mr-2"}),s.jsx("h4",{className:"font-medium text-purple-900",children:"Phase 3 : Contact"})]}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[s.jsx("li",{children:"• Email d'approche personnalisé"}),s.jsx("li",{children:"• Appel de suivi sous 48h"}),s.jsx("li",{children:"• Objectif : Fixer un RDV découverte"})]})]}),s.jsxs("div",{className:"border border-indigo-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx(_e,{className:"h-5 w-5 text-indigo-600 mr-2"}),s.jsx("h4",{className:"font-medium text-indigo-900",children:"Phase 4 : Découverte"})]}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[s.jsx("li",{children:"• Écoute active (80% écoute, 20% parole)"}),s.jsx("li",{children:"• Diagnostic des besoins et enjeux"}),s.jsx("li",{children:"• Qualification du budget et timing"})]})]}),s.jsxs("div",{className:"border border-green-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx(Ue,{className:"h-5 w-5 text-green-600 mr-2"}),s.jsx("h4",{className:"font-medium text-green-900",children:"Phase 5 : Proposition"})]}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[s.jsx("li",{children:"• Présentation solution adaptée"}),s.jsx("li",{children:"• Traitement des objections"}),s.jsx("li",{children:"• Techniques de closing"})]})]}),s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center mb-3",children:[s.jsx(Ka,{className:"h-5 w-5 text-gray-600 mr-2"}),s.jsx("h4",{className:"font-medium text-gray-900",children:"Suivi & Nurturing"})]}),s.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[s.jsx("li",{children:"• Relances programmées"}),s.jsx("li",{children:"• Contenu de valeur (newsletters)"}),s.jsx("li",{children:"• Maintien de la relation"})]})]})]})]})]})},eJ=oe("specialites"),tJ=ze({libelle:B().min(1,"Libellé requis"),description:B().optional()}),rJ=({isOpen:e,onClose:t})=>{const r=Ne(),[n,a]=j.useState(!1),{register:i,handleSubmit:l,formState:{errors:o},reset:c}=gt({resolver:vt(tJ)}),u=be({mutationFn:m=>eJ.create(m),onSuccess:()=>{r.invalidateQueries({queryKey:["specialites"]}),c(),t()}}),d=async m=>{a(!0);try{await u.mutateAsync(m)}catch(f){console.error("Erreur lors de la création:",f)}finally{a(!1)}};return e?s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(Za,{className:"h-5 w-5 mr-2"}),"Créer une Spécialité"]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx(ot,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:l(d),className:"px-6 py-4 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Libellé"}),s.jsx("input",{...i("libelle"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Électricité, Plomberie, etc."}),o.libelle&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.libelle.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ue,{className:"absolute left-3 top-3 text-gray-400 h-4 w-4"}),s.jsx("textarea",{...i("description"),rows:4,className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Description de la spécialité technique..."})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50",children:n?"Création...":"Créer la spécialité"})]})]})]})}):null},_S=oe("specialites"),nJ=()=>{var p;const{hasPermission:e}=Ze(),t=Ne(),[r,n]=j.useState(""),[a,i]=j.useState(!1),[l,o]=j.useState(null),{data:c,isLoading:u,error:d}=ve({queryKey:["specialites",r],queryFn:()=>_S.getAll({search:r})}),m=be({mutationFn:y=>_S.delete(y),onSuccess:()=>{t.invalidateQueries({queryKey:["specialites"]})}});if(u)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(d)return s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:"Erreur lors du chargement des spécialités"});const f=((p=c==null?void 0:c.data)==null?void 0:p.specialites)||[],h=async y=>{if(window.confirm(`Êtes-vous sûr de vouloir supprimer la spécialité ${y.libelle} ?`))try{await m.mutateAsync(y.id)}catch(b){console.error("Erreur lors de la suppression:",b)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Spécialités"}),s.jsx("p",{className:"text-gray-600",children:"Gérez les spécialités techniques de vos techniciens"})]}),e("specialites.create")&&s.jsxs("button",{onClick:()=>i(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 flex items-center space-x-2",children:[s.jsx($e,{className:"h-4 w-4"}),s.jsx("span",{children:"Nouvelle Spécialité"})]})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(At,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:"Rechercher une spécialité...",value:r,onChange:y=>n(y.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]})})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(y=>{var b;return s.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Za,{className:"h-8 w-8 text-blue-600"})}),s.jsxs("div",{className:"ml-4 flex-1",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:y.libelle}),y.description&&s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:y.description})]})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[s.jsx(Xr,{className:"h-4 w-4 mr-1"}),s.jsxs("span",{children:[((b=y._count)==null?void 0:b.techniciens)||0," techniciens"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[e("specialites.read")&&s.jsx("button",{onClick:()=>o(y),className:"text-blue-600 hover:text-blue-900",title:"Voir détails",children:s.jsx(kt,{className:"h-4 w-4"})}),e("specialites.update")&&s.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",title:"Modifier",children:s.jsx(Kt,{className:"h-4 w-4"})}),e("specialites.delete")&&s.jsx("button",{onClick:()=>h(y),className:"text-red-600 hover:text-red-900",title:"Supprimer",children:s.jsx(Tt,{className:"h-4 w-4"})})]})]})]})},y.id)})}),f.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Za,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"Aucune spécialité trouvée"}),s.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Commencez par créer des spécialités pour organiser vos techniciens."}),e("specialites.create")&&s.jsx("div",{className:"mt-6",children:s.jsx("button",{onClick:()=>i(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Créer une spécialité"})})]}),s.jsx(rJ,{isOpen:a,onClose:()=>i(!1)})]})},sJ=oe("techniciens"),aJ=oe("specialites"),iJ=oe("users"),lJ=ze({nom:B().min(1,"Nom requis"),prenom:B().min(1,"Prénom requis"),contact:B().min(1,"Contact requis"),specialiteId:J().min(1,"Spécialité requise"),utilisateurId:J().optional()}),oJ=({isOpen:e,onClose:t})=>{var y,b;const r=Ne(),[n,a]=j.useState(!1),{data:i}=ve({queryKey:["specialites"],queryFn:()=>aJ.getAll()}),{data:l}=ve({queryKey:["users-available"],queryFn:()=>iJ.getAll({role:"EMPLOYEE",hasNoTechnicien:!0})}),{register:o,handleSubmit:c,formState:{errors:u},reset:d}=gt({resolver:vt(lJ)}),m=be({mutationFn:v=>sJ.create(v),onSuccess:()=>{r.invalidateQueries({queryKey:["techniciens"]}),d(),t()}}),f=async v=>{a(!0);try{await m.mutateAsync(v)}catch(g){console.error("Erreur lors de la création:",g)}finally{a(!1)}};if(!e)return null;const h=((y=i==null?void 0:i.data)==null?void 0:y.specialites)||[],p=((b=l==null?void 0:l.data)==null?void 0:b.users)||[];return s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(Ve,{className:"h-5 w-5 mr-2"}),"Créer un Technicien"]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx(ot,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:c(f),className:"px-6 py-4 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prénom"}),s.jsx("input",{...o("prenom"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Prénom"}),u.prenom&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.prenom.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom"}),s.jsx("input",{...o("nom"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Nom"}),u.nom&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.nom.message})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ws,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{...o("contact"),type:"text",className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"+225 07 07 07 07 07"})]}),u.contact&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.contact.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Spécialité"}),s.jsxs("div",{className:"relative",children:[s.jsx(Za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsxs("select",{...o("specialiteId",{valueAsNumber:!0}),className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Sélectionner une spécialité"}),h.map(v=>s.jsx("option",{value:v.id,children:v.libelle},v.id))]})]}),u.specialiteId&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.specialiteId.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Compte utilisateur (optionnel)"}),s.jsxs("div",{className:"relative",children:[s.jsx(zo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsxs("select",{...o("utilisateurId",{valueAsNumber:!0}),className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Aucun compte associé"}),p.map(v=>s.jsxs("option",{value:v.id,children:[v.firstName," ",v.lastName," (",v.email,")"]},v.id))]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50",children:n?"Création...":"Créer le technicien"})]})]})]})})},TS=oe("techniciens"),cJ=()=>{var v,g;const{hasPermission:e}=Ze(),t=Ne(),[r,n]=j.useState(1),[a,i]=j.useState(""),[l,o]=j.useState(""),[c,u]=j.useState(!1),{data:d,isLoading:m,error:f}=ve({queryKey:["techniciens",r,a,l],queryFn:()=>TS.getAll({page:r,limit:10,search:a,specialiteId:l})}),h=be({mutationFn:x=>TS.delete(x),onSuccess:()=>{t.invalidateQueries({queryKey:["techniciens"]})}});if(m)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(f)return s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:"Erreur lors du chargement des techniciens"});const p=((v=d==null?void 0:d.data)==null?void 0:v.techniciens)||[],y=(g=d==null?void 0:d.data)==null?void 0:g.pagination,b=async x=>{if(window.confirm(`Êtes-vous sûr de vouloir supprimer le technicien ${x.prenom} ${x.nom} ?`))try{await h.mutateAsync(x.id)}catch(w){console.error("Erreur lors de la suppression:",w)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Techniciens"}),s.jsx("p",{className:"text-gray-600",children:"Gérez votre équipe technique et leurs spécialités"})]}),e("techniciens.create")&&s.jsxs("button",{onClick:()=>u(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 flex items-center space-x-2",children:[s.jsx($e,{className:"h-4 w-4"}),s.jsx("span",{children:"Nouveau Technicien"})]})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(At,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:"Rechercher un technicien...",value:a,onChange:x=>i(x.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("select",{value:l,onChange:x=>o(x.target.value),className:"px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Toutes les spécialités"}),s.jsx("option",{value:"1",children:"Électricité"}),s.jsx("option",{value:"2",children:"Plomberie"}),s.jsx("option",{value:"3",children:"Climatisation"}),s.jsx("option",{value:"4",children:"Informatique"})]})]})}),s.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Technicien"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Spécialité"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Compte utilisateur"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(x=>{var w;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx(Ve,{className:"h-5 w-5 text-blue-600"})})}),s.jsxs("div",{className:"ml-4",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[x.prenom," ",x.nom]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",x.id]})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:[s.jsx(Za,{className:"h-3 w-3 mr-1"}),(w=x.specialite)==null?void 0:w.libelle]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[s.jsx(Ws,{className:"h-4 w-4 mr-2 text-gray-400"}),x.contact]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:x.utilisateur?s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:x.utilisateur.email}),s.jsx("div",{className:"text-gray-500",children:x.utilisateur.role})]}):s.jsx("span",{className:"text-gray-400",children:"Aucun compte"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${x.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:x.isActive?"Actif":"Inactif"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e("techniciens.read")&&s.jsx("button",{className:"text-blue-600 hover:text-blue-900",title:"Voir détails",children:s.jsx(kt,{className:"h-4 w-4"})}),e("techniciens.update")&&s.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",title:"Modifier",children:s.jsx(Kt,{className:"h-4 w-4"})}),e("techniciens.delete")&&s.jsx("button",{onClick:()=>b(x),className:"text-red-600 hover:text-red-900",title:"Supprimer",children:s.jsx(Tt,{className:"h-4 w-4"})})]})})]},x.id)})})]}),y&&y.totalPages>1&&s.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>n(r-1),disabled:r===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Précédent"}),s.jsx("button",{onClick:()=>n(r+1),disabled:r===y.totalPages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Suivant"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Affichage de"," ",s.jsx("span",{className:"font-medium",children:(r-1)*10+1})," ","à"," ",s.jsx("span",{className:"font-medium",children:Math.min(r*10,y.total)})," ","sur"," ",s.jsx("span",{className:"font-medium",children:y.total})," ","résultats"]})}),s.jsx("div",{children:s.jsx("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:Array.from({length:y.totalPages},(x,w)=>w+1).map(x=>s.jsx("button",{onClick:()=>n(x),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${x===r?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:x},x))})})]})]})]}),s.jsx(oJ,{isOpen:c,onClose:()=>u(!1)})]})},uJ=oe("missions"),dJ=oe("customers"),mJ=ze({natureIntervention:B().min(1,"Nature d'intervention requise"),objectifDuContrat:B().min(1,"Objectif du contrat requis"),description:B().optional(),priorite:fr(["basse","normale","haute","urgente"]).default("normale"),dateSortieFicheIntervention:B().min(1,"Date de sortie requise"),clientId:J().min(1,"Client requis")}),fJ=({isOpen:e,onClose:t})=>{var h;const r=Ne(),[n,a]=j.useState(!1),{data:i}=ve({queryKey:["customers"],queryFn:()=>dJ.getAll({limit:100})}),{register:l,handleSubmit:o,formState:{errors:c},reset:u}=gt({resolver:vt(mJ),defaultValues:{priorite:"normale",dateSortieFicheIntervention:new Date().toISOString().split("T")[0]}}),d=be({mutationFn:p=>uJ.create(p),onSuccess:()=>{r.invalidateQueries({queryKey:["missions"]}),u(),t()}}),m=async p=>{a(!0);try{await d.mutateAsync(p)}catch(y){console.error("Erreur lors de la création:",y)}finally{a(!1)}};if(!e)return null;const f=((h=i==null?void 0:i.data)==null?void 0:h.customers)||[];return s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-screen overflow-y-auto",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(Ue,{className:"h-5 w-5 mr-2"}),"Créer une Mission"]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx(ot,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:o(m),className:"px-6 py-4 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ve,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsxs("select",{...l("clientId",{valueAsNumber:!0}),className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Sélectionner un client"}),f.map(p=>s.jsxs("option",{value:p.id,children:[p.name," (",p.customerNumber,")"]},p.id))]})]}),c.clientId&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.clientId.message})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nature de l'intervention"}),s.jsxs("select",{...l("natureIntervention"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Sélectionner"}),s.jsx("option",{value:"Installation",children:"Installation"}),s.jsx("option",{value:"Maintenance",children:"Maintenance"}),s.jsx("option",{value:"Réparation",children:"Réparation"}),s.jsx("option",{value:"Dépannage",children:"Dépannage"}),s.jsx("option",{value:"Contrôle",children:"Contrôle"}),s.jsx("option",{value:"Formation",children:"Formation"})]}),c.natureIntervention&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.natureIntervention.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priorité"}),s.jsxs("div",{className:"relative",children:[s.jsx(yo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsxs("select",{...l("priorite"),className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"basse",children:"Basse"}),s.jsx("option",{value:"normale",children:"Normale"}),s.jsx("option",{value:"haute",children:"Haute"}),s.jsx("option",{value:"urgente",children:"Urgente"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Objectif du contrat"}),s.jsxs("div",{className:"relative",children:[s.jsx(_n,{className:"absolute left-3 top-3 text-gray-400 h-4 w-4"}),s.jsx("textarea",{...l("objectifDuContrat"),rows:3,className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Objectif principal de cette mission..."})]}),c.objectifDuContrat&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.objectifDuContrat.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description détaillée"}),s.jsx("textarea",{...l("description"),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Description détaillée de la mission, contexte, contraintes..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date de sortie de la fiche d'intervention"}),s.jsxs("div",{className:"relative",children:[s.jsx(_e,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{...l("dateSortieFicheIntervention"),type:"date",className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),c.dateSortieFicheIntervention&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:c.dateSortieFicheIntervention.message})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50",children:n?"Création...":"Créer la mission"})]})]})]})})},DS=oe("missions"),A0={planifiee:{label:"Planifiée",color:"bg-yellow-100 text-yellow-800",icon:Je},en_cours:{label:"En cours",color:"bg-blue-100 text-blue-800",icon:yo},terminee:{label:"Terminée",color:"bg-green-100 text-green-800",icon:qt},annulee:{label:"Annulée",color:"bg-red-100 text-red-800",icon:Je}},C0={basse:{label:"Basse",color:"bg-gray-100 text-gray-800"},normale:{label:"Normale",color:"bg-blue-100 text-blue-800"},haute:{label:"Haute",color:"bg-orange-100 text-orange-800"},urgente:{label:"Urgente",color:"bg-red-100 text-red-800"}},hJ=()=>{var g,x;const{hasPermission:e}=Ze(),t=Ne(),[r,n]=j.useState(1),[a,i]=j.useState(""),[l,o]=j.useState(""),[c,u]=j.useState(""),[d,m]=j.useState(!1),{data:f,isLoading:h,error:p}=ve({queryKey:["missions",r,a,l,c],queryFn:()=>DS.getAll({page:r,limit:10,search:a,statut:l,priorite:c})}),y=be({mutationFn:w=>DS.delete(w),onSuccess:()=>{t.invalidateQueries({queryKey:["missions"]})}});if(h)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(p)return s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:"Erreur lors du chargement des missions"});const b=((g=f==null?void 0:f.data)==null?void 0:g.missions)||[];(x=f==null?void 0:f.data)==null||x.pagination;const v=async w=>{if(window.confirm(`Êtes-vous sûr de vouloir supprimer la mission ${w.numIntervention} ?`))try{await y.mutateAsync(w.numIntervention)}catch(N){console.error("Erreur lors de la suppression:",N)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Missions"}),s.jsx("p",{className:"text-gray-600",children:"Planifiez et suivez les missions techniques"})]}),e("missions.create")&&s.jsxs("button",{onClick:()=>m(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 flex items-center space-x-2",children:[s.jsx($e,{className:"h-4 w-4"}),s.jsx("span",{children:"Nouvelle Mission"})]})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(At,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:"Rechercher une mission...",value:a,onChange:w=>i(w.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("select",{value:l,onChange:w=>o(w.target.value),className:"px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Tous les statuts"}),Object.entries(A0).map(([w,N])=>s.jsx("option",{value:w,children:N.label},w))]}),s.jsxs("select",{value:c,onChange:w=>u(w.target.value),className:"px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Toutes les priorités"}),Object.entries(C0).map(([w,N])=>s.jsx("option",{value:w,children:N.label},w))]})]})}),s.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mission"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nature"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priorité"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(w=>{var A,P;const N=A0[w.statut]||A0.planifiee,k=C0[w.priorite]||C0.normale,S=N.icon;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:s.jsx(Ue,{className:"h-8 w-8 text-blue-600"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:w.numIntervention}),s.jsx("div",{className:"text-sm text-gray-500",children:w.objectifDuContrat})]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:(A=w.client)==null?void 0:A.name}),s.jsx("div",{className:"text-sm text-gray-500",children:(P=w.client)==null?void 0:P.customerNumber})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:w.natureIntervention}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${k.color}`,children:k.label})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${N.color}`,children:[s.jsx(S,{className:"h-3 w-3 mr-1"}),N.label]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(w.dateSortieFicheIntervention).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e("missions.read")&&s.jsx("button",{className:"text-blue-600 hover:text-blue-900",title:"Voir détails",children:s.jsx(kt,{className:"h-4 w-4"})}),e("interventions.read")&&s.jsx("button",{className:"text-purple-600 hover:text-purple-900",title:"Interventions",children:s.jsx(_e,{className:"h-4 w-4"})}),e("missions.update")&&s.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",title:"Modifier",children:s.jsx(Kt,{className:"h-4 w-4"})}),e("missions.delete")&&s.jsx("button",{onClick:()=>v(w),className:"text-red-600 hover:text-red-900",title:"Supprimer",children:s.jsx(Tt,{className:"h-4 w-4"})})]})})]},w.numIntervention)})})]})}),s.jsx(fJ,{isOpen:d,onClose:()=>m(!1)})]})},pJ=oe("materiels"),xJ=ze({reference:B().min(1,"Référence requise"),designation:B().min(1,"Désignation requise"),description:B().optional(),quantiteTotale:J().min(0,"Quantité invalide").default(0),quantiteDisponible:J().min(0,"Quantité invalide").default(0),seuilAlerte:J().min(0,"Seuil invalide").default(5),emplacement:B().optional(),categorie:B().default("Outillage"),prixUnitaire:J().min(0,"Prix invalide").optional(),fournisseur:B().optional(),dateAchat:B().optional(),garantie:B().optional()}),yJ=["Outillage","Électrique","Plomberie","Climatisation","Informatique","Sécurité","Véhicule","Consommable"],gJ=({isOpen:e,onClose:t})=>{const r=Ne(),[n,a]=j.useState(!1),{register:i,handleSubmit:l,formState:{errors:o},reset:c,watch:u}=gt({resolver:vt(xJ),defaultValues:{categorie:"Outillage",quantiteTotale:0,quantiteDisponible:0,seuilAlerte:5}}),d=u("quantiteTotale"),m=be({mutationFn:h=>pJ.create(h),onSuccess:()=>{r.invalidateQueries({queryKey:["materiels"]}),c(),t()}}),f=async h=>{a(!0);try{await m.mutateAsync(h)}catch(p){console.error("Erreur lors de la création:",p)}finally{a(!1)}};return e?s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-screen overflow-y-auto",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(dr,{className:"h-5 w-5 mr-2"}),"Créer du Matériel"]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx(ot,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:l(f),className:"px-6 py-4 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Référence"}),s.jsxs("div",{className:"relative",children:[s.jsx(m4,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{...i("reference"),type:"text",className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"MAT-001"})]}),o.reference&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.reference.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Catégorie"}),s.jsx("select",{...i("categorie"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:yJ.map(h=>s.jsx("option",{value:h,children:h},h))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Désignation"}),s.jsx("input",{...i("designation"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Perceuse électrique, Multimètre, etc."}),o.designation&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.designation.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{...i("description"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Description détaillée du matériel..."})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Gestion du Stock"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantité totale"}),s.jsx("input",{...i("quantiteTotale",{valueAsNumber:!0}),type:"number",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"}),o.quantiteTotale&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.quantiteTotale.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantité disponible"}),s.jsx("input",{...i("quantiteDisponible",{valueAsNumber:!0}),type:"number",min:"0",max:d||0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"}),o.quantiteDisponible&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.quantiteDisponible.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Seuil d'alerte"}),s.jsx("input",{...i("seuilAlerte",{valueAsNumber:!0}),type:"number",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Emplacement"}),s.jsxs("div",{className:"relative",children:[s.jsx(Jf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{...i("emplacement"),type:"text",className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Magasin A, Atelier B, etc."})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prix unitaire (FCFA)"}),s.jsxs("div",{className:"relative",children:[s.jsx(mt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{...i("prixUnitaire",{valueAsNumber:!0}),type:"number",min:"0",step:"0.01",className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fournisseur"}),s.jsx("input",{...i("fournisseur"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"Nom du fournisseur"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date d'achat"}),s.jsxs("div",{className:"relative",children:[s.jsx(_e,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{...i("dateAchat"),type:"date",className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Garantie"}),s.jsx("input",{...i("garantie"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",placeholder:"2 ans, 6 mois, etc."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50",children:n?"Création...":"Créer le matériel"})]})]})]})}):null},MS=oe("materiels"),IS={actif:{label:"Actif",color:"bg-green-100 text-green-800"},maintenance:{label:"En maintenance",color:"bg-yellow-100 text-yellow-800"},hors_service:{label:"Hors service",color:"bg-red-100 text-red-800"},retire:{label:"Retiré",color:"bg-gray-100 text-gray-800"}},vJ=()=>{var b,v;const{hasPermission:e}=Ze(),t=Ne(),[r,n]=j.useState(1),[a,i]=j.useState(""),[l,o]=j.useState(""),[c,u]=j.useState(!1),{data:d,isLoading:m,error:f}=ve({queryKey:["materiels",r,a,l],queryFn:()=>MS.getAll({page:r,limit:10,search:a,categorie:l})}),h=be({mutationFn:g=>MS.delete(g),onSuccess:()=>{t.invalidateQueries({queryKey:["materiels"]})}});if(m)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(f)return s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:"Erreur lors du chargement du matériel"});const p=((b=d==null?void 0:d.data)==null?void 0:b.materiels)||[];(v=d==null?void 0:d.data)==null||v.pagination;const y=async g=>{if(window.confirm(`Êtes-vous sûr de vouloir supprimer le matériel ${g.designation} ?`))try{await h.mutateAsync(g.id)}catch(x){console.error("Erreur lors de la suppression:",x)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion du Matériel"}),s.jsx("p",{className:"text-gray-600",children:"Gérez l'inventaire et les mouvements de matériel"})]}),e("materiels.create")&&s.jsxs("button",{onClick:()=>u(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 flex items-center space-x-2",children:[s.jsx($e,{className:"h-4 w-4"}),s.jsx("span",{children:"Nouveau Matériel"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(dr,{className:"h-8 w-8 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Total Articles"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:p.length})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Ka,{className:"h-8 w-8 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Disponible"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:p.reduce((g,x)=>g+x.quantiteDisponible,0)})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Jg,{className:"h-8 w-8 text-red-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-500",children:"En Sortie"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:p.reduce((g,x)=>g+(x.quantiteTotale-x.quantiteDisponible),0)})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Ya,{className:"h-8 w-8 text-orange-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Alertes Stock"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:p.filter(g=>g.quantiteDisponible<=g.seuilAlerte).length})]})]})})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(At,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:"Rechercher du matériel...",value:a,onChange:g=>i(g.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("select",{value:l,onChange:g=>o(g.target.value),className:"px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Toutes les catégories"}),s.jsx("option",{value:"Outillage",children:"Outillage"}),s.jsx("option",{value:"Électrique",children:"Électrique"}),s.jsx("option",{value:"Plomberie",children:"Plomberie"}),s.jsx("option",{value:"Climatisation",children:"Climatisation"}),s.jsx("option",{value:"Informatique",children:"Informatique"})]})]})}),s.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matériel"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Catégorie"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Emplacement"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prix unitaire"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(g=>{const x=g.quantiteDisponible<=g.seuilAlerte,w=IS[g.statut]||IS.actif;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:s.jsx("div",{className:"h-10 w-10 rounded-lg bg-gray-100 flex items-center justify-center",children:s.jsx(dr,{className:"h-5 w-5 text-gray-600"})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:g.designation}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Réf: ",g.reference]})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800",children:g.categorie})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-900",children:[s.jsxs("div",{className:`font-medium ${x?"text-red-600":""}`,children:[g.quantiteDisponible," / ",g.quantiteTotale]}),x&&s.jsxs("div",{className:"flex items-center text-xs text-red-500",children:[s.jsx(Ya,{className:"h-3 w-3 mr-1"}),"Stock faible"]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:g.emplacement||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:g.prixUnitaire?new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(g.prixUnitaire):"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${w.color}`,children:w.label})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e("materiels.read")&&s.jsx("button",{className:"text-blue-600 hover:text-blue-900",title:"Voir détails",children:s.jsx(kt,{className:"h-4 w-4"})}),e("materiels.update")&&s.jsx("button",{className:"text-indigo-600 hover:text-indigo-900",title:"Modifier",children:s.jsx(Kt,{className:"h-4 w-4"})}),e("materiels.delete")&&s.jsx("button",{onClick:()=>y(g),className:"text-red-600 hover:text-red-900",title:"Supprimer",children:s.jsx(Tt,{className:"h-4 w-4"})})]})})]},g.id)})})]})}),s.jsx(gJ,{isOpen:c,onClose:()=>u(!1)})]})},bJ=oe("interventions"),jJ=oe("missions"),wJ=oe("techniciens"),NJ=oe("materiels"),kJ=ze({technicienId:J().min(1,"Technicien requis"),role:fr(["Principal","Assistant"]).default("Principal"),commentaire:B().optional()}),SJ=ze({materielId:J().min(1,"Matériel requis"),quantite:J().min(1,"Quantité invalide"),commentaire:B().optional()}),AJ=ze({missionId:B().min(1,"Mission requise"),dateHeureDebut:B().min(1,"Date de début requise"),dateHeureFin:B().optional(),techniciens:ri(kJ).min(1,"Au moins un technicien requis"),materiels:ri(SJ).optional(),commentaire:B().optional()}),CJ=({isOpen:e,onClose:t,missionId:r})=>{var H,se,Y;const n=Ne(),[a,i]=j.useState(!1),[l,o]=j.useState(!1),{data:c}=ve({queryKey:["missions"],queryFn:()=>jJ.getAll({limit:100})}),{data:u}=ve({queryKey:["techniciens"],queryFn:()=>wJ.getAll({limit:100,isActive:!0})}),{data:d}=ve({queryKey:["materiels"],queryFn:()=>NJ.getAll({limit:100,statut:"actif"})}),{register:m,handleSubmit:f,formState:{errors:h},reset:p,control:y,watch:b,setValue:v}=gt({resolver:vt(AJ),defaultValues:{missionId:r,dateHeureDebut:new Date().toISOString().slice(0,16),techniciens:[{technicienId:0,role:"Principal",commentaire:""}],materiels:[]}}),{fields:g,append:x,remove:w}=Ja({control:y,name:"techniciens"}),{fields:N,append:k,remove:S}=Ja({control:y,name:"materiels"}),A=b("materiels"),P=b("dateHeureDebut"),C=b("dateHeureFin"),D=be({mutationFn:xe=>bJ.create(xe),onSuccess:()=>{n.invalidateQueries({queryKey:["interventions"]}),n.invalidateQueries({queryKey:["materiels"]}),p(),t()}}),E=async xe=>{i(!0);try{await D.mutateAsync(xe)}catch(fe){console.error("Erreur lors de la création:",fe)}finally{i(!1)}},L=()=>{if(P&&C){const xe=new Date(P),we=new Date(C).getTime()-xe.getTime(),rt=Math.round(we/(1e3*60));if(rt>0){const Dt=Math.floor(rt/60),K=rt%60;return`${Dt}h${K.toString().padStart(2,"0")}`}}return null},U=xe=>{const fe=V.find(we=>we.id===xe);return(fe==null?void 0:fe.quantiteDisponible)||0},I=(xe,fe)=>U(xe)>=fe,q=()=>{const xe=A==null?void 0:A.some(fe=>fe.materielId&&!I(fe.materielId,fe.quantite||0));o(!xe)};if(!e)return null;const T=((H=c==null?void 0:c.data)==null?void 0:H.missions)||[],M=((se=u==null?void 0:u.data)==null?void 0:se.techniciens)||[],V=((Y=d==null?void 0:d.data)==null?void 0:Y.materiels)||[];return s.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-screen overflow-y-auto",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-700 flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-medium text-white flex items-center",children:[s.jsx(_e,{className:"h-5 w-5 mr-2"}),"Nouvelle Intervention"]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-300",children:s.jsx(ot,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:f(E),className:"px-6 py-4 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Mission *"}),s.jsxs("select",{...m("missionId"),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500",disabled:!!r,children:[s.jsx("option",{value:"",children:"Sélectionner une mission"}),T.map(xe=>{var fe;return s.jsxs("option",{value:xe.numIntervention,children:[xe.numIntervention," - ",xe.objectifDuContrat," (",(fe=xe.client)==null?void 0:fe.name,")"]},xe.numIntervention)})]}),h.missionId&&s.jsx("p",{className:"mt-1 text-sm text-red-400",children:h.missionId.message})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Date et Heure de Début *"}),s.jsx("input",{...m("dateHeureDebut"),type:"datetime-local",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"}),h.dateHeureDebut&&s.jsx("p",{className:"mt-1 text-sm text-red-400",children:h.dateHeureDebut.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Date et Heure de Fin"}),s.jsx("input",{...m("dateHeureFin"),type:"datetime-local",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]})]}),L()&&s.jsx("div",{className:"bg-blue-900 border border-blue-700 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Je,{className:"h-5 w-5 text-blue-400 mr-2"}),s.jsxs("span",{className:"text-sm font-medium text-blue-300",children:["Durée calculée: ",L()]})]})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Techniciens assignés"}),s.jsxs("button",{type:"button",onClick:()=>x({technicienId:0,role:"Assistant",commentaire:""}),className:"bg-blue-600 text-white px-3 py-1 rounded-md text-sm hover:bg-blue-700 flex items-center",children:[s.jsx($e,{className:"h-4 w-4 mr-1"}),"Ajouter Technicien"]})]}),s.jsx("div",{className:"space-y-3",children:g.map((xe,fe)=>s.jsxs("div",{className:"bg-gray-700 border border-gray-600 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Technicien"}),g.length>1&&s.jsx("button",{type:"button",onClick:()=>w(fe),className:"bg-red-600 text-white px-2 py-1 rounded text-xs hover:bg-red-700",children:"Supprimer"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Technicien"}),s.jsxs("select",{...m(`techniciens.${fe}.technicienId`,{valueAsNumber:!0}),className:"w-full px-3 py-2 bg-gray-600 border border-gray-500 rounded text-white text-sm",children:[s.jsx("option",{value:"",children:"Sélectionner"}),M.map(we=>{var rt;return s.jsxs("option",{value:we.id,children:[we.prenom," ",we.nom," - ",(rt=we.specialite)==null?void 0:rt.libelle]},we.id)})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Rôle"}),s.jsxs("select",{...m(`techniciens.${fe}.role`),className:"w-full px-3 py-2 bg-gray-600 border border-gray-500 rounded text-white text-sm",children:[s.jsx("option",{value:"Principal",children:"Principal"}),s.jsx("option",{value:"Assistant",children:"Assistant"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Commentaire"}),s.jsx("input",{...m(`techniciens.${fe}.commentaire`),type:"text",placeholder:"Responsabilités...",className:"w-full px-3 py-2 bg-gray-600 border border-gray-500 rounded text-white text-sm"})]})]})]},xe.id))})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Matériel requis"}),s.jsxs("button",{type:"button",onClick:()=>k({materielId:0,quantite:1,commentaire:""}),className:"bg-green-600 text-white px-3 py-1 rounded-md text-sm hover:bg-green-700 flex items-center",children:[s.jsx($e,{className:"h-4 w-4 mr-1"}),"Ajouter du matériel"]})]}),s.jsx("div",{className:"space-y-3",children:N.map((xe,fe)=>{var G,je;const we=(G=A==null?void 0:A[fe])==null?void 0:G.materielId,rt=((je=A==null?void 0:A[fe])==null?void 0:je.quantite)||0,Dt=U(we),K=I(we,rt);return s.jsx("div",{className:"bg-gray-700 border border-gray-600 rounded-lg p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Matériel"}),s.jsxs("select",{...m(`materiels.${fe}.materielId`,{valueAsNumber:!0}),className:"w-full px-3 py-2 bg-gray-600 border border-gray-500 rounded text-white text-sm",children:[s.jsx("option",{value:"",children:"Sélectionner"}),V.map(Ae=>s.jsxs("option",{value:Ae.id,children:[Ae.designation," (",Ae.reference,") - Stock: ",Ae.quantiteDisponible]},Ae.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Quantité"}),s.jsx("input",{...m(`materiels.${fe}.quantite`,{valueAsNumber:!0}),type:"number",min:"1",className:`w-full px-3 py-2 border rounded text-white text-sm ${we&&!K?"bg-red-900 border-red-500":"bg-gray-600 border-gray-500"}`,defaultValue:1}),we&&s.jsx("div",{className:`text-xs mt-1 ${K?"text-green-400":"text-red-400"}`,children:K?`✓ Stock disponible: ${Dt}`:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ya,{className:"h-3 w-3 mr-1"}),"Stock insuffisant: ",Dt]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Commentaire"}),s.jsx("input",{...m(`materiels.${fe}.commentaire`),type:"text",placeholder:"Optionnel",className:"w-full px-3 py-2 bg-gray-600 border border-gray-500 rounded text-white text-sm"})]}),s.jsx("div",{className:"flex items-end",children:s.jsxs("button",{type:"button",onClick:()=>S(fe),className:"bg-red-600 text-white px-3 py-2 rounded text-sm hover:bg-red-700 flex items-center",children:[s.jsx(Tt,{className:"h-4 w-4"}),"Supprimer"]})})]})},xe.id)})})]}),N.length>0&&s.jsx("div",{className:"bg-gray-700 border border-gray-600 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${l?"bg-green-500":"bg-gray-500"}`}),s.jsx("span",{className:"text-sm text-gray-300",children:"Vérification de Disponibilité"})]}),s.jsx("button",{type:"button",onClick:q,className:"bg-green-600 text-white px-4 py-2 rounded-md text-sm hover:bg-green-700",children:"Vérification..."})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Commentaire"}),s.jsx("textarea",{...m("commentaire"),rows:3,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500",placeholder:"Instructions, objectifs spécifiques, contraintes..."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-700",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-600 rounded-md text-sm font-medium text-gray-300 hover:bg-gray-700",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:a||N.length>0&&!l,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50",children:a?"Création...":"Créer"})]})]})]})})},PJ=({isOpen:e,onClose:t,intervention:r})=>{var f,h,p,y,b,v,g,x,w,N,k,S,A,P;const{hasPermission:n}=Ze(),a=Ne(),[i,l]=j.useState("details");be({mutationFn:({technicienId:C,role:D,commentaire:E})=>fetch(`/api/v1/interventions/${r.id}/assign-technicien`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({technicienId:C,role:D,commentaire:E})}).then(L=>L.json()),onSuccess:()=>{a.invalidateQueries({queryKey:["interventions"]})}});const o=be({mutationFn:C=>fetch(`/api/v1/interventions/${r.id}/technicien/${C}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(D=>D.json()),onSuccess:()=>{a.invalidateQueries({queryKey:["interventions"]})}});if(!e||!r)return null;const c=C=>{if(!C)return"N/A";const D=Math.floor(C/60),E=C%60;return`${D}h${E.toString().padStart(2,"0")}`},u=async C=>{if(window.confirm("Êtes-vous sûr de vouloir retirer ce technicien de l'intervention ?"))try{await o.mutateAsync(C)}catch(D){console.error("Erreur lors du retrait:",D)}},d={planifiee:{label:"Planifiée",color:"bg-yellow-100 text-yellow-800"},en_cours:{label:"En cours",color:"bg-blue-100 text-blue-800"},terminee:{label:"Terminée",color:"bg-green-100 text-green-800"},annulee:{label:"Annulée",color:"bg-red-100 text-red-800"}},m=d[r.statut]||d.planifiee;return s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-screen overflow-y-auto",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx(_e,{className:"h-5 w-5 mr-2"}),"Intervention #",r.id]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Mission: ",(f=r.mission)==null?void 0:f.numIntervention," - ",(p=(h=r.mission)==null?void 0:h.client)==null?void 0:p.name]})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx(ot,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"-mb-px flex space-x-8 px-6",children:[{id:"details",label:"Détails",icon:Ue},{id:"techniciens",label:"Techniciens",icon:Xr},{id:"rapports",label:"Rapports",icon:Ue},{id:"materiel",label:"Matériel",icon:dr}].map(C=>{const D=C.icon;return s.jsxs("button",{onClick:()=>l(C.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${i===C.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(D,{className:"h-4 w-4"}),s.jsx("span",{children:C.label})]},C.id)})})}),s.jsxs("div",{className:"px-6 py-4",children:[i==="details"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Informations Générales"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Statut:"}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${m.color}`,children:m.label})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Début:"}),s.jsx("span",{className:"font-medium",children:new Date(r.dateHeureDebut).toLocaleString()})]}),r.dateHeureFin&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Fin:"}),s.jsx("span",{className:"font-medium",children:new Date(r.dateHeureFin).toLocaleString()})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Durée:"}),s.jsx("span",{className:"font-medium",children:c(r.duree)})]})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Mission Associée"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"N° Mission:"}),s.jsx("span",{className:"font-medium",children:(y=r.mission)==null?void 0:y.numIntervention})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Client:"}),s.jsx("span",{className:"font-medium",children:(v=(b=r.mission)==null?void 0:b.client)==null?void 0:v.name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Nature:"}),s.jsx("span",{className:"font-medium",children:(g=r.mission)==null?void 0:g.natureIntervention})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Priorité:"}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${((x=r.mission)==null?void 0:x.priorite)==="urgente"?"bg-red-100 text-red-800":((w=r.mission)==null?void 0:w.priorite)==="haute"?"bg-orange-100 text-orange-800":((N=r.mission)==null?void 0:N.priorite)==="normale"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:((k=r.mission)==null?void 0:k.priorite)||"normale"})]})]})]})]}),r.commentaire&&s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Commentaire"}),s.jsx("p",{className:"text-sm text-gray-700",children:r.commentaire})]})]}),i==="techniciens"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Techniciens Assignés"}),n("interventions.update")&&s.jsxs("button",{className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 flex items-center",children:[s.jsx($e,{className:"h-3 w-3 mr-1"}),"Assigner"]})]}),((S=r.techniciens)==null?void 0:S.length)>0?s.jsx("div",{className:"space-y-3",children:r.techniciens.map(C=>{var D;return s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx(Ve,{className:"h-5 w-5 text-blue-600"})})}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[C.technicien.prenom," ",C.technicien.nom]}),s.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[s.jsx(Za,{className:"h-3 w-3 mr-1"}),(D=C.technicien.specialite)==null?void 0:D.libelle]}),s.jsx("div",{className:"text-xs text-gray-400",children:C.technicien.contact})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C.role==="responsable"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:C.role==="responsable"?"Responsable":"Assistant"}),n("interventions.update")&&s.jsx("button",{onClick:()=>u(C.technicien.id),className:"text-red-600 hover:text-red-900",title:"Retirer",children:s.jsx(Tt,{className:"h-4 w-4"})})]})]}),C.commentaire&&s.jsx("div",{className:"mt-3 text-sm text-gray-600 bg-gray-50 rounded p-2",children:C.commentaire})]},C.id)})}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Xr,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Aucun technicien assigné"})]})]}),i==="rapports"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Rapports de Mission"}),n("rapports.create")&&s.jsxs("button",{className:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700 flex items-center",children:[s.jsx($e,{className:"h-3 w-3 mr-1"}),"Nouveau Rapport"]})]}),((A=r.rapports)==null?void 0:A.length)>0?s.jsx("div",{className:"space-y-3",children:r.rapports.map(C=>{var D,E;return s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.titre}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Par ",(D=C.technicien)==null?void 0:D.prenom," ",(E=C.technicien)==null?void 0:E.nom]}),s.jsx("div",{className:"text-xs text-gray-400",children:new Date(C.createdAt).toLocaleString()})]}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C.statut==="valide"?"bg-green-100 text-green-800":C.statut==="rejete"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:C.statut})]}),s.jsxs("div",{className:"mt-2 text-sm text-gray-700",children:[C.contenu.substring(0,150),C.contenu.length>150&&"..."]})]},C.id)})}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ue,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Aucun rapport créé"})]})]}),i==="materiel"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Matériel Utilisé"}),n("materiels.update")&&s.jsxs("button",{className:"bg-orange-600 text-white px-3 py-1 rounded text-sm hover:bg-orange-700 flex items-center",children:[s.jsx($e,{className:"h-3 w-3 mr-1"}),"Sortie Matériel"]})]}),((P=r.sortiesMateriels)==null?void 0:P.length)>0?s.jsx("div",{className:"space-y-3",children:r.sortiesMateriels.map(C=>{var D,E;return s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(dr,{className:"h-8 w-8 text-orange-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.materiel.designation}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Réf: ",C.materiel.reference]}),s.jsxs("div",{className:"text-xs text-gray-400",children:["Sorti par ",(D=C.technicien)==null?void 0:D.prenom," ",(E=C.technicien)==null?void 0:E.nom]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Qté: ",C.quantite]}),s.jsx("div",{className:"text-xs text-gray-500",children:new Date(C.dateSortie).toLocaleDateString()}),C.retourne&&s.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Retourné"})]})]}),C.motif&&s.jsxs("div",{className:"mt-2 text-sm text-gray-600 bg-gray-50 rounded p-2",children:[s.jsx("strong",{children:"Motif:"})," ",C.motif]})]},C.id)})}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(dr,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Aucun matériel utilisé"})]})]})]}),s.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[n("interventions.update")&&r.statut==="planifiee"&&s.jsxs("button",{className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 flex items-center space-x-2",children:[s.jsx(h4,{className:"h-4 w-4"}),s.jsx("span",{children:"Démarrer"})]}),n("interventions.update")&&r.statut==="en_cours"&&s.jsxs("button",{className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 flex items-center space-x-2",children:[s.jsx(Zg,{className:"h-4 w-4"}),s.jsx("span",{children:"Terminer"})]}),n("interventions.update")&&s.jsxs("button",{className:"bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700 flex items-center space-x-2",children:[s.jsx(Kt,{className:"h-4 w-4"}),s.jsx("span",{children:"Modifier"})]})]}),s.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Fermer"})]})]})})},EJ=oe("interventions"),OJ=oe("techniciens"),_J=oe("materiels"),TJ=ze({id:J().optional(),technicienId:J().min(1,"Technicien requis"),role:fr(["Principal","Assistant"]).default("Principal"),commentaire:B().optional()}),DJ=ze({id:J().optional(),materielId:J().min(1,"Matériel requis"),quantite:J().min(1,"Quantité invalide"),commentaire:B().optional()}),MJ=ze({dateHeureDebut:B().min(1,"Date de début requise"),dateHeureFin:B().optional(),techniciens:ri(TJ).min(1,"Au moins un technicien requis"),materiels:ri(DJ).optional(),commentaire:B().optional()}),IJ=({isOpen:e,onClose:t,intervention:r})=>{var M,V;const n=Ne(),[a,i]=j.useState(!1),[l,o]=j.useState(!1),{data:c}=ve({queryKey:["techniciens"],queryFn:()=>OJ.getAll({limit:100,isActive:!0})}),{data:u}=ve({queryKey:["materiels"],queryFn:()=>_J.getAll({limit:100,statut:"actif"})}),{register:d,handleSubmit:m,formState:{errors:f},reset:h,control:p,watch:y,setValue:b}=gt({resolver:vt(MJ),defaultValues:{dateHeureDebut:"",dateHeureFin:"",techniciens:[{technicienId:0,role:"Principal",commentaire:""}],materiels:[],commentaire:""}}),{fields:v,append:g,remove:x}=Ja({control:p,name:"techniciens"}),{fields:w,append:N,remove:k}=Ja({control:p,name:"materiels"}),S=y("materiels"),A=y("dateHeureDebut"),P=y("dateHeureFin");j.useEffect(()=>{var H,se;if(r){const Y=((H=r.techniciens)==null?void 0:H.map(fe=>{var we;return{technicienId:((we=fe.technicien)==null?void 0:we.id)||fe.technicienId||0,role:fe.role||"Principal",commentaire:fe.commentaire||""}}))||[{technicienId:0,role:"Principal",commentaire:""}],xe=((se=r.materiels)==null?void 0:se.map(fe=>{var we;return{materielId:((we=fe.materiel)==null?void 0:we.id)||fe.materielId||0,quantite:fe.quantite||1,commentaire:fe.commentaire||""}}))||[];h({dateHeureDebut:r.dateHeureDebut?new Date(r.dateHeureDebut).toISOString().slice(0,16):"",dateHeureFin:r.dateHeureFin?new Date(r.dateHeureFin).toISOString().slice(0,16):"",techniciens:Y,materiels:xe,commentaire:r.commentaire||""}),o(!0)}},[r,h]);const C=be({mutationFn:H=>EJ.update(r.id,H),onSuccess:()=>{n.invalidateQueries({queryKey:["interventions"]}),n.invalidateQueries({queryKey:["materiels"]}),h(),t()}}),D=async H=>{i(!0);try{await C.mutateAsync(H)}catch(se){console.error("Erreur lors de la modification:",se)}finally{i(!1)}},E=()=>{if(A&&P){const H=new Date(A),Y=new Date(P).getTime()-H.getTime(),xe=Math.round(Y/(1e3*60));if(xe>0){const fe=Math.floor(xe/60),we=xe%60;return`${fe}h${we.toString().padStart(2,"0")}`}}return null},L=H=>{const se=T.find(Y=>Y.id===H);return(se==null?void 0:se.quantiteDisponible)||0},U=(H,se)=>L(H)>=se,I=()=>{const H=S==null?void 0:S.some(se=>se.materielId&&!U(se.materielId,se.quantite||0));o(!H)};if(!e||!r)return null;const q=((M=c==null?void 0:c.data)==null?void 0:M.techniciens)||[],T=((V=u==null?void 0:u.data)==null?void 0:V.materiels)||[];return s.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-screen overflow-y-auto",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-700 flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-medium text-white flex items-center",children:[s.jsx(_e,{className:"h-5 w-5 mr-2"}),"Modifier l'Intervention #",r.id]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-300",children:s.jsx(ot,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:m(D),className:"px-6 py-4 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Date et Heure de Début *"}),s.jsx("input",{...d("dateHeureDebut"),type:"datetime-local",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"}),f.dateHeureDebut&&s.jsx("p",{className:"mt-1 text-sm text-red-400",children:f.dateHeureDebut.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Date et Heure de Fin"}),s.jsx("input",{...d("dateHeureFin"),type:"datetime-local",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500"})]})]}),E()&&s.jsx("div",{className:"bg-blue-900 border border-blue-700 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Je,{className:"h-5 w-5 text-blue-400 mr-2"}),s.jsxs("span",{className:"text-sm font-medium text-blue-300",children:["Durée calculée: ",E()]})]})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Techniciens assignés"}),s.jsxs("button",{type:"button",onClick:()=>g({technicienId:0,role:"Assistant",commentaire:""}),className:"bg-blue-600 text-white px-3 py-1 rounded-md text-sm hover:bg-blue-700 flex items-center",children:[s.jsx($e,{className:"h-4 w-4 mr-1"}),"Ajouter Technicien"]})]}),s.jsx("div",{className:"space-y-3",children:v.map((H,se)=>s.jsxs("div",{className:"bg-gray-700 border border-gray-600 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Technicien"}),v.length>1&&s.jsx("button",{type:"button",onClick:()=>x(se),className:"bg-red-600 text-white px-2 py-1 rounded text-xs hover:bg-red-700",children:"Supprimer"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Technicien"}),s.jsxs("select",{...d(`techniciens.${se}.technicienId`,{valueAsNumber:!0}),className:"w-full px-3 py-2 bg-gray-600 border border-gray-500 rounded text-white text-sm",children:[s.jsx("option",{value:"",children:"Sélectionner"}),q.map(Y=>{var xe;return s.jsxs("option",{value:Y.id,selected:H.technicienId===Y.id,children:[Y.prenom," ",Y.nom," - ",(xe=Y.specialite)==null?void 0:xe.libelle]},Y.id)})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Rôle"}),s.jsxs("select",{...d(`techniciens.${se}.role`),className:"w-full px-3 py-2 bg-gray-600 border border-gray-500 rounded text-white text-sm",children:[s.jsx("option",{value:"Principal",selected:H.role==="Principal",children:"Principal"}),s.jsx("option",{value:"Assistant",selected:H.role==="Assistant",children:"Assistant"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Commentaire"}),s.jsx("input",{...d(`techniciens.${se}.commentaire`),type:"text",placeholder:"Responsabilités...",className:"w-full px-3 py-2 bg-gray-600 border border-gray-500 rounded text-white text-sm",defaultValue:H.commentaire})]})]})]},H.id))})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Matériel requis"}),s.jsxs("button",{type:"button",onClick:()=>N({materielId:0,quantite:1,commentaire:""}),className:"bg-green-600 text-white px-3 py-1 rounded-md text-sm hover:bg-green-700 flex items-center",children:[s.jsx($e,{className:"h-4 w-4 mr-1"}),"Ajouter du matériel"]})]}),s.jsx("div",{className:"space-y-3",children:w.map((H,se)=>{var rt,Dt;const Y=((rt=S==null?void 0:S[se])==null?void 0:rt.materielId)||H.materielId,xe=((Dt=S==null?void 0:S[se])==null?void 0:Dt.quantite)||H.quantite||0,fe=L(Y||0),we=U(Y||0,xe);return s.jsx("div",{className:"bg-gray-700 border border-gray-600 rounded-lg p-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Matériel"}),s.jsxs("select",{...d(`materiels.${se}.materielId`,{valueAsNumber:!0}),className:"w-full px-3 py-2 bg-gray-600 border border-gray-500 rounded text-white text-sm",children:[s.jsx("option",{value:"",children:"Sélectionner"}),T.map(K=>s.jsxs("option",{value:K.id,selected:H.materielId===K.id,children:[K.designation," (",K.reference,") - Stock: ",K.quantiteDisponible]},K.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Quantité"}),s.jsx("input",{...d(`materiels.${se}.quantite`,{valueAsNumber:!0}),type:"number",min:"1",className:`w-full px-3 py-2 border rounded text-white text-sm ${Y&&!we?"bg-red-900 border-red-500":"bg-gray-600 border-gray-500"}`,defaultValue:H.quantite}),Y&&s.jsx("div",{className:`text-xs mt-1 ${we?"text-green-400":"text-red-400"}`,children:we?`✓ Stock disponible: ${fe}`:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ya,{className:"h-3 w-3 mr-1"}),"Stock insuffisant: ",fe]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Commentaire"}),s.jsx("input",{...d(`materiels.${se}.commentaire`),type:"text",placeholder:"Optionnel",className:"w-full px-3 py-2 bg-gray-600 border border-gray-500 rounded text-white text-sm",defaultValue:H.commentaire})]}),s.jsx("div",{className:"flex items-end",children:s.jsxs("button",{type:"button",onClick:()=>k(se),className:"bg-red-600 text-white px-3 py-2 rounded text-sm hover:bg-red-700 flex items-center",children:[s.jsx(Tt,{className:"h-4 w-4"}),"Supprimer"]})})]})},H.id)})})]}),w.length>0&&s.jsx("div",{className:"bg-gray-700 border border-gray-600 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${l?"bg-green-500":"bg-gray-500"}`}),s.jsx("span",{className:"text-sm text-gray-300",children:"Vérification de Disponibilité"})]}),s.jsx("button",{type:"button",onClick:I,className:"bg-green-600 text-white px-4 py-2 rounded-md text-sm hover:bg-green-700",children:"Vérifier le stock"})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Commentaire"}),s.jsx("textarea",{...d("commentaire"),rows:3,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:ring-blue-500 focus:border-blue-500",placeholder:"Instructions, objectifs spécifiques, contraintes..."})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-700",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-600 rounded-md text-sm font-medium text-gray-300 hover:bg-gray-700",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:a||w.length>0&&!l,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50",children:a?"Modification...":"Modifier"})]})]})]})})},RS=oe("interventions"),P0={planifiee:{label:"Planifiée",color:"bg-yellow-100 text-yellow-800",icon:Je},en_cours:{label:"En cours",color:"bg-blue-100 text-blue-800",icon:yo},terminee:{label:"Terminée",color:"bg-green-100 text-green-800",icon:qt},annulee:{label:"Annulée",color:"bg-red-100 text-red-800",icon:Zg}},RJ=()=>{var rt,Dt;const{hasPermission:e}=Ze(),t=Ne(),[r,n]=j.useState(1),[a,i]=j.useState(""),[l,o]=j.useState(""),[c,u]=j.useState(""),[d,m]=j.useState(!1),[f,h]=j.useState(!1),[p,y]=j.useState(!1),[b,v]=j.useState(!1),[g,x]=j.useState(!1),[w,N]=j.useState(!1),[k,S]=j.useState(null),{data:A,isLoading:P,error:C}=ve({queryKey:["interventions",r,a,l,c],queryFn:()=>RS.getAll({page:r,limit:10,search:a,statut:l,missionId:c})}),D=be({mutationFn:K=>fetch(`/api/v1/interventions/${K}/start`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(G=>G.json()),onSuccess:()=>{t.invalidateQueries({queryKey:["interventions"]})}}),E=be({mutationFn:({id:K,commentaire:G})=>fetch(`/api/v1/interventions/${K}/end`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({commentaire:G})}).then(je=>je.json()),onSuccess:()=>{t.invalidateQueries({queryKey:["interventions"]})}}),L=be({mutationFn:K=>RS.delete(K),onSuccess:()=>{t.invalidateQueries({queryKey:["interventions"]})}});if(P)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(C)return s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:"Erreur lors du chargement des interventions"});const U=((rt=A==null?void 0:A.data)==null?void 0:rt.interventions)||[],I=(Dt=A==null?void 0:A.data)==null?void 0:Dt.pagination,q=async K=>{try{await D.mutateAsync(K.id)}catch(G){console.error("Erreur lors du démarrage:",G)}},T=async K=>{const G=prompt("Commentaire de fin d'intervention (optionnel):");try{await E.mutateAsync({id:K.id,commentaire:G||void 0})}catch(je){console.error("Erreur lors de la fin:",je)}},M=async K=>{if(window.confirm(`Êtes-vous sûr de vouloir supprimer l'intervention ${K.id} ?`))try{await L.mutateAsync(K.id)}catch(G){console.error("Erreur lors de la suppression:",G)}},V=K=>{S(K),y(!0)},H=K=>{S(K),h(!0)},se=K=>{S(K),v(!0)},Y=K=>{S(K),x(!0)},xe=K=>{S(K),N(!0)},fe=K=>{if(!K)return"N/A";const G=Math.floor(K/60),je=K%60;return`${G}h${je.toString().padStart(2,"0")}`},we=()=>{m(!1),h(!1),y(!1),v(!1),x(!1),N(!1),S(null)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gestion des Interventions"}),s.jsx("p",{className:"text-gray-600",children:"Planifiez et suivez les interventions techniques"})]}),e("interventions.create")&&s.jsxs("button",{onClick:()=>m(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 flex items-center space-x-2",children:[s.jsx($e,{className:"h-4 w-4"}),s.jsx("span",{children:"Nouvelle Intervention"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(_e,{className:"h-8 w-8 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Total Interventions"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:U.length})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(yo,{className:"h-8 w-8 text-orange-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-500",children:"En Cours"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:U.filter(K=>K.statut==="en_cours").length})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(qt,{className:"h-8 w-8 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Terminées"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:U.filter(K=>K.statut==="terminee").length})]})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(fR,{className:"h-8 w-8 text-purple-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Temps Moyen"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:fe(U.filter(K=>K.duree).reduce((K,G)=>K+G.duree,0)/U.filter(K=>K.duree).length||0)})]})]})})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(At,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:"Rechercher une intervention...",value:a,onChange:K=>i(K.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("select",{value:l,onChange:K=>o(K.target.value),className:"px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",children:[s.jsx("option",{value:"",children:"Tous les statuts"}),Object.entries(P0).map(([K,G])=>s.jsx("option",{value:K,children:G.label},K))]}),s.jsx("input",{type:"text",placeholder:"N° Mission",value:c,onChange:K=>u(K.target.value),className:"px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]})}),s.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Intervention"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mission"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Techniciens"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Période"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Durée"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:U.map(K=>{const G=P0[K.statut]||P0.planifiee,je=G.icon;return s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:s.jsx(_e,{className:"h-8 w-8 text-blue-600"})}),s.jsxs("div",{className:"ml-3",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["Intervention #",K.id]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[K.commentaire&&K.commentaire.substring(0,50),K.commentaire&&K.commentaire.length>50&&"..."]})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:K.mission.numIntervention}),s.jsx("div",{className:"text-sm text-gray-500",children:K.mission.client.name}),s.jsx("div",{className:"text-xs text-gray-400",children:K.mission.natureIntervention})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Xr,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-900",children:K.techniciens.length}),K.techniciens.length>0&&s.jsxs("div",{className:"ml-2",children:[K.techniciens.slice(0,2).map((Ae,W)=>s.jsxs("span",{className:"inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800 mr-1",children:[Ae.technicien.prenom," ",Ae.technicien.nom]},W)),K.techniciens.length>2&&s.jsxs("span",{className:"text-xs text-gray-500",children:["+",K.techniciens.length-2]})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.jsxs("div",{children:[s.jsxs("div",{children:["Début: ",new Date(K.dateHeureDebut).toLocaleString()]}),K.dateHeureFin&&s.jsxs("div",{children:["Fin: ",new Date(K.dateHeureFin).toLocaleString()]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:fe(K.duree)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${G.color}`,children:[s.jsx(je,{className:"h-3 w-3 mr-1"}),G.label]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e("interventions.read")&&s.jsx("button",{onClick:()=>V(K),className:"text-blue-600 hover:text-blue-900",title:"Voir détails",children:s.jsx(kt,{className:"h-4 w-4"})}),e("interventions.update")&&K.statut==="planifiee"&&s.jsx("button",{onClick:()=>q(K),className:"text-green-600 hover:text-green-900",title:"Démarrer",children:s.jsx(h4,{className:"h-4 w-4"})}),e("interventions.update")&&K.statut==="en_cours"&&s.jsx("button",{onClick:()=>T(K),className:"text-red-600 hover:text-red-900",title:"Terminer",children:s.jsx(Zg,{className:"h-4 w-4"})}),e("rapports.create")&&s.jsx("button",{onClick:()=>Y(K),className:"text-purple-600 hover:text-purple-900",title:"Créer rapport",children:s.jsx(Ue,{className:"h-4 w-4"})}),e("materiels.update")&&s.jsx("button",{onClick:()=>xe(K),className:"text-orange-600 hover:text-orange-900",title:"Sortie matériel",children:s.jsx(dr,{className:"h-4 w-4"})}),e("interventions.update")&&s.jsx("button",{onClick:()=>H(K),className:"text-indigo-600 hover:text-indigo-900",title:"Modifier",children:s.jsx(Kt,{className:"h-4 w-4"})}),e("interventions.update")&&s.jsx("button",{onClick:()=>se(K),className:"text-teal-600 hover:text-teal-900",title:"Assigner technicien",children:s.jsx(Xr,{className:"h-4 w-4"})}),e("interventions.delete")&&K.statut==="planifiee"&&s.jsx("button",{onClick:()=>M(K),className:"text-red-600 hover:text-red-900",title:"Supprimer",children:s.jsx(Tt,{className:"h-4 w-4"})})]})})]},K.id)})})]}),I&&I.totalPages>1&&s.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>n(r-1),disabled:r===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Précédent"}),s.jsx("button",{onClick:()=>n(r+1),disabled:r===I.totalPages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Suivant"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700",children:["Affichage de"," ",s.jsx("span",{className:"font-medium",children:(r-1)*10+1})," ","à"," ",s.jsx("span",{className:"font-medium",children:Math.min(r*10,I.total)})," ","sur"," ",s.jsx("span",{className:"font-medium",children:I.total})," ","résultats"]})}),s.jsx("div",{children:s.jsx("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:Array.from({length:I.totalPages},(K,G)=>G+1).map(K=>s.jsx("button",{onClick:()=>n(K),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${K===r?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:K},K))})})]})]})]}),s.jsx(CJ,{isOpen:d,onClose:we}),s.jsx(IJ,{isOpen:f,onClose:we,intervention:k}),s.jsx(PJ,{isOpen:p,onClose:we,intervention:k})]})},E0=oe("reports"),FJ=()=>{var h,p,y,b,v,g,x,w;const{hasPermission:e}=Ze(),[t,r]=j.useState({startDate:new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),[n,a]=j.useState("sales"),{data:i,isLoading:l}=ve({queryKey:["reports","sales",t],queryFn:()=>E0.getAll({endpoint:"sales",startDate:t.startDate,endDate:t.endDate}),enabled:e("reports.sales")}),{data:o,isLoading:c}=ve({queryKey:["reports","financial",t],queryFn:()=>E0.getAll({endpoint:"financial",startDate:t.startDate,endDate:t.endDate}),enabled:e("reports.financial")}),{data:u,isLoading:d}=ve({queryKey:["reports","interventions",t],queryFn:()=>E0.getAll({endpoint:"interventions",startDate:t.startDate,endDate:t.endDate}),enabled:e("interventions.read")}),m=(N,k)=>{const S=window.open("","_blank");S&&(S.document.write(`
        <html>
          <head>
            <title>Rapport ${k==="sales"?"de Ventes":k==="financial"?"Financier":"Interventions"}</title>
            <style>
              body { font-family: Arial, sans-serif; margin: 20px; }
              .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #3B82F6; padding-bottom: 20px; }
              .logo { width: 60px; height: 60px; border-radius: 50%; margin: 0 auto 10px; }
              .section { margin-bottom: 20px; }
              .table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
              .table th, .table td { border: 1px solid #ddd; padding: 8px; text-align: left; }
              .table th { background-color: #f5f5f5; }
              .summary { background-color: #f9f9f9; padding: 15px; border-radius: 5px; }
              .kpi { display: inline-block; margin: 10px; padding: 15px; background: #f0f9ff; border-radius: 8px; text-align: center; }
              .kpi-value { font-size: 24px; font-weight: bold; color: #1e40af; }
              .kpi-label { font-size: 12px; color: #6b7280; }
            </style>
          </head>
          <body>
            <div class="header">
              <img src="/parrabellum.jpg" alt="Parabellum Groups" class="logo" />
              <h1>PARABELLUM GROUPS</h1>
              <h2>RAPPORT ${k.toUpperCase()}</h2>
              <p>Période: ${new Date(t.startDate).toLocaleDateString()} - ${new Date(t.endDate).toLocaleDateString()}</p>
            </div>
            <div class="summary">
              <h3>Résumé Exécutif</h3>
              <p>Rapport généré le ${new Date().toLocaleDateString()} à ${new Date().toLocaleTimeString()}</p>
            </div>
          </body>
        </html>
      `),S.document.close(),S.print())},f=(N,k)=>{const S=`data:text/csv;charset=utf-8,Type,Valeur,Date
`+((N==null?void 0:N.data)||[]).map(C=>`${C.name||C.type},${C.value||C.amount},${C.date||new Date().toISOString()}`).join(`
`),A=encodeURI(S),P=document.createElement("a");P.setAttribute("href",A),P.setAttribute("download",`rapport_${k}_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(P),P.click(),document.body.removeChild(P)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Rapports et Analyses"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Analysez les performances de votre entreprise"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"date",value:t.startDate,onChange:N=>r(k=>({...k,startDate:N.target.value})),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"}),s.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"à"}),s.jsx("input",{type:"date",value:t.endDate,onChange:N=>r(k=>({...k,endDate:N.target.value})),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(d4,{className:"h-5 w-5 text-gray-400"}),s.jsxs("select",{value:n,onChange:N=>a(N.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[s.jsx("option",{value:"sales",children:"Rapport de Ventes"}),s.jsx("option",{value:"financial",children:"Rapport Financier"}),s.jsx("option",{value:"interventions",children:"Rapport Interventions"}),s.jsx("option",{value:"hr",children:"Rapport RH"}),s.jsx("option",{value:"stock",children:"Rapport Stock"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[e("reports.sales")&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white flex items-center",children:[s.jsx(Zf,{className:"h-5 w-5 text-blue-500 mr-2"}),"Rapport de Ventes"]})}),s.jsx("div",{className:"p-6",children:l?s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-600 rounded w-3/4"}),s.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-600 rounded w-1/2"})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:((h=i==null?void 0:i.data)==null?void 0:h.totalSales)||0}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Ventes totales"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",notation:"compact"}).format(((p=i==null?void 0:i.data)==null?void 0:p.totalRevenue)||0)}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Chiffre d'affaires"})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{onClick:()=>m(i,"sales"),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[s.jsx(qi,{className:"h-4 w-4"}),s.jsx("span",{children:"Imprimer"})]}),s.jsxs("button",{onClick:()=>f(i,"sales"),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:[s.jsx(Ul,{className:"h-4 w-4"}),s.jsx("span",{children:"Exporter"})]})]})]})})]}),e("reports.financial")&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white flex items-center",children:[s.jsx(Ka,{className:"h-5 w-5 text-green-500 mr-2"}),"Rapport Financier"]})}),s.jsx("div",{className:"p-6",children:c?s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-600 rounded w-3/4"}),s.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-600 rounded w-1/2"})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",notation:"compact"}).format(((y=o==null?void 0:o.data)==null?void 0:y.revenue)||0)}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Revenus"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",notation:"compact"}).format(((b=o==null?void 0:o.data)==null?void 0:b.expenses)||0)}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Dépenses"})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{onClick:()=>m(o,"financial"),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[s.jsx(qi,{className:"h-4 w-4"}),s.jsx("span",{children:"Imprimer"})]}),s.jsxs("button",{onClick:()=>f(o,"financial"),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:[s.jsx(Ul,{className:"h-4 w-4"}),s.jsx("span",{children:"Exporter"})]})]})]})})]}),e("interventions.read")&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white flex items-center",children:[s.jsx(o4,{className:"h-5 w-5 text-purple-500 mr-2"}),"Rapport Interventions"]})}),s.jsx("div",{className:"p-6",children:d?s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-600 rounded w-3/4"}),s.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-600 rounded w-1/2"})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:((v=u==null?void 0:u.data)==null?void 0:v.totalInterventions)||0}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:((g=u==null?void 0:u.data)==null?void 0:g.completedInterventions)||0}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Terminées"})]})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{onClick:()=>m(u,"interventions"),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[s.jsx(qi,{className:"h-4 w-4"}),s.jsx("span",{children:"Imprimer"})]}),s.jsxs("button",{onClick:()=>f(u,"interventions"),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:[s.jsx(Ul,{className:"h-4 w-4"}),s.jsx("span",{children:"Exporter"})]})]})]})})]})]}),n==="sales"&&i&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-6",children:"Évolution des Ventes"}),s.jsx(Af,{data:((x=i.data)==null?void 0:x.monthlyData)||[],type:"line"})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-6",children:"Ventes par Produit"}),s.jsx(Af,{data:((w=i.data)==null?void 0:w.byProduct)||[],type:"pie"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Données Détaillées"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Élément"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Valeur"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Évolution"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Date"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:"Chiffre d'affaires"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(5e6)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 dark:text-green-400",children:"+12.5%"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:new Date().toLocaleDateString()})]})})]})})]})]})},LJ=oe("messages"),$J=oe("users"),BJ=ze({recipientId:J().min(1,"Destinataire requis"),subject:B().min(1,"Sujet requis"),content:B().min(1,"Contenu requis"),priority:fr(["low","normal","high","urgent"]).default("normal"),type:fr(["internal","external","system"]).default("internal")}),zJ=({isOpen:e,onClose:t,recipientId:r,replyTo:n})=>{var v;const a=Ne(),[i,l]=j.useState(!1),{data:o}=ve({queryKey:["users"],queryFn:()=>$J.getAll({limit:100})}),{register:c,handleSubmit:u,formState:{errors:d},reset:m,watch:f}=gt({resolver:vt(BJ),defaultValues:{recipientId:r,priority:"normal",type:"internal",subject:n?`Re: ${n.subject}`:"",content:n?`

--- Message original ---
${n.content}`:""}}),h=f("priority"),p=be({mutationFn:g=>LJ.create(g),onSuccess:()=>{a.invalidateQueries({queryKey:["messages"]}),m(),t()}}),y=async g=>{l(!0);try{await p.mutateAsync(g)}catch(x){console.error("Erreur lors de l'envoi:",x)}finally{l(!1)}};if(!e)return null;const b=((v=o==null?void 0:o.data)==null?void 0:v.users)||[];return s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-screen overflow-y-auto",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white flex items-center",children:[s.jsx(Om,{className:"h-5 w-5 mr-2"}),n?"Répondre au Message":"Nouveau Message"]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:s.jsx(ot,{className:"h-6 w-6"})})]}),s.jsxs("form",{onSubmit:u(y),className:"px-6 py-4 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Destinataire"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ve,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsxs("select",{...c("recipientId",{valueAsNumber:!0}),className:"pl-10 w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",disabled:!!r,children:[s.jsx("option",{value:"",children:"Sélectionner un destinataire"}),b.map(g=>{var x;return s.jsxs("option",{value:g.id,children:[g.firstName," ",g.lastName," (",g.email,") - ",(x=g.service)==null?void 0:x.name]},g.id)})]})]}),d.recipientId&&s.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:d.recipientId.message})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Sujet"}),s.jsx("input",{...c("subject"),type:"text",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Objet du message"}),d.subject&&s.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:d.subject.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Priorité"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ya,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsxs("select",{...c("priority"),className:"pl-10 w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[s.jsx("option",{value:"low",children:"Basse"}),s.jsx("option",{value:"normal",children:"Normale"}),s.jsx("option",{value:"high",children:"Haute"}),s.jsx("option",{value:"urgent",children:"Urgente"})]})]})]})]}),h==="urgent"&&s.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ya,{className:"h-5 w-5 text-red-600 dark:text-red-400 mr-2"}),s.jsx("span",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Message marqué comme urgent - Le destinataire recevra une notification immédiate"})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Type de message"}),s.jsxs("select",{...c("type"),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[s.jsx("option",{value:"internal",children:"Interne"}),s.jsx("option",{value:"external",children:"Externe"}),s.jsx("option",{value:"system",children:"Système"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Message"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ue,{className:"absolute left-3 top-3 text-gray-400 h-4 w-4"}),s.jsx("textarea",{...c("content"),rows:8,className:"pl-10 w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Tapez votre message ici..."})]}),d.content&&s.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:d.content.message})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Annuler"}),s.jsxs("button",{type:"submit",disabled:i,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50 flex items-center space-x-2",children:[s.jsx(eh,{className:"h-4 w-4"}),s.jsx("span",{children:i?"Envoi...":"Envoyer"})]})]})]})]})})},UJ=oe("messages"),FS={low:{label:"Basse",color:"bg-gray-100 text-gray-800"},normal:{label:"Normale",color:"bg-blue-100 text-blue-800"},high:{label:"Haute",color:"bg-orange-100 text-orange-800"},urgent:{label:"Urgente",color:"bg-red-100 text-red-800"}},LS={unread:{label:"Non lu",color:"bg-yellow-100 text-yellow-800",icon:Je},read:{label:"Lu",color:"bg-blue-100 text-blue-800",icon:kt},replied:{label:"Répondu",color:"bg-green-100 text-green-800",icon:x4},archived:{label:"Archivé",color:"bg-gray-100 text-gray-800",icon:c4}},qJ=()=>{var C,D,E,L,U;const{user:e,hasPermission:t}=Ze(),r=Ne(),[n,a]=j.useState(1),[i,l]=j.useState(""),[o,c]=j.useState(""),[u,d]=j.useState(""),[m,f]=j.useState(!1),[h,p]=j.useState(null),[y,b]=j.useState(!1),{data:v,isLoading:g,error:x}=ve({queryKey:["messages",n,i,o,u],queryFn:()=>UJ.getAll({page:n,limit:10,search:i,status:o,priority:u})}),w=be({mutationFn:I=>fetch(`/api/v1/messages/${I}/read`,{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(q=>q.json()),onSuccess:()=>{r.invalidateQueries({queryKey:["messages"]})}}),N=be({mutationFn:I=>fetch(`/api/v1/messages/${I}/archive`,{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(q=>q.json()),onSuccess:()=>{r.invalidateQueries({queryKey:["messages"]})}});if(g)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(x)return s.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-400 px-4 py-3 rounded",children:"Erreur lors du chargement des messages"});const k=((C=v==null?void 0:v.data)==null?void 0:C.messages)||[],S=(D=v==null?void 0:v.data)==null?void 0:D.pagination,A=I=>{p(I),b(!0),I.status==="unread"&&w.mutate(I.id)},P=async I=>{try{await N.mutateAsync(I.id)}catch(q){console.error("Erreur lors de l'archivage:",q)}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Messages"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Gérez vos communications internes et externes"})]}),t("messages.create")&&s.jsxs("button",{onClick:()=>f(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 flex items-center space-x-2",children:[s.jsx($e,{className:"h-4 w-4"}),s.jsx("span",{children:"Nouveau Message"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Om,{className:"h-8 w-8 text-blue-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Messages"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:k.length})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Je,{className:"h-8 w-8 text-yellow-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Non lus"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:k.filter(I=>I.status==="unread").length})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(x4,{className:"h-8 w-8 text-green-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Répondus"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:k.filter(I=>I.status==="replied").length})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Yw,{className:"h-8 w-8 text-purple-600"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Prioritaires"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:k.filter(I=>["high","urgent"].includes(I.priority)).length})]})]})})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(At,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx("input",{type:"text",placeholder:"Rechercher un message...",value:i,onChange:I=>l(I.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),s.jsxs("select",{value:o,onChange:I=>c(I.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[s.jsx("option",{value:"",children:"Tous les statuts"}),Object.entries(LS).map(([I,q])=>s.jsx("option",{value:I,children:q.label},I))]}),s.jsxs("select",{value:u,onChange:I=>d(I.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[s.jsx("option",{value:"",children:"Toutes les priorités"}),Object.entries(FS).map(([I,q])=>s.jsx("option",{value:I,children:q.label},I))]})]})}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg overflow-hidden",children:[s.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:k.map(I=>{var V,H,se,Y;const q=LS[I.status],T=FS[I.priority],M=(q==null?void 0:q.icon)||Je;return s.jsx("div",{className:`p-6 hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer transition-colors ${I.status==="unread"?"bg-blue-50 dark:bg-blue-900/20":""}`,onClick:()=>A(I),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 dark:bg-gray-600 flex items-center justify-center",children:s.jsx(Ve,{className:"h-5 w-5 text-gray-600 dark:text-gray-300"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("p",{className:`text-sm font-medium text-gray-900 dark:text-white ${I.status==="unread"?"font-bold":""}`,children:[(V=I.sender)==null?void 0:V.firstName," ",(H=I.sender)==null?void 0:H.lastName]}),s.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${T==null?void 0:T.color}`,children:T==null?void 0:T.label}),s.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${q==null?void 0:q.color}`,children:[s.jsx(M,{className:"h-3 w-3 mr-1"}),q==null?void 0:q.label]})]}),s.jsx("p",{className:`text-sm text-gray-900 dark:text-white mt-1 ${I.status==="unread"?"font-semibold":""}`,children:I.subject}),s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1 truncate",children:[(se=I.content)==null?void 0:se.substring(0,100),"..."]}),s.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-gray-500 dark:text-gray-400",children:[s.jsx("span",{children:new Date(I.createdAt).toLocaleString()}),((Y=I.attachments)==null?void 0:Y.length)>0&&s.jsxs("span",{className:"flex items-center",children:[s.jsx(Gw,{className:"h-3 w-3 mr-1"}),I.attachments.length," pièce(s) jointe(s)"]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:xe=>{xe.stopPropagation(),P(I)},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",title:"Archiver",children:s.jsx(c4,{className:"h-4 w-4"})}),s.jsx("button",{onClick:xe=>{xe.stopPropagation()},className:"text-gray-400 hover:text-yellow-500",title:"Marquer comme favori",children:s.jsx(Yw,{className:"h-4 w-4"})})]})]})},I.id)})}),S&&S.totalPages>1&&s.jsxs("div",{className:"bg-white dark:bg-gray-800 px-4 py-3 flex items-center justify-between border-t border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[s.jsx("button",{onClick:()=>a(n-1),disabled:n===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50",children:"Précédent"}),s.jsx("button",{onClick:()=>a(n+1),disabled:n===S.totalPages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 disabled:opacity-50",children:"Suivant"})]}),s.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Affichage de"," ",s.jsx("span",{className:"font-medium",children:(n-1)*10+1})," ","à"," ",s.jsx("span",{className:"font-medium",children:Math.min(n*10,S.total)})," ","sur"," ",s.jsx("span",{className:"font-medium",children:S.total})," ","résultats"]})}),s.jsx("div",{children:s.jsx("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:Array.from({length:S.totalPages},(I,q)=>q+1).map(I=>s.jsx("button",{onClick:()=>a(I),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${I===n?"z-10 bg-blue-50 border-blue-500 text-blue-600 dark:bg-blue-900 dark:border-blue-400 dark:text-blue-300":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400 dark:hover:bg-gray-600"}`,children:I},I))})})]})]})]}),k.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Om,{className:"mx-auto h-12 w-12 text-gray-400 dark:text-gray-500"}),s.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900 dark:text-white",children:"Aucun message"}),s.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Vous n'avez aucun message pour le moment."}),t("messages.create")&&s.jsx("div",{className:"mt-6",children:s.jsx("button",{onClick:()=>f(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Envoyer un message"})})]}),s.jsx(zJ,{isOpen:m,onClose:()=>f(!1)}),y&&h&&s.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-screen overflow-y-auto",children:[s.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:h.subject}),s.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:s.jsx(X,{className:"h-6 w-6"})})]}),s.jsxs("div",{className:"px-6 py-4",children:[s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500 dark:text-gray-400",children:[s.jsxs("span",{children:["De: ",(E=h.sender)==null?void 0:E.firstName," ",(L=h.sender)==null?void 0:L.lastName]}),s.jsx("span",{children:"•"}),s.jsx("span",{children:new Date(h.createdAt).toLocaleString()})]})}),s.jsx("div",{className:"prose dark:prose-invert max-w-none",children:s.jsx("p",{className:"text-gray-900 dark:text-white whitespace-pre-wrap",children:h.content})}),((U=h.attachments)==null?void 0:U.length)>0&&s.jsxs("div",{className:"mt-4 border-t border-gray-200 dark:border-gray-700 pt-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Pièces jointes:"}),s.jsx("div",{className:"space-y-2",children:h.attachments.map((I,q)=>s.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[s.jsx(Gw,{className:"h-4 w-4 text-gray-400"}),s.jsx("a",{href:I.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline",children:I.name})]},q))})]})]}),s.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-gray-700 flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Fermer"}),s.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700",children:"Répondre"})]})]})})]})},VJ=new ZD({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});function KJ(){return s.jsx(nM,{client:VJ,children:s.jsx(WI,{children:s.jsx(HI,{children:s.jsx(Xw,{children:s.jsx(OD,{children:s.jsxs(wD,{children:[s.jsx(We,{path:"/login",element:s.jsx(gF,{})}),s.jsxs(We,{path:"/*",element:s.jsx(ft,{children:s.jsx(jR,{})}),children:[s.jsx(We,{path:"dashboard",element:s.jsx(Xw,{fallback:s.jsxs("div",{className:"p-6 text-center",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Erreur Dashboard"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Le tableau de bord ne peut pas se charger."})]}),children:s.jsx(dX,{})})}),s.jsx(We,{path:"",element:s.jsx(km,{to:"/dashboard",replace:!0})}),s.jsx(We,{path:"customers",element:s.jsx(ft,{permission:"customers.read",children:s.jsx(xX,{})})}),s.jsx(We,{path:"quotes",element:s.jsx(ft,{permission:"quotes.read",children:s.jsx(_X,{})})}),s.jsx(We,{path:"invoices",element:s.jsx(ft,{permission:"invoices.read",children:s.jsx(LX,{})})}),s.jsx(We,{path:"payments",element:s.jsx(ft,{permission:"payments.read",children:s.jsx(KX,{})})}),s.jsx(We,{path:"products",element:s.jsx(ft,{permission:"products.read",children:s.jsx(XX,{})})}),s.jsx(We,{path:"expenses",element:s.jsx(ft,{permission:"expenses.read",children:s.jsx(rZ,{})})}),s.jsx(We,{path:"reports",element:s.jsx(ft,{permission:"reports.financial",children:s.jsx(FJ,{})})}),s.jsx(We,{path:"messages",element:s.jsx(ft,{permission:"messages.read",children:s.jsx(qJ,{})})}),s.jsx(We,{path:"hr/employees",element:s.jsx(ft,{permission:"employees.read",children:s.jsx(vZ,{})})}),s.jsx(We,{path:"hr/salaries",element:s.jsx(ft,{permission:"salaries.read",children:s.jsx(IZ,{})})}),s.jsx(We,{path:"hr/contracts",element:s.jsx(ft,{permission:"contracts.read",children:s.jsx(QZ,{})})}),s.jsx(We,{path:"hr/leaves",element:s.jsx(ft,{permission:"leaves.read",children:s.jsx(CZ,{})})}),s.jsx(We,{path:"hr/loans",element:s.jsx(ft,{permission:"loans.read",children:s.jsx(BZ,{})})}),s.jsx(We,{path:"commercial/prospection",element:s.jsx(ft,{permission:"prospects.read",children:s.jsx(JZ,{})})}),s.jsx(We,{path:"commercial/pipeline",element:s.jsx(ft,{permission:"quotes.read",children:s.jsx("div",{children:"Pipeline CRM (à implémenter)"})})}),s.jsx(We,{path:"services/specialites",element:s.jsx(ft,{permission:"specialites.read",children:s.jsx(nJ,{})})}),s.jsx(We,{path:"services/techniciens",element:s.jsx(ft,{permission:"techniciens.read",children:s.jsx(cJ,{})})}),s.jsx(We,{path:"services/missions",element:s.jsx(ft,{permission:"missions.read",children:s.jsx(hJ,{})})}),s.jsx(We,{path:"services/interventions",element:s.jsx(ft,{permission:"interventions.read",children:s.jsx(RJ,{})})}),s.jsx(We,{path:"services/materiel",element:s.jsx(ft,{permission:"materiels.read",children:s.jsx(vJ,{})})}),s.jsx(We,{path:"admin/users",element:s.jsx(ft,{permission:"users.read",children:s.jsx(oZ,{})})}),s.jsx(We,{path:"admin/services",element:s.jsx(ft,{permission:"admin.system_settings",children:s.jsx(mZ,{})})}),s.jsx(We,{path:"admin/permissions",element:s.jsx(ft,{permission:"users.manage_permissions",children:s.jsx(hZ,{})})})]}),s.jsx(We,{path:"*",element:s.jsx(km,{to:"/dashboard",replace:!0})})]})})})})})})}cC(document.getElementById("root")).render(s.jsx(j.StrictMode,{children:s.jsx(KJ,{})}));
